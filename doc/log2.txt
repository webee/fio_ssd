commit 811ac503a6196f13da22565eb165c278988da4da
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Mar 2 22:23:36 2012 +0100

    Compression fixes
    
    - memset() remainder of buffer instead of copying random segment.
      Provides more reliable compression (yes yes, you told me so).
    
    - Allow 100 as well, just means full memset. Make that just set
      zero_buffers=1 instead, since we only need to do it once
      instead of for every write.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9c42684e32325da26e862280388798343c5f1305
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Mar 2 21:02:12 2012 +0100

    Add buffer_compress_percentage
    
    The option is pending testing, so not documented yet.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 52ad4b94056b594b0fa1012467f944804a8241db
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Mar 1 16:07:46 2012 +0100

    linux: fallocate() fixes
    
    Enable posix_fallocate() for glibc >= 2.6 as before, but
    only enable fallocate() from 2.8 and up.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 25dfa848abbb6c35b4d45fabd5a8e82cb77fb285
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 29 10:01:34 2012 +0100

    Rename crc functions to private namespace
    
    Apparently we overlap with some gtk (?) crc32() functions, causing
    ours to be called and subsequently crashing since the arguments
    aren't the same.
    
    Move everything to a fio_ protected namespace.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 02efadeb8b05144bcf2fc7796e1da2e7db211d00
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 28 08:23:23 2012 +0100

    Fio 2.0.5
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 421f4a827c192e3e14bfe9973d79a2e4fa8d8792
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 28 08:20:26 2012 +0100

    Really fix IOPS logging
    
    Commit 9602d8df had a bug where it mistakenly stored
    the bytes last seen when doing an IOPS log entry, instead
    of the blocks last seen.
    
    Reported-by: Bill Hooper <whooper@micron.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c80540344b804094b84812d843c68e51ed947612
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 24 10:16:46 2012 +0100

    Fio 2.0.4
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 096151143a9bac51ebf6f266dcc3a70c19b1deb6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 24 08:26:57 2012 +0100

    Fix verify
    
    The hole commit from yesterday (d3a173a9) had a bug, where
    we would checksum too much.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c2cb68696255a8fda93043a1f2219b60af614549
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 23 20:56:12 2012 +0100

    client: exit if no jobs were sent and client is idle
    
    If we invoke the client without arguments, it gets the probe
    response and then waits for further response from the server.
    But if no command line or job files were sent, the server
    is idle. In that case, just quit.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ae38c0dcd570265aef09aa132ce27278d8909a1d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 23 10:31:07 2012 +0100

    verify: put all header verification in one place
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e4ad68b1364aebfe949e2d6a649c7b1001ebca07
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 23 08:35:04 2012 +0100

    Fix // comment
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d3a173a927084660c365d6aa162016ebb0746946
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 23 08:23:18 2012 +0100

    Remove holes in verify_header structure
    
    Shrink the magic and verify_type members, and reorder so that
    it packs nicely. Incompatible change, write workloads must be
    re-run.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e5b8f91cc6229a5f8b38f1338fad29c800fef179
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Feb 22 19:56:22 2012 +0000

    Implement sigaction for Windows.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3892182aff21486d9c38a346fe8681c9098ecb0c
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Feb 22 17:55:16 2012 +0000

    stat() doesn't work with devices on Windows, so move check for '\\.\' earlier.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a3e87103daa6b8eb274dce8409ebc87fe3a3595d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 22 20:29:42 2012 +0100

    Use crc32c for the verify_header checksum
    
    It's the only hardware assisted crypto we have, and it's
    widely available in any recent Intel CPU.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e3aaafc4e902a0f78b8ee4d4bc85f8edac6e09d2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 22 20:28:17 2012 +0100

    Auto-detect whether to use hw assisted crc32c
    
    Little point in separating the two. If the hardware assisted
    crypto is available, always use it.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f65d1c2663ac6007eac1a2063fe25b4275d013e4
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 22 20:11:57 2012 +0100

    Add checksum to verify_header
    
    Currently we don't know if the verify_header itself is
    valid when pulled off a disk. While it will fail verify
    if it is, fio might then confuse the 'expected' and
    'received' data since it re-generates the corrupted
    crc with the seed stored. But if the seed is corrupt,
    then we fail.
    
    So checksum the verify header, so that we know for a fact
    whether the header is valid or not.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8e8b225d177c8e824785a87a1116309049a27a7c
Author: Daniel Ehrenberg <dehrenberg@google.com>
Date:   Wed Feb 22 11:48:19 2012 +0100

    flow: Fixing uninitialized variable
    
    In the flow initialization code path, there was an uninitialized
    variable that led to memory corruption in certain cases. This
    patch should initialize the variable properly.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fc0b830f419bf64fff6fee91d1d3b9e94da11091
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 21:03:48 2012 +0100

    Fix tabbing and comment characters in Windows code.
    
    Update syslog.h with proper flag values.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 01bff3b891c164413b67f8d349ec7e8108d962e2
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 21:01:50 2012 +0100

    Remove unused Windows version.h and version.rc files.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9277ec144b7a2a852a72e2c4d3f0ff806ccd97aa
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 19:28:39 2012 +0000

    Add missing os/windows/posix.c file.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9602d8df781db46f78a25a02abc75de03a69b6a8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Feb 20 20:19:28 2012 +0100

    Fix IOPS logging for mixed read/write workloads
    
    Similar to commit 5daa4ebe, but for the IOPS logging.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 93bcfd20e37cef8cec350fe06d3a086724c9f257
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 20:18:19 2012 +0100

    Move Windows port to MinGW
    
    - Add calls to WSAStartup in the network code as required by
      Winsock.
    - Add Windows-specific init_random_state function which uses the
      Crypto API.
    - Move Windows port to MinGW and update build system to create a
      64-bit binary by default.
    - Install text files as .rtf so they won't open in Notepad by default
      (Wordpad understands Unix line endings; Notepad doesn't).
    - Simplify WiX installer code.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 16de1bf91ca80e62ce257a24cae471fab140bbe0
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 17:07:32 2012 +0000

    Add FIO_PREFERRED_CLOCK_SOURCE to allow selection of clock source on a per-platform basis.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b9fd788f0e8adacc33316107594e9eb0463743d7
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 17:01:46 2012 +0000

    Add OS_PATH_SEPARATOR for platforms which have different path separator characters (e.g. Windows and 'classic' MacOS).
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9e684a4976b7934f5ce011ea281dfef3352e5738
Author: Dan Ehrenberg <dehrenberg@google.com>
Date:   Mon Feb 20 11:05:14 2012 +0100

    Token-based flow control
    
    This patch allows two fio jobs to be kept to a certain
    proportion of each other using token-based flow control.
    There are three new parameters: flow, flow_watermark, and
    flow_sleep, documented in the fio options. An example of an fio
    job using these parameters is below:
    
    [global]
    norandommap
    thread
    time_based
    runtime=30
    direct=1
    ioengine=libaio
    iodepth=256
    size=100g
    bs=8k
    filename=/tmp/testfile
    flow_watermark=100
    flow_sleep=1000
    
    [job2]
    numjobs=1
    rw=write
    flow=-8
    
    [job1]
    numjobs=1
    rw=randread
    flow=1
    
    The motivating application of this patch was to allow random reads
    and sequential writes at a particular given proportion.
    
    This initial version is only correct when run with 'thread', as shared
    state is represented with a global variable. It also only allows two
    jobs to be synchronized properly. A future version might do more, but
    no more functionality was needed for my application.
    
    Tested: Ran a few fio jobs with this flow control, observing
    the proportion of IOPS to match what was intended by the job file.
    Varied the flow_watermark and flow_sleep parameters and observed
    the effect on throughput.
    
    Signed-off-by: Dan Ehrenberg <dehrenberg@google.com>
    
    Modified by me to support flow_id, so an arbitrary number of flows can
    be used. This means it no longer relies on global context, so it can be
    used from a thread or process alike. Also added man page documentation.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5daa4ebed724cb0223dac4a1386e068f59722dab
Author: Josh Carter <public@joshcarter.com>
Date:   Mon Feb 20 10:12:22 2012 +0100

    Fix bandwidth logging for mixed read/write workloads.
    
    fio was maintaining separate read/write stats, but only one timer for
    bw_avg_time. Whichever IO direction happened to cross the timer would
    get its interval logged; the other data direction would not. Now both
    ddir are logged each time we cross bw_avg_time.
    
    Where intervals don't contain any activity in a given ddir, no log
    entry is made.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e43606c2b13ad7fc1af2bbe4a61cf8480ee3a532
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 09:34:24 2012 +0100

    Fix assumption that pointers fits in a 'long'
    
    Windows uses LLP64 model so [u]intptr_t is more correct.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 78b269e358bb4be773879db797a41ec981e1d951
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Feb 20 09:21:45 2012 +0100

    Need glibc 2.8 or bigger for fallocate
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b11e4ccf7b3d24e8e1d0a779aa6735bbce85b291
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Feb 20 09:18:43 2012 +0100

    mutex: don't attempt to use CLOCK_MONOTONIC
    
    It's a bit of a mess. Some platforms don't have
    pthread_condattr_setclock(), some have it but it appears NOT to set
    the block correctly.
    
    Accept that we have to use the realtime clock for timed mutex and just
    don't touch the clock settings.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 649c10c59b016ae8586e54746d3761bc6df33c9b
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Feb 20 07:59:06 2012 +0100

    nice() error handling
    
    I've attached a patch which fixes a potential issue I noticed while
    reading the POSIX specs: nice() can succeed and return -1, so it's
    recommended to set errno to 0 and check it afterwards:
    
    "As -1 is a permissible return value in a successful situation, an
    application wishing to check for error situations should set errno to 0,
    then call nice(), and if it returns -1, check to see whether errno is
    non-zero."
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0209e1e5a24979172596cd1e249b32eaba78969f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 17 16:59:09 2012 +0100

    mac: doesn't have pthread_condattr_setclock()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 23a2a8e35df958d2f3ffd478accfd2ba09eecdf0
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 17 13:48:08 2012 +0100

    mutex: guard pthread_condattr_setclock() by defined "have ifdef"
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b4c1fb368f9863449e4c0312df845b58f8b67717
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 16 22:22:46 2012 +0100

    mutex: more clock fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ef6350576b1053b0491b17932dc29740d749ad4a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 22:24:19 2012 +0100

    Mutex timeout work-around
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 58a157d466c8e366234b4ee694f28be73e6e7702
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 22:20:26 2012 +0100

    Mutex fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 59dfce577869f0a6668d682ad06874b3398a4b93
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 21:52:39 2012 +0100

    Fixup includes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8c43656071208e1a14801b1ecfd0e4b0eadd6a4e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 19:40:57 2012 +0100

    Fix typo
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 71768568dc26de7ce31912e3a97305da8a7df36f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 17:30:35 2012 +0100

    Fix build issue for non-cgroup support
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4e87c37a06b96c4ed1f941eb91ec25e839c68d21
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 14:27:08 2012 +0100

    Fix grammatical error
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ceab2ea2745270254c01ca2bd0195144bd79e607
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 15 09:56:51 2012 +0100

    mutex: set and use the proper clock source
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d401b24d00244223f04ddeee0c563909ad7f4f31
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Feb 11 09:06:58 2012 +0100

    Revert "Change iolog overlap assert to a debug dump"
    
    Issued has been fixed, restore assert.
    
    This reverts commit 86f40280e27474c666fea75cc705caeaf94f6346.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d4e88b4694afec138b36114d350a0ba160e555ea
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Feb 11 09:06:36 2012 +0100

    Add job files for zone bug
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 13af05ae2ece4a277a2f95fd622d1717af538c20
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Feb 11 09:04:02 2012 +0100

    Only attempt zone switch if we have zones enabled
    
    Just an offset isn't enough.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 86f40280e27474c666fea75cc705caeaf94f6346
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 10 21:58:46 2012 +0100

    Change iolog overlap assert to a debug dump
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f1d64553c9dc0e99c038cf3a5f0cb2a50026e7d3
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 10 19:30:23 2012 +0100

    Slave aggregate output format fix
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 97b007ec1428ae434790d64cf528a9b101d1265d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 10 19:21:50 2012 +0100

    Fix missing ';' before slave disk utilization in terse output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cc62ea704e4de10eb595b551f29af41266cf225d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 21:17:06 2012 +0100

    Fix a few other static code checker spotted "issues"
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e721c57fc77e0155bb73a2c266dba0c6ce0bd3b5
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 20:55:29 2012 +0100

    Fixup a few items spotted by a static code checker
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a73468166ef0a85d489dcdc291229a3d9ad9cfc1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 15:02:39 2012 +0100

    Add gettime.h
    
    time.h is a mix of gettime.c and time.c
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a3efc919b0dcc27d65a6e84edca209b91cee173d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 11:25:24 2012 +0100

    Move variables to backend, fix up line spaces
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2e1df07d1ea30e0304cc65370f3ed161a6f22cd4
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 11:15:02 2012 +0100

    Move some code around to better separate front/backend
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 783a3eb15f143d26eed5fd1c943f238057f3ee52
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 9 10:27:10 2012 +0100

    Move gtod thread to gettime.c
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bcdf7c586610734ad617ffd4efeb0e56fe9ac440
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 8 14:19:27 2012 +0100

    Install man page in /usr/share/man by default on OSX
    
    Other packages apparently do this, and /usr/local/man isn't
    in the default OSX man path.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2f2c69242ba72508fb5429d12e1fd72c3cc1e76c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 7 16:42:43 2012 +0100

    stat: fix typo
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 19d3e967ff31c055c1497dd67f4d7305ec1607f4
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 7 12:27:28 2012 +0100

    stat: NaN fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6b1190fdf64da94a5d6b22439fa31825160f8734
Author: Steven Lang <tirea@google.com>
Date:   Tue Feb 7 09:42:59 2012 +0100

    Enable completion latency stat collection on verify
    
    A patch last year
    (http://git.kernel.dk/?p=fio.git;a=commit;f=io_u.c;h=c8eeb9df1f52f28567a5937e141decc6a26ec30b)
    changed the behavior of verify loads so they stopped printing
    completion latency stats.  (A verify load in this case includes both
    rw=*write with verify and do_verify=1 and rw=*read with verify.)
    
    Is there any particular reason that an io_u which is going to be
    verified shouldn't have its latency statistics recorded?
    
    This patch re-enables the clat recording.
    
    An example demonstrating the issue here:
    
    $ ./fio --name=test --size=1m --bs=4k --verify=meta --rw=write
    test: (g=0): rw=write, bs=4K-4K/4K-4K, ioengine=sync, iodepth=1
    fio 2.0.2
    Starting 1 process
    test: Laying out IO file(s) (1 file(s) / 1MB)
    
    test: (groupid=0, jobs=1): err= 0: pid=27535
      read : io=1024.0KB, bw=1000.0MB/s, iops=256000 , runt=     1msec
        clat percentiles (usec):
         |  1.00th=[    0],  5.00th=[    0], 10.00th=[    0], 20.00th=[    0],
         | 30.00th=[    0], 40.00th=[    0], 50.00th=[    0], 60.00th=[    0],
         | 70.00th=[    0], 80.00th=[    0], 90.00th=[    0], 95.00th=[    0],
         | 99.00th=[    0], 99.50th=[    0], 99.90th=[    0]
      write: io=1024.0KB, bw=341333KB/s, iops=85333 , runt=     3msec
        clat (usec): min=2 , max=13 , avg= 3.30, stdev= 0.78
         lat (usec): min=2 , max=14 , avg= 3.52, stdev= 0.84
        clat percentiles (usec):
         |  1.00th=[    2],  5.00th=[    3], 10.00th=[    3], 20.00th=[    3],
         | 30.00th=[    3], 40.00th=[    3], 50.00th=[    3], 60.00th=[    3],
         | 70.00th=[    3], 80.00th=[    4], 90.00th=[    4], 95.00th=[    4],
         | 99.00th=[    4], 99.50th=[    4], 99.90th=[   13]
        lat (usec) : 4=35.55%, 10=14.26%, 20=0.20%
      cpu          : usr=0.00%, sys=0.00%, ctx=0, majf=0, minf=46
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
         submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
         complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
         issued    : total=r=256/w=256/d=0, short=r=0/w=0/d=0
    
    Run status group 0 (all jobs):
       READ: io=1024KB, aggrb=1000.0MB/s, minb=1024.0MB/s,
    maxb=1024.0MB/s, mint=1msec, maxt=1msec
      WRITE: io=1024KB, aggrb=341333KB/s, minb=349525KB/s,
    maxb=349525KB/s, mint=3msec, maxt=3msec
    
    Note that no clat line is reported for reads and no clat percentiles
    are listed.  If a read-only load is then executed, it has the same
    thing.
    
    $ ./fio --name=test --size=1m --bs=4k --verify=meta --rw=read
    test: (g=0): rw=read, bs=4K-4K/4K-4K, ioengine=sync, iodepth=1
    fio 2.0.2
    Starting 1 process
    
    test: (groupid=0, jobs=1): err= 0: pid=31694
      read : io=1024.0KB, bw=13653KB/s, iops=3413 , runt=    75msec
        clat percentiles (usec):
         |  1.00th=[    0],  5.00th=[    0], 10.00th=[    0], 20.00th=[    0],
         | 30.00th=[    0], 40.00th=[    0], 50.00th=[    0], 60.00th=[    0],
         | 70.00th=[    0], 80.00th=[    0], 90.00th=[    0], 95.00th=[    0],
         | 99.00th=[    0], 99.50th=[    0], 99.90th=[    0]
      cpu          : usr=0.00%, sys=0.00%, ctx=15, majf=0, minf=36
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%, >=64=0.0%
         submit    : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
         complete  : 0=0.0%, 4=100.0%, 8=0.0%, 16=0.0%, 32=0.0%, 64=0.0%, >=64=0.0%
         issued    : total=r=256/w=0/d=0, short=r=0/w=0/d=0
    
    Run status group 0 (all jobs):
       READ: io=1024KB, aggrb=13653KB/s, minb=13981KB/s, maxb=13981KB/s,
    mint=75msec, maxt=75msec
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9a2a86d0f6f1425a6da666459ccd379e356a30d0
Author: Steven Lang <tirea@google.com>
Date:   Tue Feb 7 09:42:59 2012 +0100

    Optimize pattern verify
    
    Similar to the patch last week, this optimizes the pattern verify
    operation to use optimized library calls like memcmp(), and only fall
    back to byte-by-byte if there is a miscompare to locate it.
    
    This uses the same premise that the pattern is repeated as many times
    as possible to do large compares in a single call.  For single byte
    pattern, the setup fills the pattern space, and verify assumes it is
    full.
    
    Tested by running a script which created an 8k file with 4k bs and,
    one byte at a time, tried corrupting the pattern and running a read
    pass and verified it still found miscompares across the whole range of
    the pattern.  This was done with a pattern length of 1 and 3 bytes.
    
    In performance tests, this was about 8 times more efficient on
    verifies than without this patch.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3f36aa6b73eb5730d7de716391dcf0735e886d10
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 7 07:46:09 2012 +0100

    Fio 2.0.3
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8695036c4dac8dc5977655c9b68a8eee703edcfc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 7 07:43:59 2012 +0100

    Add regression test job file for commit 52c58027
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9a20162c2095b7e33c673e1f5c7df9b57a18ace1
Merge: 0c4ce7c ecc35cf
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Feb 7 07:42:18 2012 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit ecc35cf45f60e658856c6f0cbd5b7785753981bb
Merge: 52c5802 5bd9c78
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Feb 6 22:00:06 2012 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 52c580272d87d2b9b8a65d317bf7c2d432a30fec
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Feb 6 21:58:56 2012 +0100

    Fail if we can't satisfy the minimum block size
    
    Commit 799441286648bdced4f42d3040f37fd2e35eaf1d introduced a bug
    where if we cannot satisfy the minimum block size from a given
    offset, then we will loop forever trying to do that. Fix that bug
    checking early if it is indeed a possible thing to satisfy, if
    not give up.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0c4ce7ce9ce7fa0d644020816feefdf9c3a64a4e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 3 14:45:38 2012 +0100

    mac: remove unused timer_create()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5bd9c78ce361e3a924013299c53fd823fba05818
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 3 12:48:16 2012 +0100

    Use CLOCK_MONOTONIC if we can
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6914f59e5e3560325dc8892c9f77689df7b9aa8b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Feb 3 12:06:19 2012 +0100

    Avoid divide-by-zero for disk util on 0 msec runtime
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit efcd9dcc5e93fc313b0cd37e267bbf141675826c
Author: Steven Lang <tirea@google.com>
Date:   Thu Feb 2 20:22:04 2012 +0100

    Optimize pattern filling by limiting small calls to memcpy
    
    In looking at profiling the speed of fill_pattern(), it calls memcpy()
    for the fill pattern repeatedly for multibyte patterns.  So for a 4
    byte pattern with 8k IO, it calls memcpy() 2048 times.
    
    Since there is already 512 bytes reserved for the pattern, I figured a
    simple solution was to use it.  This patch replicates short patterns
    so they can be more efficiently copied.  (Single byte patterns are
    left alone since they can make use of the much more efficient memset()
    call.)
    
    The result is a 10x performance improvement on pattern filling. (With
    this patch, it's still 3x slower than when it re-uses the already
    filled pattern.)
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 07d91f3b8c746d2d7f303c0b3130a8a3d8516541
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 2 19:56:03 2012 +0100

    Fio 2.0.2
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 81f0366c7adcd5d70de5c1b144eafd366933f78e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 2 09:20:09 2012 +0100

    Reenable io_u->buf_filled_len optimization
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ceadd59ef93421001530aa765d928e9e8c26b32e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Feb 2 08:41:28 2012 +0100

    Make random map allocation more resilient
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 40c5db35d99d7b5069e5d0ecd9e7cc29add9fae6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 1 23:03:44 2012 +0100

    windowsaio: style fixes
    
    Some weird 4-space tabs in there, clean it up.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1e42cc3dc15b40b6f329a8f6fbe8c01af051556a
Author: Bruce Cran <BCran@fusionio.com>
Date:   Wed Feb 1 21:46:55 2012 +0100

    windowsaio: fix file offset bug
    
    I was monitoring file IO while running fio today and noticed that the file
    offset when using windowsaio was always 0.
    Because the OVERLAPPED structure contains a union, by initializing Pointer
    to NULL the code was also overwriting the Offset field.
    I've attached a patch that fixes it.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 85af57948a9c0d5c2ece9c680a41c1670888a09e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 1 20:11:01 2012 +0100

    Keep reducing jobs on ENOMEM for shmget()
    
    Some platforms return ENOMEM, not just EINVAL, for too large
    a size.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 79d73100a13f54d3c64beb6944924ed3d9caecf8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 1 20:10:12 2012 +0100

    Fix bad types for mac blockdev_size()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0e280eef250c3026e57445c9ebf1e2bbf31cd561
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Feb 1 20:05:34 2012 +0100

    Grow file num_maps to unsigned long
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0329ecda39a8ed42e173d25e16d39c968568d783
Merge: 422f9e4 7d9f80c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Jan 31 14:07:04 2012 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 422f9e4b57549ce1e163b9c1de71932d9ea24de4
Author: Ryan Marchand <rmarchan@amazon.com>
Date:   Tue Jan 31 14:05:32 2012 +0100

    Fix thread hang when using async engines (libaio,etc.) when too low of a iops rate is specified.
    
    Rate limiting logic was using thread_data->cur_depth to decide the
    min_evts number to ask for during its "flush" prior to sleeping.
    td->cur_depth, however, does not properly track in-flight IOs submitted
    to the async engines.  Added field to thread_data structure and use
    that, instead, to track IOs currently in flight.
    
    Signed-off-by: Ryan Marchand <rmarchan@amazon.com>
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ed33585509a97c4a65e46967cb49419b6a4f8870
Author: Steven Noonan <snoonan@amazon.com>
Date:   Tue Jan 31 13:58:00 2012 +0100

    implement zoned random I/O testing support
    
    This fixes the limitation that prevents fio from doing random I/O with zones
    enabled.
    
    This also adds a 'zonerange' configuration option which may be too ambiguous
    and is subject to potential renaming in the future.
    
    When doing random I/O, it is beneficial to be able to specify how large the
    addressible space is in the zone, while specifying a different metric for
    how much data to read from that zone (i.e., how many samples to take from each
    zone). When 'zonerange' is not specified, it defaults to be equal to the
    'zonesize' option. When both are specified, 'zonerange' indicates the
    size of the zone while 'zonesize' indicates the quantity of data to read from
    each zone.
    
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e4413f05e5fe1ff50e5fa751b818b1f539a33120
Author: Steven Noonan <snoonan@amazon.com>
Date:   Mon Jan 30 13:34:04 2012 -0800

    fix early termination of runs caused by ramp_time > runtime
    
    If ramp_time was longer than the runtime, then the run terminated immediately
    after the ramp_time was exceeded. In order to avoid this, teach
    runtime_exceeded about ramp_time.
    
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7d9f80c48c57e9c213a9cd057f29c7823c65918a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Jan 18 09:00:20 2012 +0100

    Fio 2.0.1
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 23a7b043700bb99292091f50d98c2029c0110d26
Author: Zhu Yanhai <gaoyang.zyh@taobao.com>
Date:   Mon Jan 2 14:32:43 2012 +0100

    Fix a man page typo
    
    The man page line of 'fadvise_hit' is exactly opposite to its true meaning.
    
    Signed-off-by: Zhu Yanhai <gaoyang.zyh@taobao.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 781cf4f0177af2bc060967326c6fe9b687bdedba
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu Dec 22 20:17:25 2011 +0100

    windows: use SYSTEMDRIVE instead of hard-coding C:
    
    This allows FIO.bat to work on a system with multiple copies of Windows
    installed.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9b9860651274cfb6e5a367b653e0d465bd89344f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Dec 19 08:57:18 2011 +0100

    Fix segfault with net io engine and no file/hostname given
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 991802b8a8857c3e8b8d54ae5b0dda589369fec1
Author: Yufei Ren <renyufei83@gmail.com>
Date:   Mon Dec 19 08:56:29 2011 +0100

    fix net engine client read server write bug
    
    The net engine was updated with specific 'listen' parameter which used
    for identifying whether it is a tcp server, instead of previous
    'rw=read' side must be the server. This let fio support bi-direction
    net io test. fio_netio_open_file() has to follow this
    principle. Otherwise, the following tcp client 'rw=read' and tcp
    server 'rw=write' case doesn't work.
    
    [global]
    ioengine=net
    port=8888
    protocol=tcp
    bs=4k
    size=10g
    
    [server]
    listen
    rw=write
    
    [client]
    hostname=localhost
    startdelay=1
    rw=read
    
    BTW, examples/netio needs 'listen' and 'hostname' adjusted.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d98cd22835c6764287f9a8d3dd3f9447bdf062d1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Dec 8 09:52:39 2011 +0100

    Fio 2.0
    
    1.9x seems to have settled, so lets tag 2.0. This also just happens
    to be on the 6th year anniversary of Fio 1.1, the first officially
    tagged release!
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 531a63265f64f259a08dce0c62255107dd50a33c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Dec 2 08:45:44 2011 +0100

    Remove debug/broken assert() in the IOPS logging code
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 169d40efb669f8d70a4f8df0c4fdcc2c30b76613
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Dec 1 15:18:47 2011 +0100

    Fio 1.99.13
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7fb28d3661a5833d8be24a014a04ee4548ec1c16
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Dec 1 15:17:24 2011 +0100

    Only log the period mean if we have samples
    
    We can't use the mean value to determine that, it could in theory
    be 0.0 and still have valid samples.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b8bc8cba9512c6dce4891fda86de675053605ca2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Dec 1 09:04:31 2011 +0100

    Add log_avg_msec option
    
    By default, fio will note an entry in the bw/iops/lat logs for every
    IO that is completed. This quickly eats up a lot of disk space
    for long running jobs. By setting this option to eg 1000, fio will
    average the results logged over 1 second instead. This reduces the
    resolution of the log, but makes it more manageable.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 599e72b74ed2c44fd846b95160c5037c16438994
Author: Zhu Yanhai <zhu.yanhai@gmail.com>
Date:   Tue Nov 22 09:35:29 2011 +0100

    Use the reentrant getmntent_r instead of getmntent
    
    The function find_cgroup_mnt() could be called under multithread scenario, so
    we should use the reentrant edition getmntent_r() instead of getmntent().
    
    E.g, without this fix the output for below job file is wrong.
    
    [root@localhost blkio-test]# cat small-read-file
    [global]
    ioengine=sync
    direct=1
    rw=read
    bs=4k
    filename=/dev/sdb
    time_based
    runtime=60
    cgroup=small
    cgroup_weight=500
    numjobs=32
    group_reporting
    thread
    
    [file1]
    
    Then fio randomly says:
    [cut here]
    Starting 32 threads
    fio: cgroup blkio does not appear to be mounted
    fio: cgroup blkio does not appear to be mounted
    fio: cgroup blkio does not appear to be mounted
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8a3220572e1016ea011bd9dcf61a5bfb731c1a43
Author: Josh Carter <public@joshcarter.com>
Date:   Tue Nov 22 09:35:29 2011 +0100

    Fix initialization of lastrate when using ratemin
    
    fio was copying td->bw_sample_time (single timeval) into td->lastrate
    (array of two timevals) using the latter's size. Thus is would get one
    timeval worth of good data plus who-knows-what for the second timeval.
    I'm pretty sure the intent of this code was to copy bw_sample_time
    into both members of lastrate.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 068420271828b3b2426ffc3ccf64404cb9d340fb
Author: Steven Lang <tirea@google.com>
Date:   Thu Nov 17 09:45:17 2011 +0100

    Expand continue_on_error to select which type of error to allow
    
    This expands the continue_on_error option to take a string specifying
    what type of error to continue on, breaking out errors into read,
    write, and verify.  (Sync, trim, and anything else not specifically a
    read are considered write operations for the sake of error
    continuation.)
    
    Backwards compatibility is retained by allowing =0 and =1 values to
    specify none and all, respectively.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 184b4098cccb8392eb8ecdd23cdc6597b540df36
Author: Steven Lang <tirea@google.com>
Date:   Wed Nov 16 10:33:51 2011 +0100

    Fix parsing of ioengine strings
    
    This cleans up parsing of FIO_OPT_STR_STORE options which have defined
    values (IE ioengine).  I made a few assumptions here...
    
    1. If FIO_OPT_STR_STORE was used, that means a copy of the string is
    desired, so it is always copied if the offset is non-zero.
    2. If the values were the only allowed values, then FIO_OPT_STR would
    have been used; therefore it is not an error to give a value not in
    the list.
    3. If an option callback is defined, then any values are ignored and
    the callback is called to parse the string.  (Don't think this
    currently applies, anywhere, but there is precendent in other options
    skipping normal parsing if a callback is used.)
    4. If no offsets are defined, and no callback is given, the behavior
    is undefined - though this patch handles it cleanly and still calls
    value callbacks; though I believe fio will still complain about a bad
    options structure.
    
    This fixes two cases (Restores it to previous behavior without
    breaking new functionality).
    1. External ioengines (The patch to a .so is never in the list of
    possible values, so was never matching)
    2. IO engines compiled in but not in the list in options.c
    
    This patch should be applied to the 1.5x stable branch as well, though
    it doesn't apply cleanly due to one line difference from my last
    options patch.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 468a9476c27142fbb9be64ae1d570254125d16cc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Nov 9 20:26:58 2011 +0100

    Fio 1.99.12
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1647f592cc93364e018ed149cb1a5b6a7dc598b9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Nov 9 20:25:21 2011 +0100

    Fix crash when attempting to dupe options
    
    If the engine has extended options but isn't loaded, boom.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 160c715eb0fa639b832f6f98f8baf8ac37584618
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Nov 9 14:31:47 2011 +0100

    Update examples/netio to new option format
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b25b86bcbfabb45fbefe9fc351e6069fdc1b38b1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Nov 9 14:04:33 2011 +0100

    Fio 1.99.11
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit de890a1e48d40238dac69f302708dde8719de240
Author: Steven Lang <tirea@google.com>
Date:   Wed Nov 9 14:03:34 2011 +0100

    Private parameters for ioengines
    
    Here is the polished version of the engine private options patch.  As
    discussed, the global section only ever tracks the private options for
    the globally defined ioengine.  For command line parameters, the
    ioengine must be selected before any private options are used.  (IE
    --ioengine=libaio --userspace_reap will work, but --userspace_reap
    --ioengine=libaio will not.)
    
    The userspace_reap option from libaio has been moved over to this new
    option method, usage should be identical to before.
    The net ioengine has been modified to use parameters, with hostname,
    port, protocol and listen defined as ioengine private parameters.  The
    old style of hostname=host,port,protocol no longer works, so usage
    will need to be updated.  (It will spit out an error that should be
    clear enough that it changed if this is tried.)  Also, with the new
    way for specifying parameters, the net IO engine now allows data to
    flow in either direction on TCP connections, regardless of which end
    initiates the connection.
    
    There's also a new command line argument --enghelp which can be used
    to get help on ioengine private parameters, similar to --cmdhelp.
    With no argument, it lists all built-in ioengine.  The argument is an
    ioengine name (Or path to .so) and optionally a comma followed by a
    command name, which behaves identically to --cmdhelp.
    
    For ioengine authorship, if options are supplied, both the options
    structure and the size of the storage needed must be supplied, and the
    storage must be large enough to hold a pointer to struct thread_data;
    that is because the options callback doesn't explicitly have a pointer
    to the thread data (Normally it relies on the fact that the options
    struct is the start of the thread data), so the offset 0 of the struct
    must point to the thread data, and is filled in automatically.  (This
    also neatly provides a guarantee that offset 0 is reserved in the
    options data, so it can be safely used as a test of undefined.)
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1b8dbf256b974fac2864052931f3041ff3ead157
Author: Steven Lang <tirea@google.com>
Date:   Wed Nov 9 13:48:01 2011 +0100

    Improve accuracy of rate= option
    
    I noticed that the rate= option is not terribly precise in some cases.
     It gets worse the higher the selected rate.  For example:
    $ fio -name=load -size=100g -ioengine=null -runtime=10 -rate=30m
    One would expect that to read 300MB (307200KB) at close to 30MB/s
    (30720KB/s).  However it writes 315024KB at 31499KB/s.  Further
    experimentation shows that even higher rates can show bigger
    discrepancies.  At the extreme end...
    $ fio -name=load -size=100g -ioengine=null -runtime=10 -rate=500m
    One would expect this to write 5000MB at a rate of 500MB/s
    (512000KB/s).  However it writes close to double that (9536.8MB) at a
    rate of over 953MB/s.  At a rate of 1GB/s and higher, the rate
    limiting is effectively ignored.
    
    This patch improves the accuracy of the rate= option across the whole
    range of rates, at the cost of being very slightly more
    computationally expensive.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 75db6e2c168e895cd93504a7d20ddc853413e3b1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Nov 7 22:07:36 2011 +0100

    Usage typo
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 823ba54bfc91f18fdd847e6efc41b422529bc4f8
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Nov 7 14:16:26 2011 +0100

    Fix big endian build
    
    I get the following error when building fio on PowerPC:
    
    client.c: In function ‘convert_agg’:
    client.c:641:22: error: invalid operands to binary & (have ‘long double’ and ‘long long unsigned int’)
    
    It looks like we have things backwards, we should byteswap the
    integer value before we convert it to a double.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d0c814ececb7410e97d1a437e80fc2dfd5c6de38
Author: Steven Lang <tirea@google.com>
Date:   Fri Oct 28 08:37:13 2011 +0200

    Cleanup option keyword/environment substitution
    
    Right now the substitution for options seems quite fragile.  Among the
    issues...
    
    - If bc had an error and returned no output, it caused a NULL reference
    - Multiple variable substitutions (For example $ncpus * $pagesize)
    caused an error as it tried to run bc after the first, with the second
    still text
    - Memory leak for every keyword substituted
    - Multiplication caused shell wildcard expansion (*) of the current
    directory when passing the input to bc
    - Shell escape sequences would be parsed on the command line when bc is called
    - Potential buffer overrun due to unchecked lengths on the input line
    
    So I did a little cleanup to get rid of the issues.  This patch also
    moves the environment variable substitution to run before the keyword
    substitution, so an environment variable can now indirectly perform a
    keyword substitution.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2b7c46bd41b3203c2ea6876690a14b1184c741fd
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 26 09:51:03 2011 +0200

    Fio 1.99.10
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d7ee2a7d431c2cabdf56d04ca14805cad72cf985
Author: Steven Lang <tirea@google.com>
Date:   Wed Oct 26 09:46:50 2011 +0200

    Fix segfault with verify_async
    
    At some point the filename was added to the report on verify failures,
    however this broke verify_async, as the file pointer on the io_u is
    set to NULL before the verify thread sees the io_u.  The result is a
    segfault when there is a verify mismatch.
    
    This patch changes the semantics of a deferred free (IO_U_F_FREE_DEF)
    to have already called put_file, but not set the file pointer to NULL.
     This is safe to do as the file list is only freed after all the
    verify threads have been terminated.
    
    FYI - this is the minimal config to cause the error this patch fixes,
    and is what I used to test the fix.  (Not using thread still causes a
    segfault, but it is reported more subtly since just a sub-process hits
    it.)
    
    [segv]
    ioengine=null
    size=4k
    verify=meta
    rw=read
    thread
    verify_async=1
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ef71e317e6e1e96a4776610035cd67711603e1f8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 25 22:43:36 2011 +0200

    Make verify_dump off by default
    
    It's a change of behaviour, so it should be off by default.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0dce9bc9b21a8d91aa55a29258dfaeffc57bd466
Author: Steven Lang <tirea@google.com>
Date:   Tue Oct 25 22:41:05 2011 +0200

    Add core for verify_dump option
    
    The verify_dump option is defined and documented, but does nothing.
    This one-liner enables the option.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 76867621c76ce561c315cd9c8d6b055eddd75d88
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 25 09:52:51 2011 +0200

    server: cleanup fio_server_parse_string()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 660a2bfb0858f94633f9e567b81968981541f079
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 24 09:35:06 2011 +0200

    server: document fio_server_parse_string()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 811826be429fd6fc5154d9b04ced1cd22bd66758
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 24 09:11:50 2011 +0200

    client/server: IPv6 support
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cf00f975d506d20ad5f02ee9dd8fec17af74bb2f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 22 18:47:21 2011 +0200

    Fix io_u->buf calculation overflow
    
    Jagadish reports:
    
    ----
    
    following are the details of the bug in fio.
    
    This bug in fio can show up as corruption of data when performing verify.
    
    Description:
    ----------------
    
    if  the product of block size and queudepth is greater than 4GB, io_u
    buffer will not
    be assigned properly due to overflow.
    
    fio --bsrange=256k-4m --ioengine=libaio --iodepth=2064 --direct=1
    --name=job3 --offset=2GB --size=14GB --rw=write
    --verify_pattern=0xdeadbeef --filename=/dev/sdb
    
    can show false corruption.
    
    Version:
    -----------
    1.58
    
    Explanation:
    -----------------
    
    in a loop fio tries to assign the data buffer to each i/o request.
    
    static int init_io_u(struct thread_data *td)
    {
            struct io_u *io_u;
            unsigned int max_bs;
            int cl_align, i, max_units;
            char *p;
    ...
             p = td->orig_buffer;
    ...
             for (i = 0; i < max_units; i++) {
    ...
                        io_u->buf = p + max_bs * i;
             }
    }
    
    at max_bs=4M i=1024, the integer overflows and the addresses are being
    used again.
    i,e i/o request 1024 will have the same data buffer as that of i/o request 0.
    
    This is seen from fio debug log.
    
    mem 11164 io_u alloc 0x219f530, index 0
    mem 11164 io_u 0x219f530, mem 0x7f09bb62d000
    mem 11164 io_u alloc 0x219f820, index 1
    mem 11164 io_u 0x219f820, mem 0x7f09bba2d000
    
    mem 11164 io_u alloc 0x225b530, index 1024
    mem 11164 io_u 0x225b530, mem 0x7f09bb62d000
    mem 11164 io_u alloc 0x225b820, index 1025
    mem 11164 io_u 0x225b820, mem 0x7f09bba2d000
    
    the fix is as follows:
    
                            io_u->buf = p + (unsigned long long)max_bs * i;
    
    ----
    
    Fix this by continually incrementing 'p' instead, avoiding
    the overflow as well.
    
    Reported-by: Jagadish Kumar <jagadish.mukku@gmail.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2341a37a2df4bca221d5ea25aa7d8a8307407d1a
Author: Keplar kramer <kkramer@fusionio.com>
Date:   Wed Oct 19 21:31:27 2011 +0200

    Fix clat latency terse output
    
    The fio HOWTO shows Completion latency percentiles as coming after
    Completion latency stats and before total latency stats.
    
    Completion latency percentiles are actually after total latency stats
    and before BW stats.
    
    Patch moves completion percentiles to before total latency stats.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 61d2407131bc52eb80a0cebc8b974c197034b402
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 18 20:42:04 2011 +0200

    Fio 1.99.9
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 18320cf4da7b93c5294c239b86a949f437fa6fec
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 18 14:39:30 2011 +0200

    Turn old debug printf() into a proper log_err()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9f170691560bacdcd8cef6296d14fc0a8467a9dd
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 18 13:26:01 2011 +0200

    Fix klibc getopt_long_only() for optional arguments
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 203913ea773a19dce4a885204e9d7681b89429fe
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Tue Oct 18 12:20:56 2011 +0200

    Fix OSX build
    
    os.h needs to include sys/socket.h.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cc60438162ca9936f48ee1c59198ac1f8323a59d
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Tue Oct 18 12:20:31 2011 +0200

    Fix printf() being used instead of log_info()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3d7cd9b4c2570548bebfae4871c3ca068c5a29fe
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 18 08:31:01 2011 +0200

    Fix error in disk util stats for terse output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 83881283564820dabaa07c1bdea0e75e686efcaa
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 17 19:58:51 2011 +0200

    Update command line usage help
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4d658652bac63fd72af8302e27deba5beb381906
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 17 15:05:47 2011 +0200

    Add terse version 2 output format
    
    Default is the new format, but allow a user to set version 2 for
    easier backwards compatability with older scripts.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c376910cc9a32c98829ceec19f35d7aae0a11e23
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 17 13:31:51 2011 +0200

    Fio 1.99.8
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3899076470e108d9815a322aaa97e662d141b50c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 17 13:31:33 2011 +0200

    Fix possible use-after-free on client disconnect
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 498c92c27b475bcc0cb65e529fb02713bc1fb62c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 17 09:14:42 2011 +0200

    client: pass back server side error to client exit value
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 11e950bd785d9f03b7d35a8ee4b4704256217504
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 16 21:34:14 2011 +0200

    client/server: send back nr_jobs and error exit code
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 72c27ff8f2eaf945ae34776dab4da3fee753707d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 16 11:50:31 2011 +0200

    Fix problem with mixing is_backend and terse_output
    
    Always send disk util and group_run_stats, even if terse
    output got set in the server. Also fixes a disk util leak
    for !terse_output.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 67f15dcf689815ec4fbe2cbb01f141ffc7b34c74
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 15 16:07:40 2011 +0200

    Fix fragmented package opcode mismatch
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 01be038efc66ea1b49b4471f2ba9dd2d7121cfe7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 15 14:43:41 2011 +0200

    Don't request ETA until server has started jobs
    
    Otherwise we time out when file layout takes >= 5 seconds.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4c8e9640702d90f9e2c5d5d5f5f9e299c67978eb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 15 14:37:38 2011 +0200

    Fix strip blank space for empty string
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 43f747922e001a7bfb904dfcaa51934b986345ae
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 15 14:37:26 2011 +0200

    Fix off-by-one in fgets() size
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 92ac72c415e7688f1423d24058eff19de590b32e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 14 14:31:06 2011 +0200

    Fio 1.99.7
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7e1773ba2033a2f70bcbb36c07dc8743c6ce05d1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 14 12:47:56 2011 +0200

    Pretty up output a bit
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7e356b2dee2e86f3684424fc6e903f1ef9f00ef4
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 14 10:55:16 2011 +0200

    Memory leak fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b7017e324de0484b5b4db881bdb280611523cf7e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 14 09:30:01 2011 +0200

    Scale bw output to MB/sec if larger than 99999 KB/sec
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5e726d0a29b815f526f835e44afe3225522c6c20
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 14 08:08:10 2011 +0200

    Add fio version to terse output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 259e47dea8db94a372a73b07b5245d43d4f9ab92
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 21:05:59 2011 +0200

    Only print ts->description if set for non-terse output
    
    Identical to commit 4b0f2258, but for non-terse output.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 065248bfdd0f48aaf67f41055ec5185434acbafa
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 20:51:05 2011 +0200

    Man page typo
    
    .B -> .BI
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 49da1240830d202892231238e197bde6a472f293
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 20:17:02 2011 +0200

    Update man page
    
    Include all command line options.
    
    Add section on client/server. It needs to be formatted properly,
    though.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 581b048d6f8f7a381d7e5c617e57469aa6b86a2e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 16:33:51 2011 +0200

    Fio 1.99.6
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4b0f22588568035952ea4c4673fdb1d7f5444eed
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 15:03:25 2011 +0200

    Check string length of ts->description, not value
    
    It's no longer a pointer. Fix a buglet in the terse output
    printing.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c7c6cb4cb3114ec4ce3107e15c184e161b50122e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 14:12:40 2011 +0200

    Move IEEE754 support code to lib/
    
    It's not strictly core code.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f2f788dd732d97c2c3a5f5dd93223a7bfafcc410
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 14:03:52 2011 +0200

    Add disk utilization to terse format output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1db92cb6b3db5965a52359cb2dab7ebd3f476f53
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 13:43:36 2011 +0200

    Add completion latency percentiles to terse output format
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f6dea4d33fb57a6e7cb64414793c57f10b702851
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 13:37:07 2011 +0200

    Don't output version for terse output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 312b4af22018a73a445ae6ecf640d71f12120ab9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 13:11:42 2011 +0200

    Add IOPS to terse output
    
    Bump the terse version format. There will be a few more changes
    until version 3 is final, but since it's already changed now,
    flag it as a different version. Consider this terse version 3 alpha.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 74c04efa0408b0da0524bda0a39c00ac8fb0ab2a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 13:04:56 2011 +0200

    Update TODO
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0766d92e06a119eea489e74d80d5840813559752
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 12:02:08 2011 +0200

    Silence uninitialized mem warning on disk_util send
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 07511a632ef219eb578d8c7f12825a275c640bcf
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 12:00:24 2011 +0200

    Break double loop on end-of-clat percentiles
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d09a64a01a6c807596e9286c93f6c6f30fd2ea26
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 11:38:56 2011 +0200

    client/server: add support for passing disk_util structures
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4f6f8298a2d3f19cec0ba65525930a62eee3967f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 09:28:21 2011 +0200

    Adapt clat percentiles for min/max values
    
    Decide between using msec or usec based on the calculated values.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0dc1bc03182ff0c8d1f3b1c36ce8e2f5bba52af6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 08:55:29 2011 +0200

    Disable clat percentiles if gtod_reduce=1 is set
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 467b35ed060e8feebd756bd399f095913281cd2a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 08:53:24 2011 +0200

    Enable completion latency percentiles by default
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 250506294d3658d0eab0139d3829917a58b62c9a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 13 08:50:46 2011 +0200

    Remove extra \n before printing run status
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a31c5611355449a18e22128b9f8176da5ef7e4e7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 21:33:26 2011 +0200

    Fio 1.99.5
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cfc03e4639fc29bf879f565300fe0238dd8b5ba9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 21:20:42 2011 +0200

    server: fix bug in converting/storing clat percentiles
    
    It helps when you read the source values, instead of storing and
    converting the destinations values only.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 351de8de68623375d2693192047cef7411f16442
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 21:03:45 2011 +0200

    Be a bit more defensive in clat percentile calc and display
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 81ab0b3ab4db39033e020a1e611197fe04df6c3e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 20:32:22 2011 +0200

    Pretty up clat percentile display so it's actually readable
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 731e3f7882e286742af32866cf2dcac1ba9d6a38
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 16:07:30 2011 +0200

    Fix clat percentile display
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b4f3c497738816693f853fd1161a214158bc14ca
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 13:48:44 2011 +0200

    Correct Windows fio version
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fddc6604f91ebf76d9090741f9d4f5a4d33be0c6
Merge: b814fb2 15b8772
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 09:47:25 2011 +0200

    Merge branch 'master' into client-server
    
    Conflicts:
    	init.c
    	io_u.c
    	os/windows/install.wxs
    	os/windows/version.h
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 15b87723551b424d0db4c53577b567e670c7d4d8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 09:42:33 2011 +0200

    Fix bad random offset generation for file map
    
    If OS_RAND_MAX and FRAND_MAX are different, then ensure that
    we use the right one. If not, our lookup cache could be outside
    the allowed range, thus causing a segfault by indexing
    f->file_map beyond end of the array.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b814fb2694fe178b5cb94e046b9d31944e752f4a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 12 09:20:34 2011 +0200

    Fix off-by-one in jobs_eta allocation
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d2333358fb3729de6681ed5cc3ec45cd86b5cfb8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 15:07:23 2011 +0200

    client: cleanup bit printing
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 38fdef226f1a1fa053ab53005abbc184143bff65
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 14:30:06 2011 +0200

    server: include 32/64-bit in probe
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit df380934e53c645b4b7cdec882b512b4d20ebc14
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 14:25:08 2011 +0200

    client/server: fix ptr <-> uint64_t casting warnings on 32-bit builds
    
    Not actually a bug, but gcc complains.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5fd0acbd212296542d396b07e1873b9e3093b76f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 14:20:22 2011 +0200

    client: dec sum_stat_clients if one a client is disconnected
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 37f0c1ae23ad1716403d3d113c3dfdf41c47e329
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 14:08:33 2011 +0200

    client: display summed total of all clients when all stats have been received
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7b8216842eb888ff626f616c2770a2548b0b0bf9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 12:16:32 2011 +0200

    server: error handling fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ea5aa1be68de71f9f02eb3d6f4db726adcafb40a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 11:45:35 2011 +0200

    server: assume PID is dead on ESRCH
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 89c1707cb512e562b55b56c268f7fad612be6f04
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 11 10:15:51 2011 +0200

    client/server: track and handle command timeouts
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 56f521340fd00eea217988fed8929b4327bce5ea
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 21:30:42 2011 +0200

    Fio 1.99.4
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bfc3b17986fb80aeb5a6ea962bb38fc1509d60a8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 21:16:55 2011 +0200

    server: fread() - check <= 0 return value
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3f3a4542887ba038231144be08b2c36d7cc83424
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 21:11:09 2011 +0200

    client: duplicate arguments to "empty" clients
    
    Now you can do:
    
    fio --client=host1 --client=host2 --arg1 --arg2 --arg3
    
    and arg1,2,3 are passed to both clients. If you do:
    
    fio --client=host1 --arg1 --client=host2 --arg2 --arg3
    
    then arg1 is passed to host1, while arg2,3 are passed to host2.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 13755d946d034eb7395a818db7ace2c9cb60b4cb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 19:51:26 2011 +0200

    server: improve pidfile and log handling
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 402668f3e05259bfc135fc097136428feda01006
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 15:28:58 2011 +0200

    server: write pid file for backgrounded server to specified file
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f77d2676c36ec30cfb765b90505bdda7208c9796
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 14:36:07 2011 +0200

    client: properly assign client eta in flight
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5b9babb7fb9ac46c0e960ccd88c2d85ba3065c01
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 12:14:30 2011 +0200

    Abstract out and export summation of thread_stats
    
    Client side will need it.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7f868316a7244cad23735e44e6ef66e5779c9660
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 09:55:21 2011 +0200

    client/server: few select speedups
    
    Don't alloc/free when we can reuse, and don't calculate string
    lengths twice.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 82c1ed38d6c90c03beda072ed064a445ecb56aca
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 08:56:18 2011 +0200

    client: track pending ETA requests
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 60862e579e7f47ceede8f8d105413c2114687c2a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 10 08:33:18 2011 +0200

    init: typo, remove -> remote.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit af9c9fb34e420fc4d9cf317aa0f3cf6795a5a07f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 9 21:54:10 2011 +0200

    client/server: request ETA instead of having the server send it automatically
    
    Also changes the 'serial' of the command to a tag, that's passed
    back and forth for commands that need to use it.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 48fbb46e7c9a2721b3b23898ab9ec79727ab4e9b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 9 12:19:08 2011 +0200

    client: sum running ETA of jobs
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b51eedb75e3f1a9db33fa488ff7d9cc0a956b8ee
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 9 12:13:39 2011 +0200

    client: fix jobs_eta conversion typo
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 427ee9f97da48c1f790d249409625b41f373c9ce
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 8 21:50:01 2011 +0200

    Update TODO
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fa2ea806de0d6410320abd97599bc52f5a3e72cc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 8 21:07:29 2011 +0200

    Add protocol support for an arbitrary number of command line arguments
    
    Make it more efficient as well, don't pass a lot of potentially
    padded space, pass only the exact amount required.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 72ddbe7981ab5d1c0eb64c952b29bdf6505afdec
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Sat Oct 8 18:51:22 2011 +0200

    Fix Windows issue with socklen_t
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f1415a9fa9c892b6aa146ef87ca78471bcb57bdb
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Sat Oct 8 18:50:34 2011 +0200

    Fix compile on FreeBSD
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b5296ddb3f34610e4bd90272bf5035a41691d00f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 16:35:56 2011 +0200

    client: used hostname passed back in probe as log prefix
    
    It's better than the connect name/IP/sock.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bcd528f5ffee78b7e5266b208d72afdb978c9452
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:41:00 2011 +0200

    Fio 1.99.3
    
    1.99.2 had a few silly bugs, tag 1.99.3 since I wont be working
    on this for the next few days.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b7eec5046cec8fb7e5c948034c0367b5bfbf50a8
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:31:23 2011 +0200

    Makefile: use -O3 by default
    
    Should be safe.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1f4c0a4f558557d45e6b186033577ec0b16872e5
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:26:27 2011 +0200

    Fix warning when clang is used as the compiler
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 213a01b0699d88b20dfb9ed78db1f293a85d2bdc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:24:16 2011 +0200

    Makefile: move -rdynamic to linking flag
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c71233ee4aa050efc8a099df1482238b12f826ef
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:11:14 2011 +0200

    client: pretty up probe output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6d2cf39497670a0246c9b7bb1cc6ef77629e08f7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:19:28 2011 +0200

    server: properly configure port without argument
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9d4b1cf7c142c3c34bd6302c5da7bb498189eac2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 13:04:05 2011 +0200

    client: don't clear client->addr after it's been set
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a7de0a1163e63cb6fa0a6bad773c415d06d154ac
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 12:55:14 2011 +0200

    server: ensure to set proper port
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cca84643cc10cd72b0b453ff92ccb8643ba51493
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 12:47:57 2011 +0200

    Pass arch/os in probe
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c524ef72414f227ae4fcbfc95b832b3e6a95ae51
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 12:23:34 2011 +0200

    client: fix mem leak
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 602d6ff969ae45cd7388d1f4b89032e71f503af6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 12:16:19 2011 +0200

    Poll server idle loop any time the main status thread sleeps
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit aaa876f92337c564fa8a5bac0802915562f7e863
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:18:51 2011 +0200

    Fio 1.99.2
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5cf6be78129e41703270325edf3346dba7d0036a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:12:47 2011 +0200

    server: increase default max pdu length to 1024
    
    It was set low to 64 to debug issues with fragmentation and
    defragmentation of packages. Bump version to 3 as well since
    this breaks the protocol with older clients.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 25c67f829687c91966f5efabdc71c71034e791b2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:11:05 2011 +0200

    client: remove leftover debug printf()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 89cf1480594858ad4e02499834c04fe48ff0a89d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:10:18 2011 +0200

    Split version into separate include fio
    
    Include it from the Windows version file, at least we only have
    to update the version in two places now instead of three.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9bae26e8a220ab28b59d6710c6f7aa6e28b86171
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:07:22 2011 +0200

    Remember to clear client cookie
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4e5b8fb8e2d989789e18b31f9aed969c8fa43cdb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:03:44 2011 +0200

    server: fix bad interpretation of local socket binding
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bebe639808147d587bbe776566d390b9ff98773f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Oct 7 10:00:51 2011 +0200

    Unify client/server argument
    
    Add documentation as well for client/server.
    Get rid of name hash for clients, just pass a cookie back and forth.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 194d05ce3cefc597094cf246853b151e14e5db07
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 21:33:29 2011 +0200

    server: fix += -> + typo
    
    We don't want to free inside the range...
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9ce9542605594426e8b582e067e2269b004874cd
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 21:30:10 2011 +0200

    Update TODO
    
    Add error handling note, remove bind note (that's done).
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b94cba47cfdf96e72ec894080b3a7bf645a86e9c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 21:27:10 2011 +0200

    Remember to close sockets on error
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 87aa8f1901e26bc377f3035a485d35c417d0255a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 21:24:13 2011 +0200

    Add support for client/server connection over unix domain sockets
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0fd666bf0d5fc373f28b1b43d1df817f8ec89605
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 20:08:53 2011 +0200

    net: support for unix domain sockets
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3c5f57e36712decffa103c8a655b9a693c6d3d13
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 12:37:50 2011 +0200

    client: add hashes for fd/name lookups
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit dadf66c5240716a61f3861c29bebf97f29b1ea96
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 12:37:10 2011 +0200

    Add jhash (Jenkins hash) and use that for file names
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7874f8b74cf9da4c142b0574d0ba67a7c9c6db20
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 09:18:20 2011 +0200

    Correctly handle multiple clients for various command line arguments
    
    Now this works:
    
    fio -C host1 --cmdhelp=ioengine -C host2 --cmdhelp=ioengine
    
    etc.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 085399db78898fa12d8a469f2db6e5ad1dfe0794
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Oct 6 09:01:22 2011 +0200

    Only print usage() on error
    
    If we did some command line argument (like version), then don't
    print the usage.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 178cde9ff403da53428c5962b8600e47b4580d80
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 22:14:31 2011 +0200

    Fio 1.99.1
    
    Lots of little fixes, tag version 1.99.1. Also bump protocol version,
    due to the IEEE 754 packing some of the command payloads were
    changed.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 19c65179fad3e0a32a450401ba7d312169627fdd
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 22:05:37 2011 +0200

    server: quit on !block and backend exit
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e951bdc47d094d43d6f41de95c6af191b8346459
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 21:58:45 2011 +0200

    server: require poll before fio_net_recv_cmd()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2b7d9d5bba54ea0252f36d851c90fa4679aa0392
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 21:00:56 2011 +0200

    client: improve handling of multiple clients
    
    Don't serialize around reading from one of them.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 28d3ab07f7c68afe9ad3b07bb9c288f3e94957da
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 20:45:37 2011 +0200

    client: disconnect on read failure
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e6d1c6687bf7dcd738657bcac70982c1e790329e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 20:41:06 2011 +0200

    server: send quit if we don't add a job
    
    Otherwise the client gets stuck.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c2c9458515bda1f77e25f95122ef6ec8d8cc3ec7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 20:31:30 2011 +0200

    client: ensure that cmd line arguments are always run
    
    Even if they don't create a job, like --version etc.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 28d7c363e2f82d09cf7f6aa772d255712aff5c5c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 20:30:24 2011 +0200

    parser: always use the fio logging instead of stderr/stdout
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7a4b824059d9ce4b5151e904219c9b5e757ffd3b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 17:35:15 2011 +0200

    client: check and error out on exceeding number of command line args to pass
    
    Also cleanup up the handling of them, using a flag to know which
    options to handle locally vs remotely.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3eb07285cf40789d5be5288581f78c8f7c83224d
Author: Martin Steigerwald <ms@teamix.de>
Date:   Wed Oct 5 11:41:54 2011 +0200

    Escape minus signs in manpage to fix lintian warning:
    
    I: fio: hyphen-used-as-minus-sign usr/share/man/man1/fio.1.gz:934
    
    see:
    http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5efce23f88563bc08f64e122297fcfbea32fdd4f
Author: Martin Steigerwald <ms@teamix.de>
Date:   Wed Oct 5 11:41:54 2011 +0200

    Escape minus signs in manpage to fix lintian warning:
    
    I: fio: hyphen-used-as-minus-sign usr/share/man/man1/fio.1.gz:934
    
    see:
    http://lintian.debian.org/tags/hyphen-used-as-minus-sign.html
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5f03ff75ff84cd473ae7060415d5f85039f07ab7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 14:07:07 2011 +0200

    Fix for hosed end-of-run log numbers
    
    For queued IO workloads, we complete the pending count in one
    go at the end of the run. But the completion time isn't updated,
    so we end up getting a lot of tail log entries that are identical
    if the timing is against us.
    
    Fix this by only accounting the first of the last batch of ios.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c8eeb9df1f52f28567a5937e141decc6a26ec30b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 14:02:22 2011 +0200

    Add support for write_iops_log
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8111092fd5dfc2fbdfc9b5b30094b74de982bddb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 12:40:49 2011 +0200

    Move endian support out of server.h
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0ad5edcc5866713b891636c3aec69dbf99dd1432
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 12:39:06 2011 +0200

    Endian sanity check
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9a7e10b9ea0548c8446b45b554fab92db25a0cc6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 11:55:08 2011 +0200

    client: prefix server text messages with <hostname>
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1f39e5556fc0418ac6d1bd8531a91c94836a6350
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 11:50:47 2011 +0200

    Fix warnings about unused fwrite() return value
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b1d1b239d2a3299a4d7b7b3de185923c655d0a48
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:29:34 2011 +0200

    Fio 1.99
    
    Now that network functionality is mostly done, tag a pre 2.0 version
    as 1.99.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 483530b85845e761071324deff31f39b0b044e9a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:29:21 2011 +0200

    Remove float conversion from TODO
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d386ed1d0be7c99a4b63f43d9dc1a3f27907abf1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:28:11 2011 +0200

    Fio 1.59
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 61f78f3ada575804c6d4ba0936cf64c17728eaba
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:25:54 2011 +0200

    Add IEEE 754 test case
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d10fba4a16206d672c902012a55df2691bfa6801
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:14:19 2011 +0200

    Re-enable -O2 optimization
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0cda2d50cb64ccae46dc39ab779ed79c4c96bfcc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 10:14:03 2011 +0200

    t/stest: add log.o smaller helper
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d65e11c6483f6664ac93da58dd8d46508f651e53
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 09:56:53 2011 +0200

    Print usage if no arguments are given
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d5e3a0c6f5376e0d76143edb2c1622efd77f995f
Merge: 802ad4a 8c02937
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 09:55:28 2011 +0200

    Merge branch 'master' into client-server
    
    Conflicts:
    	init.c
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 8c029376bbe6d8a6bcb01c3ef7d545720aca3868
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 09:54:30 2011 +0200

    Don't overwrite -t timeout setting in fill_def_thread()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 802ad4a83e92a30b5fdccf117d59fbb69068c054
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 09:51:58 2011 +0200

    Change network transmitted doubles to fio_fp64_t IEEE 754 type
    
    Encode and decode when transferring over the network.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 90f326d04602d0df35ca32f251dd6cc353d26a25
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 08:43:47 2011 +0200

    Add IEEE 754 pack and unpack helpers
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1ab4dea477b51355419fabf80de03759e19d1556
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 00:38:04 2011 +0200

    Remove endianness TODO, should be done now
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d05c4a03365f1b677c05840865e67ffaf2c5b05b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Oct 5 00:16:11 2011 +0200

    AIX fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a9df7070ea889f7ad439a605cb1ac412f75f511e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 23:54:28 2011 +0200

    Assume AIX is big endian
    
    Probably lots of PPC boxes on AIX out there than Intel...
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5ba13ea6968cf2773f10d34376afe28ef81aeee5
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 23:50:28 2011 +0200

    Add fio_socklen_t
    
    HPUX decides to be different yet again, add an OS typedef
    to handle this instead of ifdefs in the code.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 734f38cb03e03390cddfd2d31cdbbd3f3d7f9e7f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 23:46:22 2011 +0200

    log: don't use vsyslog
    
    AIX/HPUX don't have it at least, and since we use a crappy
    fixed length buffer anyway, just use syslog().
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fd60bf3beb70b15e7fba31bbaea79e53638ccfe9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 23:35:02 2011 +0200

    server: portability fixups
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 901ebe18bdca90032e2fe107a1410385da80d18b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 23:31:00 2011 +0200

    Finalize (?) byte swap/endian stuff
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5037b845e0936730b5540955be64d9279ac8af9d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 17:32:16 2011 +0200

    server: log locally if connection isn't up yet
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9677bec37d1b9d2949116cdc3d691a4d3e534cbe
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 16:02:51 2011 +0200

    Generic endianness typo
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f7df58cf30f380a4ea70cdb48b55f64b22d48a15
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 15:11:44 2011 +0200

    Update TODO
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6b976bfcda733ad9a05ce28526f670a51096a771
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 15:07:43 2011 +0200

    server: cast sockaddr_in for accept()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bb447a27c8cbab03a54fa6ceec1a244aabec57d2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 15:06:42 2011 +0200

    server: log where connection is coming from
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6eb2479194603184f393057ea10326643edc7169
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 15:00:30 2011 +0200

    server: fix sk typo and add endian type to probe
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9e22ecb0271038f61e00e448d8839f0c1bf6017e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 14:50:21 2011 +0200

    Need signal.h for sigaction()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 232f9b73353e0322fe135d3029beecedaed7a17b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 14:45:20 2011 +0200

    More endianness for platforms
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ff2451922f21826c2047208c2c3963843b1ffdcc
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 14:30:33 2011 +0200

    Wider endianness support
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 6e675fcb0886d989b327bdb6a0a8717f345221cb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:56:06 2011 +0200

    HPUX endianness
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ecd6cc1011c1acf4443a24b91ac8266ac754af46
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:54:12 2011 +0200

    log: needs stdarg include for va_list
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 610a730c79c90298d41cb3138041e83ba9cdb1d2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:53:35 2011 +0200

    Move endianness check to OS parts
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 39e8e01691c9d5765795417ee49a40d5ae08cb8b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:46:08 2011 +0200

    server: more debug dumping
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9ef56d461ae5c4e9a77dd8ea3025658271c79387
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:45:50 2011 +0200

    Fix bad indexing of options
    
    It's optind - 1, not optind.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 60efd14e3b5b5a2adb9f7c9ecfb9bfba38f76ce9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:30:11 2011 +0200

    server: add a few more debug logging statements
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 17dd17648d337479104cbdbe177214ddb69a18ce
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:27:34 2011 +0200

    client: improve handling of non-newline text strings
    
    Only prepend hostname if this is a new line.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9abea48bee7340fdf0aee00fa734a3071d47ed86
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:21:54 2011 +0200

    server: improve exit handling
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5c2857f9f5cb350c9441be3f3e1cd7c9dc18b1c5
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:14:32 2011 +0200

    client: improve poll() loop
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b406d5eb84335b09cae8befdffd5e03086985e9d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 13:14:13 2011 +0200

    server: send return quit when asked to leave
    
    The return quit will exit the client
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 81179eec4a84ff25c190a8a6a685b0b3b4dd2a37
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 12:42:06 2011 +0200

    server: initial support for command line passing
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c59971e18924f44c5e2b234c5208c67c573aaad7
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 10:34:03 2011 +0200

    Style fixup
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 0b8f30a5691b9e600a06ded035996e79c2100d77
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 10:31:53 2011 +0200

    server: fix for non zero appended strings
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 06b0be6efb3da5131bc8386251d017f0abafbdac
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 10:31:10 2011 +0200

    parser: use logging infrastructure
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 70e0c3166fdb8048b1e7f84be2371fc60af04f87
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 09:18:30 2011 +0200

    server: idle loop support
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 2e03b4b2a072b79946b0ee651dff38273868473a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 09:00:40 2011 +0200

    client: probe command support
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c28e8e8c68f7e908085f4585299e6e4d74d01837
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 08:57:39 2011 +0200

    server: error handling and probe command
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cdf54d85054858d9e3fc4d7ee8ea5c6a418f1b43
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Oct 4 08:31:40 2011 +0200

    client: handle connection failure
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 317b3c8b1bd5cdb1f2bd02c94d536fa853321bc6
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 21:47:27 2011 +0200

    server: silence mem debug warning
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ca12aa636d488d43ab79c474618d1a0fddf4b78c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 21:10:17 2011 +0200

    server: remove some debug statements
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5fc58b057d6fe9e5dd7f192b609b0b0af7e297ef
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 21:09:14 2011 +0200

    poll: break on EINTR without complaining
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 93eee04aef9ed39070ce2e69bd1f661a95b1d50a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 21:08:48 2011 +0200

    server: fix typos in conversion
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cc0df00ad5076d4adbc439899f24d9b0db26075d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 20:53:32 2011 +0200

    server: attempt to handle client ctrl-c
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 1d1f45aec4bd2c1168ed5539174a821555db6f65
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 19:44:41 2011 +0200

    server: send network copy of run_str[]
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit cf451d1ede3bbbd2fed3619eb43def054d5b5a5a
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 16:48:30 2011 +0200

    server: add ETA as a specific command
    
    No more text passing for ETA.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b75a394fd0e9455ab71912d4462aaae7e6e4366b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 16:03:43 2011 +0200

    Abstract out calculation of ETA from display of ETA
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 50677a6d2eb29fdc251accfc52f9d787684d6f60
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 15:25:49 2011 +0200

    Add TODO list
    
    Not complete
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 817f06bbc52aea4011ab975d8fa3e3f1065c6065
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 15:03:08 2011 +0200

    server: package defrag fix
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ddcc0b69aa4ed04c8681f447a1a6274bb8837a14
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 14:45:27 2011 +0200

    Add type checking to 16/32/64 endianness converters
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a450e4924ad4ae4a05015e55cb54c78fb0c5015f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 14:24:03 2011 +0200

    client: fixup quit
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a64e88dad0c0e4a510ae8ab54cde1a20b99c59d1
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 14:20:01 2011 +0200

    server: transmit status as structures, not text
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f6bb5b88614073878cbbd2666a1553481720faee
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 12:21:25 2011 +0200

    Allocate thread_stat name arrays statically
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c8aaba193fd910f89486ba4caab0c023306fffae
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 12:14:19 2011 +0200

    Move getrusage() out of thread_stat
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit f0505a1457d848e25e59f0d4373a066c2cef5de0
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 12:12:03 2011 +0200

    Move stat_io_bytes/time to thread_data
    
    Anything that isn't needed to sum/show thread stats should not be
    in struct thread_stat.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 9d9eb2e7872c99154094f7750d4c978f075b0144
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 12:01:42 2011 +0200

    server: unify shm setup
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit d7959186aa6f8ca6ee5bdcd773d77280fc806617
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 11:48:39 2011 +0200

    server: endianness bug and exit command
    
    - flags should be converted to network native format
    - add separate EXIT command for server, regular job completion should
      not quit it
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c7d5c941db51482ba196ef888fdd44f285363946
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 11:48:17 2011 +0200

    client: don't setup shared mem area for just the frontend
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 7b9f733afb91a5c92f44bb6e68860f17ba14f585
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 10:06:44 2011 +0200

    server: start conversion of data structures to network friendly types
    
    Not done yet, but do the basic conversion.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e46d809110bd4ad2980ca64931b683673444454b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Oct 3 09:11:02 2011 +0200

    server: initial support for daemonizing
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ea3c936ea2553dba0cc789a4ef197bc78261c841
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 2 03:06:14 2011 -0400

    server: make struct group_run_stats network transfer friendly
    
    Use explicitly sized types.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 05895c12004fb843eded34aac2332ece2f410b27
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sun Oct 2 03:02:03 2011 -0400

    Style fixup
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit c77a99e74e88a8ea1a8c0904aef3f7c81e07273f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 16:26:42 2011 -0400

    server: malloc/free fix
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit ac9b9101f1ef57965d6ffd51f143274a1eb665ef
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 15:01:08 2011 -0400

    Fixup some bad file naming
    
    log.c does not match log.h. Rename the iolog stuff to iolog.c
    and infolog.c to log.c (so it matches the include).
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 46c48f1f9b8ce94132c13638e4c83c13e1d392da
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 12:50:51 2011 -0600

    server/client: add FD_NET debug clues
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit eb7976ef27c1d9f69885b0c8db3020303999c9af
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 12:42:00 2011 -0600

    Add FD_NET debugging value
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 82a4be1bcef4228233e61b0b034ad6eb78a7558c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 12:40:32 2011 -0600

    client: re-setup poll fd array in case a client disappears
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 337d75a81c40aef6d693fc0d18e78b0c2444a1be
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 12:36:32 2011 -0600

    server: exit gracefully on ctrl-c
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a37f69b72a74cbde6151458b890aab8d093f0c9f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 12:24:21 2011 -0600

    client: continue support for multiple connections
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit b66570dce15587a37a64685f8ab72c3018771b2b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 11:11:35 2011 -0600

    client: initial support for multiple connections
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 794d69ca97738736844ee6a6da37f1ef686578cb
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 08:48:50 2011 -0600

    server: ensure payload larger than max is broken into pieces
    
    For debug purposes, set the max payload size to 64 to catch any
    further issues while developing this.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 437377e14010f4443bd0fd1b40c4e75885520d7d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 08:31:30 2011 -0600

    server: quit client when job run is complete
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 49d14c0f6ff863508e0aadff3599d040f45626dd
Author: Jens Axboe <axboe@kernel.dk>
Date:   Sat Oct 1 00:08:39 2011 -0600

    client: fix error in logging output
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit bdab4441a476b8597001026445707daa1109aec2
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:58:13 2011 -0600

    server: serial is a 64-bit field
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fcee5ff6f30d0f05582a378a310ed1f68491766f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:50:39 2011 -0600

    server: switch to 16-bit crc
    
    Good enough and we can kill the command padding
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e3567067a65eb29c721abe899ef431f768375fab
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:50:16 2011 -0600

    Reinstate double logging if f_err != stderr
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3095ffa9747a679e4f655388c782e4b201047fd3
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:49:30 2011 -0600

    crc16: use void * as the argument
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 82fa6b21d98da1341a54f415e43940213b39f18b
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:29:08 2011 -0600

    server: debug fixes
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 4d8f87806db144552baea60d9b59e9becffe5925
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:24:17 2011 -0600

    Pass more arguments to fio_init_net_cmd()
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a781480e959e4cad32f27915bdb5dab948aa1c6e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 22:20:37 2011 -0600

    Use length guarded sprintf functions
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 142575e6579462656a6d0f7c50ec8c35b8a08802
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 17:35:45 2011 -0600

    Server logging cleanup/functionality
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 37db14feece08eb6e43de87c404180650ed5aa6f
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 17:00:42 2011 -0600

    Start of functional client
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 132159a5a062cabfe963b3d57e82a80741bf5506
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 30 15:01:32 2011 -0600

    Add start of client, start of real protocol
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 690e09aeff6111f0654899840280196cf8c96224
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 18:38:08 2011 -0600

    Properly log errors in server
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit afcf77584a39461d81ff8b5c3c86fb7583172020
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 18:28:46 2011 -0600

    Close listen socket when done
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 009b1be41b32bf7e32b441c6a22e3ae628ec9b89
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 18:27:02 2011 -0600

    Use poll() for connect loop
    
    So we can exit nicely when asked to.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 5c341e9a5734742ae1137388345d4f47efdd4f05
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 18:00:35 2011 -0600

    Hide things not appropriate behind is_backend
    
    Also add explicit command to exit the server, FIO_QUIT.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 50d16976ac0cd44c1f5aba9217148ff05e141436
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 17:45:28 2011 -0600

    Start of client/server
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit a9bac3f9d414d27a1cd2a32f33df70abbc341021
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 29 09:21:49 2011 -0600

    Include http:// git url location
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fba76ee8650e1d3d3a897055f6ba3b88b8e437ce
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Sep 27 14:27:48 2011 -0600

    Scramble corruption fix
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e97c14423a5688d7adfb342c16363c263cb741f9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Sep 21 09:38:01 2011 +0200

    Fix aiocb compile warnings on HPUX
    
    Unlike other platforms, it seems to require aiocb64 explicitly
    for long offsets. Add an os independent typedef for this.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 3c703d13b1323869de7e51b9c5c7feb9d9c8211d
Author: Jens Axboe <axboe@kernel.dk>
Date:   Wed Sep 21 09:27:24 2011 +0200

    Silence build warning on HPUX
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fad82f76eaa03e2f486315537e9d83809d155d58
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Sep 19 11:33:30 2011 +0200

    Scramble fix
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit fd68418e1f248e85809312d6fa789eaf57b54dc0
Author: Jens Axboe <axboe@kernel.dk>
Date:   Mon Sep 19 09:24:44 2011 +0200

    Add option for controlling buffer scrambling
    
    scramble_buffers bool option, defaults to on.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 23f394d5d70902c6f1d71ac03fa1d70e13c9c0b9
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 16 22:45:27 2011 +0200

    Scramble on a 512b boundary
    
    Instead of just scrambling the full block at the beginning at the
    end, make it a bit more clever by:
    
    - Doing it at 512b intervals to ensure full 512b de-dupe attemts, and
    - Do it at a "random" offset into that block.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit de78976982fe7f57ccadd15a19dae167f0ce62ab
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 16 22:11:23 2011 +0200

    Scramble default write buffer contents slightly
    
    If we are worried about de-dupe making the output data too easy
    to compress, but don't want the full incompressible guarantee
    provided by refill_buffers=1 (since it's too costly), then lets
    make their life a little harder by filling the offset of the IO
    into the beginning of the buffer and the start time at the end
    of the buffer. This will effectively default simple de-dupe
    or compression attempts, while not doing the costly full buffer
    refill.
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 723cd80afc9fdb3ca816067eb1e4790052ff6d07
Author: Jens Axboe <axboe@kernel.dk>
Date:   Fri Sep 16 08:44:10 2011 +0200

    Fio 1.58
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit e09231c214906b4ff8cbc3dc202c39755fbf6afd
Author: Zheng Liu <wenqing.lz@taobao.com>
Date:   Fri Sep 16 08:20:12 2011 +0200

    Fix sum_stat() bug in group_reporting
    
    Write samples in io_stat does not be counted with rw=randread, vice versa.
    Then, in sum_stat() function, it will cause 0/0 in calculating mean and S,
    and 'nan' is printed. So it should return immediately when src->samples is
    equal to 0.
    
    the error result is as follows:
      write: io=8328.0KB, bw=1582.7KB/s, iops=395 , runt=  5262msec
        clat (usec): min=58 , max=293353 , avg= -nan, stdev= -nan
         lat (usec): min=59 , max=293353 , avg= -nan, stdev= -nan
        bw (KB/s) : min=   92, max=  804, per=-nan%, avg= -nan, stdev= -nan
    
    the configuration file used:
    
    [global]
    direct=1
    ioengine=psync
    bs=4k
    filename=/dev/sdb1
    runtime=5
    group_reporting
    loops=50
    
    [read]
    rw=randread
    numjobs=8
    
    [write]
    rw=randwrite
    numjobs=8
    
    CC: Jens Axboe <jaxboe@fusionio.com>
    CC: Yu-ju Hong <yjhong@google.com>
    Signed-off-by: Zheng Liu <wenqing.lz@taobao.com>
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 836bad52fff2a882e857a52ba94ac0eae6222587
Author: Steven Noonan <steven@uplinklabs.net>
Date:   Wed Sep 14 09:21:33 2011 +0200

    Fix inconsistencies in with man page <param>=<value>
    
    Signed-off-by: Jens Axboe <axboe@kernel.dk>

commit 85549ba02ac57942632c3d1903efa4aa3c72af6a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 13 10:12:12 2011 +0200

    Improve wording on terse Total IO (KB) field
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 78d351576a09fa3400fee1411b3d59840c5038bb
Merge: 067430b f57a9c5
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Sep 12 11:30:01 2011 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit f57a9c59e366aa2f0621aa260bfd5ef5aeb61643
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Sep 9 21:01:37 2011 +0200

    Add terse version output format command line parameter
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 067430bba6df79aa4e263e94ace684d738c75074
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 8 14:30:24 2011 +0200

    Fix disk utilization for delayed jobs
    
    We initialized it all before starting the jobs, so we would
    easily see disk stats that were too low for jobs that ended
    up being started later.
    
    Fix this by moving the disk util init right before the jobs
    are spawned.
    
    Reported-by: Shrirang Phansalkar <sphansalkar@stec-inc.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b8fefc2b27591449b75e946da781342f616fae14
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 8 13:08:05 2011 +0200

    Style fixup
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ba4ddd690a04f39abada885f1b4ea3b228e790a8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 7 22:11:00 2011 +0200

    Better parser fix
    
    The previous one broke all postfixes for ranges, that wasn't
    very nice. This one allows the proper postfix and +/- as well,
    as long as the latter is seen before a digit.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6925dd356191bc40e8a1ebc8fd92a40b476658c3
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 7 22:10:11 2011 +0200

    Revert "Fix parser bug with ranges"
    
    This reverts commit f20485ad77872d6c5084dead547420386a6ecd5e.

commit f20485ad77872d6c5084dead547420386a6ecd5e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 7 21:21:07 2011 +0200

    Fix parser bug with ranges
    
    The change to allow -/+ for values broke ranges.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e3b3f81eca16ed5db01e81ff6ae697f5c8f9f6cf
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 1 09:58:11 2011 -0600

    Use r/R/w/W instead of m/M for mixed workloads with 100% reads or writes
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1c964ce59ba23b1ab515a8f0b6506329c1c3d3e1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 16:45:03 2011 -0600

    Only clear string pointer in parser for sub-value options
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3545a109a2cfe5ab22969ef453dc049db47f0b68
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 15:20:15 2011 -0600

    Ensure that buffer contents are random across jobs as well
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ce952ab65a46f728ffada9613bb50ace7aeaa7c8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 14:29:22 2011 -0600

    Fix parser using uninitialized memory
    
    Introduced by e2979754b554d6a48cffa98f41fb59bc045922ac.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a66da7a2354aac16757c75a824ad7cbba678535c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 13:14:12 2011 -0600

    Add support for backwards holes
    
    If you did:
    
    bs=4k
    rw=read:-8k
    
    you would essentially rewind by 8k after reading 4k, causing
    the read to be sequentially backwards.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e2979754b554d6a48cffa98f41fb59bc045922ac
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 12:55:27 2011 -0600

    Remove duplicate code in parser
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 58052f3717975199f9c1b2aef75894ba2c527f40
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 31 12:49:49 2011 -0600

    Fix FIO_OPT_STR_STORE without posval
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c44b1ff54402c589e8f07436ec56efb4f8b1ac23
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 30 20:43:53 2011 -0600

    Add sub-option support (sort-of) and convert libaio_userspace_reap
    
    You should now use ioengine=libaio:userspace_reap instead of
    the separate option.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 675012f04dbd821cc5d22ec56930094b9c8a99e5
Author: Dan Ehrenberg <dehrenberg@google.com>
Date:   Tue Aug 30 20:36:15 2011 -0600

    Adding userspace_libaio_reap option
    
    When a single thread is reading from a libaio io_context_t object
    in a non-blocking polling manner (that is, with the minimum number
    of events to return being 0), then it is possible to safely read
    events directly from user-space, taking advantage of the fact that
    the io_context_t object is a pointer to memory with a certain layout.
    This patch adds an option, userspace_libaio_reap, which allows
    reading events in this manner when the libaio engine is used.
    
    You can observe its effect by setting iodepth_batch_complete=0
    and seeing the change in distribution of system/user time based on
    whether this new flag is set. If userspace_libaio_reap=1, then
    busy polling takes place in userspace, and there is a larger amount of
    usr CPU. If userspace_libaio_reap=0 (the default), then there is a
    larger amount of sys CPU from the polling in the kernel.
    
    Polling from a queue in this manner is several times faster. In my
    testing, it took less than an eighth as much time to execute a
    polling operation in user-space than with the io_getevents syscall.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 78c1eda5486f586ca73e9cbe7e40b93fccdbd218
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 30 15:34:14 2011 -0600

    Fix bad latency reporting for rated IO jobs
    
    If we are going to sleep to satisfy a given rate limit, then
    ensure that we flush pending IO first. Otherwise they end up
    including the sleep time in the calculated completion latencies.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5f739e0e2912b809635fac635a8c1140155577e6
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:   Sun Aug 28 06:34:37 2011 +0900

    Fix compile on environment of SuperH
    
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d7f5d470dfb9aba383bbf06ea53010c08a4f9b0d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Aug 25 20:20:14 2011 +0200

    Add 'null' perf test
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d3cc4ebf58ec05037c3b0dd7c83c075a56f1dc62
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Aug 25 14:24:03 2011 +0200

    Make SH port work for packagers that don't differentiate between SH4 and SH4A
    
    Generic bits done by me, SH specific bits implemented by
    Nobuhiro Iwamatsu <iwamatsu@nigauri.org>.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 059b080217b86dbf9f3574c4661a1b2300522c79
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Aug 25 09:09:37 2011 +0200

    Add possibility to make sequential IO "holed"
    
    For sequential IO, it is now possible to add a number of bytes to
    be skipped for every block read or written. Using:
    
    bs=8k
    rw=read:8k
    
    will first read 0k->8k, then 16k->24k, and so on. This skips 8k
    for every 'bs' sized block read. Similar for writes, doing
    
    bs=4k
    rw=write:4k
    
    will write 0k->4k, then 8k->12k, etc. End result being that every
    other block is written, in a sequential fashion.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3427207d9d638a6c4bd4ca8e9b3634733fd2c780
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 16 10:01:03 2011 +0200

    Improve Makefile for t/ test code
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit fbc2792b20276f7fa14c44f7b235ca448b383b50
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 16 09:56:27 2011 +0200

    Add simple stest smalloc tester
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 716050f2a0b858835d7836ad74e8b680973e08e8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 16 08:43:45 2011 +0200

    Fixup bad style in plat code
    
    - Comments
    - Var declarations in code sections
    - Misc style
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0a7d7f9e450f823b4ca25c23516050c339778b13
Author: Eric Gouriou <egouriou@google.com>
Date:   Tue Aug 16 08:35:43 2011 +0200

    stats: fix io_u_plat out-of-bound accesses (round 2)
    
    Commit 833491908a1afd67 introduced the ability to report completion
    latency percentiles. It also caused a memory corruption when running
    with multiple threads due to out of bound accesses in show_run_stats().
    The major index of the io_u_plat two-dimensional array is meant
    to be DDIR_ value in {DDIR_READ, DDIR_WRITE} (i.e., {0, 1}). The
    code in show_run_stats() incorrectly wrote into the array using
    a major index with values {0, 1, 2}. Commit 0a0b49007cbce8d1 fixed
    the out of bound accesses by increasing the size of the major
    dimension of the io_u_plat array from 2 to 3.
    
    This patch reverts the size change from 0a0b49007cbce8d1 in favor
    of avoiding the out-of-bound accesses in show_run_stats().
    
    Signed-off-by: Eric Gouriou <egouriou@google.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 271067a6e278dafd62649257fe99ce536acfe7bb
Author: Jiri Horky <jiri.horky@cesnet.cz>
Date:   Mon Aug 15 15:18:03 2011 +0200

    Fix bug in smalloc size calculation
    
    Jiri reports:
    
    I think I found a bug. If the device (file) used in fio has "wrong" size, and is used with "wrong" block size, the fio fails to allocate memory for randommap.
    Following conditions must be true, considering just one thread for simplicity:
    
     1) number of blocks on the device are too big to fill in the default's pool
     2) number of blocks on the device must be "right", so the size of newly allocated pool by smalloc.c:add_pool is exactly as big as requested size (there are some roundings in place, so not every size triggers this error)
    
    When this is true, function smalloc.c:__smalloc_pool fails to use the newly created (exactly big enough) pool, because of this line:
    
                    idx = find_next_zero(pool->bitmap[i], last_idx);
    
    which always returns non-zero value (the minimum returned value is last_idx +1), and so in our case the idx is 1 even though, the block number 0 is free. As the direct consequence, the function doesn't find enough free space in the given pool and returns NULL pointer. This leads to another try to allocate enough memory in smalloc.c:smalloc_real function, and so on...
    
    The behavior could be reprocuded using both stable 1.57 and git version of the tool. The values that triggers the error are:
    init_random_map - real_file_size: 21999995584512, o.rw_min_bs: 4096, blocks: 5371092672, num_maps: 83923323, alloc size: 671386584
    
    whereas this block device is fine:
    init_random_map - real_file_size: 19999995985920, o.rw_min_bs: 4096, blocks: 4882811520, num_maps: 76293930, alloc size: 610351440
    
    the configuration file used:
    
    [global]
    description=CESNET_test
    [cesnet]
    filename=/dev/sdd
    rw=randread
    size=10000g
    ioengine=libaio
    iodepth=4
    bs=4k
    runtime=10m
    time_based
    numjobs=1
    group_reporting
    
    Get rid of the +1, it looks like a remnant from when the pools
    had a header associated with them.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit eb52fa3f9b91181dd87335998b94864ab9c14d6c
Author: Bart Van Assche <bvanassche@acm.org>
Date:   Mon Aug 15 09:01:05 2011 +0200

    RDMA engine: Change wording of HOWTO section
    
    Change "iWarp" into "iWARP" ("iWarp" is the name of a supercomputer) and
    "engines" into "protocols".
    
    Signed-off-by: Bart Van Assche <bvanassche@acm.org>
    Cc: Ren Yufei <renyufei83@yahoo.com.cn>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0a0b49007cbce8d16c9214e7ed47a2b7cc0cc7ed
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Aug 15 09:00:28 2011 +0200

    Fix off-by-one in io_u_plat[] array sizing
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 833491908a1afd67d27ce79257de3a4d80143d9f
Author: Yu-ju Hong <yjhong@google.com>
Date:   Sat Aug 13 00:53:44 2011 +0200

    stats: Add a function to report completion latency percentiles
    
        This patch introduces two new options:
        1) Specifying --clat_percentiles enables the reporting of
           completion latency percentiles.
        2) --percentile_list allows the user to customize the
           list of percentiles to report.
    
        Signed-off-by: Yu-ju Hong <yjhong@google.com>
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 744492c94c22fbe805f6da31b19549374511f50e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Aug 8 09:47:13 2011 +0200

    man page typo
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0408c206697a60255383a4412391e8375f290f11
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Aug 8 09:07:28 2011 +0200

    Update softrandommap in HOWTO
    
    Previous commit fixed the typo in the man page, update the HOWTO
    as well.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a8868a5bb81a9c0d9814f14cea53e509dbcad2ce
Merge: e081d03 e07f72d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Aug 8 09:06:45 2011 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit e081d03e2d41ead2d17478dae58cc8a8625f9135
Author: Zhu Yanhai <gaoyang.zyh@taobao.com>
Date:   Mon Aug 8 09:06:27 2011 +0200

    Fix a typo in fio.1
    
    softrandommap requires an bool argument actually.
    
    Signed-off-by: Zhu Yanhai <gaoyang.zyh@taobao.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e07f72d341ded8cfa539abf377322ab1b7473960
Author: Bart Van Assche <bvanassche@acm.org>
Date:   Sun Aug 7 21:50:52 2011 +0200

    RDMA I/O engine: Fix compiler warnings
    
    Fix 32-bit mode compiler warnings and a warning about an unused variable.
    
    Signed-off-by: Bart Van Assche <bvanassche@acm.org>
    Cc: Ren Yufei <renyufei83@yahoo.com.cn>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 85286c5cf23ce9fcb207ec9fffb775ead2b7218b
Author: Bart Van Assche <bvanassche@acm.org>
Date:   Sun Aug 7 21:50:51 2011 +0200

    RDMA engine: rewrite header comment block and man page section
    
    Spelling and grammar fixes for the header comment. Also make it clear that
    users can choose between the RDMA software provided by their Linux distributor
    and OFED. Update a related paragraph in the man page too.
    
    Signed-off-by: Bart Van Assche <bvanassche@acm.org>
    Cc: Ren Yufei <renyufei83@yahoo.com.cn>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 76cc522425be0e13f06c49bfc3f5b7ac7032a777
Author: Bart Van Assche <bvanassche@acm.org>
Date:   Sun Aug 7 21:50:51 2011 +0200

    RDMA engine spelling fix: change FIO_RDMA_MAX_IO_DPETH into FIO_RDMA_MAX_IO_DEPTH
    
    Signed-off-by: Bart Van Assche <bvanassche@acm.org>
    Cc: Ren Yufei <renyufei83@yahoo.com.cn>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4d1577b1be7c6cf6972e96d3d87ffaf367560b17
Author: Martin Steigerwald <Martin@lichtvoll.de>
Date:   Fri Aug 5 19:47:51 2011 +0200

    fio_generate_plots with setable resolution
    
    Specify xres and yres as 2nd and 3rd argument, otherwise
    defaults to 1024x768.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d392365ee61ecf469963ca0dffe06d604332d7d2
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 3 12:38:39 2011 +0200

    Add 'wait_for_previous' as an alias for the 'stonewall' option
    
    Also update man page and HOWTO, plus add missing alias for
    iomem_align while in there.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b6cf38f0aed8b12db1c8fd520c09e5a74066ebc9
Author: Yufei Ren <renyufei83@gmail.com>
Date:   Tue Aug 2 12:15:30 2011 +0200

    RDMA update
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 21b8aee865f0d3960687ce6ba7385e5977f45061
Author: ren yufei <renyufei83@yahoo.com.cn>
Date:   Mon Aug 1 10:01:57 2011 +0200

    RDMA IO engine
    
    I have hacked an rdma ioengine based on OFED for fio which could test
    both rdma memory semantic (rdma_write/rdma_read) and channel semantic
    (send/recv). Would you like to merge this engine into fio?
    
    notes
    1) RDMA engine works in IB, iWarp and RoCE.
    2) RDMA engine is disable by default. To enable it, execute the following
       before compile:
    
    $ export EXTFLAGS="-DFIO_HAVE_RDMA"
    $ export EXTLIBS="-libverbs -lrdmacm"
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b939683e7b997653a35bd7d55f733fc96030b246
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 30 13:29:58 2011 +0200

    Add proper include to silence build warning on NetBSD/FreeBSD
    
    Reported-by: Bruce Cran <bruce@cran.org.uk>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4361762833dee0f5c2840e348efaaf5967a2ab78
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Sat Jul 30 12:55:52 2011 +0200

    Add version number to --help output
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit cdcac5cf0e9262105e676874d11c4639a80574eb
Author: Yu-ju Hong <yjhong@google.com>
Date:   Sat Jul 30 09:18:13 2011 +0200

    stats: Fix computation of summed standard deviation
    
    Fix the computation of standard deviation for a group
    of jobs. Please see the below link for the
    approximation formula used.
    <http://en.wikipedia.org/wiki/Algorithms_for_calculating_variance
    
    The formula was originally presented here:
    <ftp://reports.stanford.edu/pub/cstr/reports/cs/tr/79/773/
    CS-TR-79-773.pdf>
    
    Signed-off-by: Yu-ju Hong <yjhong@google.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 31d23f47d5ee53f74fbf20e17e83c7cb42e39878
Author: Dave Engberg <dengberg@evernote.com>
Date:   Sat Jul 23 21:07:13 2011 +0200

    Fix bsrange read,write value option pairs
    
    The 'bs' and 'bssplit' configuration variables accept separate numbers
    for read and write operations if you separate them with a comma. For
    example: bssplit=1k/39:8k/50:64k/11,1k/29:8k/50:64k/21
    
    The documentation for 'bsrange' says it works the same way, but if I try
    to specify two ranges with a comma, I get an error when I run the app.
    E.g. if I put this line in the configuration file: bsrange=1k-16k,2k-32k
    
    I get this error output:
    
    fio: pid=26861, err=22/file:engines/sync.c:62, func=xfer, error=Invalid argument
    
    This patch fixes it.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ab2cabdb2c67d8b90c94c1a95f7a2286a0f818b9
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 23 13:43:13 2011 +0200

    Fix --timeout as global parameter
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0b7fdba72ade6f642cc0bf86023a42a408544599
Author: Dan Ehrenberg <dehrenberg@google.com>
Date:   Sat Jul 23 13:36:46 2011 +0200

    Libaio engine support for iodepth_batch_complete=0
    
    Previously, even if iodepth_batch_complete=0, the libaio engine
    passed in non-zero values for the min_nr value for io_getevents.
    This patch makes min_nr always 0 if iodepth_batch_complete == 0,
    and if multiple events are required at a higher level, then
    we poll io_getevents multiple times for the events.
    
    Signed-off-by: Dan Ehrenberg <dehrenberg@google.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1f84f1d9f85fe17c83eba504e4fb9b09a082e517
Author: Dan Ehrenberg <dehrenberg@google.com>
Date:   Sat Jul 23 13:36:44 2011 +0200

    Respect iodepth_batch_complete=0 in main loop
    
    If the iodepth_batch_complete is 0, then even if the queue is full,
    we still don't make min_events be 1 in the main loop. Instead, poll
    in a non-blocking way until a result is found.
    
    Signed-off-by: Dan Ehrenberg <dehrenberg@google.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 25c8b9d76ce2995c1144149df3b047d457c5613a
Author: Paul Dubs <paul.dubs@gmail.com>
Date:   Thu Jul 21 17:26:02 2011 +0200

    Addes Trace file format description

commit 35649e58042da4beefefc2678c09e4625ec2155e
Author: Paul Dubs <paul.dubs@gmail.com>
Date:   Thu Jul 21 16:04:52 2011 +0200

    Added description for iops output

commit f67bbe85d8e1274163bb28bd870371ca0d8d0d95
Merge: 862745b 74ba180
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 19 16:28:33 2011 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 862745bf1f85ded2109a72e75a0070eb84900612
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 19 16:27:43 2011 +0200

    Fix Solaris compile
    
    In file included from fio.h:24,
                      from gettime.c:10:
    os/os.h:192: error: redefinition of 'gettid'
    os/os-solaris.h:123: error: previous definition of 'gettid' was here
    make: *** [gettime.o] Error 1
    
    Forgot to define FIO_HAVE_GETTID
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 74ba1808c32e978229eefa7cf28c08bcb73b5b5d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 15 09:09:15 2011 +0200

    Make string-set options behave more like bool options
    
    Before this change, string-set options (like time_based) would not
    complain if passed an argument, they would just always evaluate
    to being set. This is very confusing if someone uses them negated,
    ala:
    
    	time_based=0
    
    since fio would interpret that as the option being set. Now we'll
    do the right thing, time_based=0 will be identical to not having
    the option set. And time_based=1 or just time_based will equate
    to the option being set.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 173dbaa47e3a477db65aa9fb1932a33d87436994
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 14 20:20:25 2011 +0200

    Fio 1.57
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1332757ccc1ba0d96980dc202760977c4605235e
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu Jul 14 16:34:02 2011 +0200

    Windows affinity fix for thread based jobs
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ccc02050c1a371385897aa964988dbab68597545
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 14 12:45:13 2011 +0200

    Fix infinite loop on platforms with severely limited aio resources
    
    Problem hit on OSX, where with 4 jobs each with a queue depth larger
    than what the system supports, you can get into a situation where
    any given process can get EAGAIN on queueing AIO even if it has
    nothing queued already. Check for this condition to avoid fio's
    IO loop going into a death spiral.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b42ffd195f4f4263cef197a0c3d22e6937c7580f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 14 09:12:50 2011 +0200

    Make raw disk size detection work on OSX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3dee087cdd41c2d1e4f01cd66680a849609cfafd
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 14 08:39:19 2011 +0200

    Fix compile warning on OSX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6aa2781630cf6f502d5e9177d9bd3432c1b5b964
Author: Michael Callahan <MCallahan@fusionio.com>
Date:   Thu Jul 14 07:56:37 2011 +0200

    Fix killing of threads that haven't started
    
    If there is a thread that has not started yet (for instance with a long
    startdelay or a stonewall) then a SIGINT will fire off terminate_threads
    which runs through all of the threads and calls kill(pid, SIGTERM).
    However the threads that have not started yet have a pid of 0.  When you
    call kill(0, SIGTERM) it kills the entire thread group which can extend
    out of fio.  I have included a short patch which fixes this for me.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0f7ac781d5355aefe95e84cde5a80026ca7c501e
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu Jul 14 07:50:43 2011 +0200

    Add CPU affinity support to Windows
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 48b35be009138ddca8d341f7767a1364400b6c06
Author: Michael Perzl <michael@perzl.org>
Date:   Wed Jul 13 20:28:07 2011 +0200

    Fix AIX Makefile
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 09fa5bc41c7fc270bc3aba5a51759473f2078967
Author: Michael Perzl <michael@perzl.org>
Date:   Wed Jul 13 18:43:57 2011 +0200

    Fix AIX compile
    
    When adding HPUX support the compile for AIX was broken in "lib/getopt.h".
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5a6c45408ac211be10d06a3a8f14cfb77f1753d4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 13 12:42:26 2011 +0200

    Fio 1.56
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b9afd959477dbaee2d331b63b0a252bd8aaf6206
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 12 23:49:16 2011 +0200

    gettid() for NetBSD
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e8d588e4d31f9d1e93b14499d23760d1d3d2db6b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 12 22:33:53 2011 +0200

    Add gettid() for FreeBSD/OSX/Solaris
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 47f767c113be7448eb8aa9d4a9f9aa8f760ef642
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 12 21:17:49 2011 +0200

    Add gettid() for proper thread affinity on Linux
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 804bb9a18bb747c8c7c481c9d8dca86a29837ecd
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 12 20:49:46 2011 +0200

    Fix compile on older systems that don't have fallocate() on Linux
    
    Commit a596f047 broke build en eg CentOS 5:
    
    filesetup.c:17:26: error: linux/falloc.h: No such file or directory
    filesetup.c: In function 'extend_file':
    filesetup.c:95: warning: implicit declaration of function 'fallocate'
    filesetup.c:95: error: 'FALLOC_FL_KEEP_SIZE' undeclared (first use in this function)
    filesetup.c:95: error: (Each undeclared identifier is reported only once
    filesetup.c:95: error: for each function it appears in.)
    make: *** [filesetup.o] Error 1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7bb591020669b7266c57108f2a68b48a03ae72ee
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 12 19:47:03 2011 +0200

    Allow percentage setting for size=
    
    Sometimes it's useful to set this to a particular size of a device.
    Allowing percentages makes this more easy, as one does not have to
    do the math outside of fio and pass in as environment variables
    or custom job files.
    
    To use, simply add a
    
    	size=15%
    
    or whatever is needed, then fio will use 15% of the total size of
    the device(s) or file(s) given. Percentage can be from 1 to 100.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 893b37c668638714f8240a1dcf8548836fe51233
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 14:43:26 2011 +0200

    HP-UX: add fdatasync()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit baa6677be0054fa1dab3000881098f7e943bfc5d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 10:56:32 2011 +0200

    HP-UX: has aio_fsync() and fallocate()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0ec15d6ca9fee3c2b0f19b3520f5b77fb2378d51
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 10:48:51 2011 +0200

    HP-UX disk query size
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5c909c91a2f58848b485523920e2278f8d63ecd4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 10:26:00 2011 +0200

    Remove old debug printf()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 8c9ca2e6fe5a400fcba3a7dd45a33effea8298e0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 10:25:35 2011 +0200

    Fill in os_phys_mem() stub for HP-UX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 8eb016d3727522d580d4dd463aefef58b7ecdb00
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 11 10:24:20 2011 +0200

    Fix bug in $mb_memory keyword
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c3d3178b0e14dc1612b397f115d7853200b62146
Author: Bruce Cran <BCran@fusionio.com>
Date:   Sun Jul 10 20:56:23 2011 +0200

    Take __weak out of the compiler namespace
    
    With Xcode 4 on OS X shipping LLVM by default, I tried building fio with
    clang and found that the definition of __weak conflicts with something
    clang defines.  I've attached a patch which replaces the double
    underscores with a single underscore, removing it from the
    compiler-dependant namespace.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9918be5a9bfe2819cccdb9f975f2b9d4d36f3f70
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 9 13:33:38 2011 +0200

    posixaio: fix for HP-UX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b5ffb752790d4c88a18e27aaf970b065b3e4a56c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 9 13:28:19 2011 +0200

    HP-UX typo
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ce600ac9ee2f419123269c203140d93ce5fcdd39
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 9 08:58:44 2011 +0200

    Add note saying that HP-UX should work
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d48a9799a3d3cbe3c41658d6e41d6791b33e926c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 9 08:54:26 2011 +0200

    A few HP-UX fixes
    
    Enable posixaio and net IO engine
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6525896154b56e1a62b8faa0e2759af6a34465e8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jul 9 08:31:53 2011 +0200

    Make processes work on HP-UX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4e79098f9351624e93532b6a6965ac8b1cc3cce3
Author: Bruce Cran <BCran@fusionio.com>
Date:   Sat Jul 9 08:20:47 2011 +0200

    Improve Windows windowsaio engine performance
    
    Always use IO completion ports on Windows since some drives benefit from
    using it even with direct or sync io.
    Remove PrintError function since logging of errors is done in the core.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0aacc50c2fa41e44512ce8eacfd3d679cb016d86
Author: Bruce Cran <BCran@fusionio.com>
Date:   Sat Jul 9 08:19:53 2011 +0200

    Fix integer overflow in calculating large IOPS on 32-bit platforms
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 76cd9378b90dddf2cedc9a5d49f317aaad485b90
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 21:14:57 2011 +0200

    Get rid of warning on platforms for casting char -> int
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 564e49f329dd526842a29f4086fff727bc4d0ba0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 21:10:30 2011 +0200

    Add block device size detection for HP-UX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c00a22894b82ff53b42c1e741a7b4828199a1388
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 20:56:06 2011 +0200

    Initial HP-UX port
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit dce8b847f2c149f0f857918e3250b9dafeb5c713
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 20:47:03 2011 +0200

    Fix bad start_delay type
    
    Should be unsigned long long, causes a bus error on HP-UX.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit be18a94f51296cce03d51501858e5f704c5e1950
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 19:25:04 2011 +0200

    Set affinity before doing buffer and io_u allocs
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit def1d8e3019d8757b8214691013880ebb414d396
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 8 08:33:37 2011 +0200

    Rewrite posixaio back off comment to be closer to actual English
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit afa16407813ee36e75aaa665613c469500ed07c6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 7 21:06:40 2011 +0200

    Ensure that we honor aio_read/write() returning EAGAIN
    
    This fixes a problem on OSX, where the number of resources for
    aio is woefully small.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f0153948d20b30978b815d4ceef7e059d3d2779a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 7 15:35:27 2011 +0200

    Fix ramp time random screwup
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 687c6a230dfeae89454ed430ee49ed5813e146ad
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 7 12:36:59 2011 +0200

    Fix ramp time bug
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4b0c257cd785cf7af4a4722f41bd45174283f69d
Merge: fca7035 f097728
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 6 20:13:27 2011 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit fca7035863bd570270376a0c06776e5549ff813e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 6 20:12:54 2011 +0200

    Add --max-jobs/-j command line option
    
    And shrink OSX max default number of jobs supported. OSX has,
    by default, a very small shared memory segment available.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f097728b6be6c52f0d01db6a8f70ae4543daf782
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 6 09:05:31 2011 +0200

    Fix for terminating threads in ramp time
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 8d5844e9df308cc06d86a83d6bf28a29db46b6a9
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jun 29 09:50:08 2011 +0200

    Make smalloc use anonymous memory mmaps
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5982a925647f5d376bd7c2aca27e49b4cfe4a2c1
Author: Martin Steigerwald <ms@teamix.de>
Date:   Mon Jun 27 16:07:24 2011 +0200

    patch from debian fio package to fix syntax errors in manpage.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c95f9dafbb38218fda0fd2e4ba86895717a4c31a
Author: Steven Noonan <snoonan@amazon.com>
Date:   Wed Jun 22 09:47:09 2011 +0200

    man page: fix incorrect description for disable_clat option
    
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a596f047e2b3d447ccca76bd075f05473a1f8d1c
Author: Eric Gouriou <egouriou@google.com>
Date:   Fri Jun 17 09:11:45 2011 +0200

    Add ability to invoke fallocate() FALLOC_FL_KEEP_SIZE.
    
    Linux offers fallocate() and the FALLOC_FL_KEEP_SIZE option as
    an alternative to posix_fallocate(). When FALLOC_FL_KEEP_SIZE is
    specified for an falloc request going beyond the end of the file,
    the requested blocks get preallocated without changing the apparent
    size of the file. This is is a commonly recommended use of fallocate()
    for workloads performing append writes.
    
    This patch modifies the fallocate option from a boolean option
    to a string option accepting none/posix/keep/0/1. 'keep' is only
    made available on systems where FALLOC_FL_KEEP_SIZE is available
    (i.e., Linux at this time). If specified, fallocate() is used
    with FALLOC_FL_KEEP_SIZE set. 'none' disables pre-allocation while
    'posix' uses posix_fallocate(). The default behavior remains unchaned,
    i.e., invoking posix_fallocate. The settings '0'/'1' are there to
    provide backward compatibility for users who had explicitly set the
    boolean option.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d06093e70ee89e8440431b78846fa3815a9cb89d
Author: Steven Lang <tirea@google.com>
Date:   Mon Jun 13 09:47:36 2011 +0200

    Fix fill_device with queue depth higher than 1
    
    I found an interesting combination of using fill_device when the
    iodepth is greater than 1.  All outstanding IO causes an ENOSPC error,
    but only the first is treated specially.  The remainder come through
    and cause an error exit condition when the IO queue is being cleared.
    So it is impossible to use deep IO with fill device.
    
    This patch should fix the issue.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bd93e34b86e8f7c0fb6b2cf15866431a4dc81067
Author: Steven Lang <tirea@google.com>
Date:   Fri Jun 3 21:15:50 2011 +0200

    Fixup wrong enum used for __check_min_rate()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f84622e9c5f4eba6802bcfc6432493ea8c44d740
Author: Michael Zappe <zapman@fusionio.com>
Date:   Wed Jun 1 20:15:18 2011 +0200

    Fix Makefile depend issue
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 27a779bf592d1ebe825e199ff0940aa25ccaf05b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 26 20:57:30 2011 +0200

    Fio 1.55
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 13d998f1d84f34d22d2fa1006e2592afd36bb7e3
Merge: 3f0ca9b 7994412
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue May 24 21:36:35 2011 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 3f0ca9b914e6d0db8c5c457713c277ce458cbc02
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue May 24 21:36:24 2011 +0200

    Silence gcc 4.6 warnings
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 799441286648bdced4f42d3040f37fd2e35eaf1d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue May 24 11:26:16 2011 +0200

    Fix overlap io_u into outside regions
    
    Test case is a job file ala this:
    
    [global]
    ioengine=posixaio
    direct=0
    filename=testfile
    iodepth=128
    size=50M
    loops=10000000000
    group_reporting=1
    readwrite=randwrite
    do_verify=1
    verify=md5
    verify_fatal=1
    numjobs=1
    thread
    bsrange=4k:1M
    
    [thread0]
    offset=0G
    
    [thread1]
    offset=50M
    
    [thread2]
    offset=100M
    
    [thread3]
    offset=150M
    
    [thread4]
    offset=200M
    
    [thread5]
    offset=250M
    
    [thread6]
    offset=300M
    
    [thread7]
    offset=350M
    
    where io_u units from threadN ends up crossing into the zone of threadN+1.
    This is due to using file->real_file_size as the boundary check for the
    buffer length, where the offset itself is correctly calculated. When
    using mixed block sizes, this can cause a blocksize larger than the
    minimum size to span into the next region.
    
    Fix this by using file->io_size + offset as the end delimeter. Also
    improve the logic of dropping to a smaller allowed block size if we do
    end up being close to spanning into the next region.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 76a3179ec3b849e4d4b0324ab3f517beec816bdf
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri May 13 21:19:25 2011 +0200

    splice: use ->o.memalign to indicate we want aligned buffers
    
    Vasilis Liaskovitis reports:
    
    ---
    
    I am trying to use the splice ioengine to read/write from/to tmpfs (/dev/shm).
    
    Writing works fine e.g. with the following fio config:
    [sw]
    rw=write
    size=1g
    directory=/dev/shm
    iodepth=32
    direct=0
    blocksize=512k
    numjobs=1
    nrfiles=1
    ioengine=splice
    loops=1
    group_reporting
    create_on_open=1
    create_serialize=0
    
    But reading the same file afterwards with the splice ioengine fails:
    [sw]
    rw=read
    size=1g
    directory=/dev/shm
    iodepth=32
    direct=0
    blocksize=512k
    numjobs=1
    nrfiles=1
    ioengine=splice
    loops=1
    group_reporting
    
    root@server1:~/fio# ./fio  /root/fior_splice.fio
    sw: (g=0): rw=read, bs=512K-512K/512K-512K, ioengine=splice, iodepth=32
    fio 1.53
    Starting 1 process
    fio: pid=17504, err=22/file:filesetup.c:502,
    func=open(/dev/shm/sw.1.0), error=Invalid argument
    Run status group 0 (all jobs):
    
    Is something misconfigured in the fio read config?
    The --debug=all output is:
    
    Starting 1 process
    file     17517 setup files
    file     17517 get file size for 0x7f2f87451028/0/0x7f2f87451108
    diskutil 17517 /dev/shm/sw.1.0 belongs to maj/min 0/17
    process  17517 pid=0: runstate 0 -> 1
    process  17517 will fork
    mutex    17517 wait on startup_mutex
    process  17519 jobs pid=17519 started
    process  17519 pid=17519: runstate 1 -> 2
    mutex    17519 up startup_mutex
    mutex    17519 wait on td->mutex
    mutex    17517 done waiting on startup_mutex
    process  17517 pid=17519: runstate 2 -> 4
    mutex    17519 done waiting on td->mutex
    mem      17519 Alloc 16777216 for buffers
    [...]
    file     17519 trying file /dev/shm/sw.1.0 10
    file     17519 fd open /dev/shm/sw.1.0
    file     17519 file not found in hash /dev/shm/sw.1.0
    file     17519 get file /dev/shm/sw.1.0, ref=0
    io       17519 invalidate cache /dev/shm/sw.1.0: 0/1073741824
    file     17519 fd close /dev/shm/sw.1.0
    file     17519 error 1 on open of /dev/shm/sw.1.0
    file     17519 get_next_file_rr: (nil)
    fio: pid=17519, got signal=11
    process  17517 pid=17519: runstate 4 -> 9
    process  17517 terminate group_id=-1
    process  17517 setting terminate on sw/17519
    diskutil 17517 update io ticks
    
    Other fio ioengines (sync, vsync) work fine for both reading/writing
    on tmpfs. Also, other splice tests can do both reads and writes to
    tmpfs (e.g. splice-cp).
    
    This happens with current fio-master or fio-1.38-1 (debian package)
    thanks for any comments,
    
    ---
    
    The reason is that splice uses ->o.odirect to set that we want aligned
    buffers, but we actually have a flag for that now. So just use that.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 90c0590dd99a84a554cf2d6cad76775928d4249e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 12 20:06:57 2011 +0200

    Fio 1.54
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6625155407de739e1e857419b7b4fb62f6c6bb2e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 12 10:14:57 2011 +0200

    Fix crash on specifying bad IO engine on the command line
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 67897036632676ce1bfdb45992df078df87c1a27
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu May 12 10:06:10 2011 +0200

    windowsaio: fix race condition between IOCP and queue functions
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 08d2a19c76b310f68ad2ecab17dff2a2a4c1adf8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed May 11 13:28:30 2011 +0200

    Cast l_opts string names to char *
    
    Avoids warning on Solaris
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit faa53ee2522edac464f54b2cbde0f856ed903ca2
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed May 11 13:27:38 2011 +0200

    Revert "Constify l_opts strings"
    
    This reverts commit e7d841768b8b6d5e081134e6e2f04f43ac870348.

commit b20b6be43e835cf84a87821d268751642ab64de5
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed May 11 13:23:01 2011 +0200

    Ensure we quit on SIGTERM
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e7d841768b8b6d5e081134e6e2f04f43ac870348
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed May 11 08:20:21 2011 +0200

    Constify l_opts strings
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1294c3ec7a02d20a98b105c1c41b23358afc67e4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed May 11 08:15:18 2011 +0200

    Fix signed int/long truncation on 32-bit architectures
    
    With using our internal random generator, we generate
    unsigned ints. But by mistake this was assigned to
    a signed long, that doesn't work so well on 32-bit machines.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f2e714707b27f5918a4020e3090d2b346094379c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 5 12:07:24 2011 -0600

    Fio 1.53
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e42b01eba09c9d2f5e943b67eaf66c8a443c230f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 5 12:05:10 2011 -0600

    Revert "parser: get rid of useless is_time variable"
    
    This reverts commit 1a1137d9ba2603e295aaac579777ab0d3524faa6.

commit deaa1af25d75d6989d15966b4579bc158df856f0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu May 5 08:17:03 2011 -0600

    Exit with error on signal
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 84dd18865235caa675424c62a4624618ff961d78
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu May 5 08:14:09 2011 -0600

    sscanf fixup
    
    I noticed that a job of:
    
    [sequential write at  1k block size.]
    
    Gets reported as "sequentia".
    
    I think we need to use %255[^\n] in sscanf instead.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1a958f09ff7b34e91556532cf47ad1c04974369c
Author: Bruce Cran <BCran@fusionio.com>
Date:   Thu May 5 08:13:37 2011 -0600

    windowsaio: skip uncompleted requests
    
    Windows sometimes gives us an IO request which hasn't completed yet,
    which we need to ignore.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ea4500d8d709ed4aa9587f35b2edc55b5b2c7695
Author: Bruce Cran <BCran@fusionio.com>
Date:   Wed May 4 07:54:13 2011 -0600

    Windows fixes
    
    - Fix XP support: get pointer to CancelIoEx at runtime.
    - Fix overlapped IO.
    - Don't use overlapped IO if direct or synchronous options are set.
    - Check if write option is set before opening file in read-only mode:
      fixes 'rw=rw'.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ac18ea38de2a23018f9f953c3028d519df3a1177
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon May 2 13:14:26 2011 -0600

    Convert left-over manual ->runstate setting to td_set_runstate()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b841ac86d4eb1659189171b7abebd986c7945f51
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon May 2 13:05:02 2011 -0600

    Bump max job count to 2048
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b6f6abc689b3c05306bb1613a3d43f24fa4417d8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon May 2 10:10:56 2011 -0600

    Switch mutex to using anonymous mmap
    
    We don't need an fd backing for this, saves on file descriptors
    in use.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 449767ed6db2e0cb36f880d52573b069864286d0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Apr 29 11:40:06 2011 +0200

    Fio 1.52
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 513ba3f7d4eef309d2307cf9787d7d980a29164d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Apr 29 08:24:10 2011 +0200

    Add space between -m and 755 for install
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 33c142be80a031dfd9ad4f8237b73f4741648fa1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Apr 25 20:49:45 2011 +0200

    Remove solaris posix_memalign() helper
    
    Not used in core code anymore.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 91aea6ec78170ffeb64a2a374ba69bce4986b86f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Apr 25 20:46:58 2011 +0200

    Add simple aligned alloc helper
    
    We don't have posix_memalign() on some Solaris and Darwin, so just
    add a poor mans implementation of it. Outside of arch code where
    we have proper posix_memalign(), this is only used to ensure good
    alignment of the io_u in the core code.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7e8ad197a8d219e2fc181c881143f11891e7d0d5
Author: Steven Noonan <snoonan@amazon.com>
Date:   Fri Apr 22 23:08:13 2011 -0700

    os-mac.h: implement fio_set_odirect()
    
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c64646f09c291e22bf10584bd842003a7980eb78
Author: Steven Noonan <snoonan@amazon.com>
Date:   Fri Apr 22 23:07:46 2011 -0700

    os-mac.h: implement blockdev_size()
    
    Signed-off-by: Steven Noonan <snoonan@amazon.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4c07ad86c6cc6e158c70a5c625f60144db03f20d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Mar 28 09:51:09 2011 +0200

    Switch all random generators to be decided by use_os_rand
    
    This includes file sizing, next file, block size selection,
    trim state, and verify state.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d1cea5214a367659a1b10e0886c5f2e21e24e18f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Mar 28 09:37:41 2011 +0200

    Switch the latter part of the offset generation to __rand() too
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2615cc4b28e7d0e436a625dff92e6a71ccc6c49b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Mar 28 09:35:09 2011 +0200

    Switch to using our internal Tausworthe based random generator for offsets
    
    It's both faster and more exhaustive than what is available on
    glibc on my test systems. So no downsides, and the upside of having
    the same offset generator across all platforms.
    
    This will change the random series, so could alter performance for
    your workload since the pattern will be different in sequence. There's
    an option to revert to the OS generator, you can add use_us_rand=1
    on your job files to retain the old generator offsets.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 55ed9636e82b8dee419b5a76c07098bff4d980b6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Mar 27 20:55:09 2011 +0200

    Fix parser bug dealing with range options and postfix
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b590a7330e0970a5c5cc58ba40542b217af76023
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Mar 27 20:53:39 2011 +0200

    Get rid of mixed rw and verify warning
    
    Should workd fine.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1a1137d9ba2603e295aaac579777ab0d3524faa6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Mar 27 20:43:20 2011 +0200

    parser: get rid of useless is_time variable
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0f805c00a7073293f4cceb041a6af0b9f388e6f8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Mar 25 21:36:28 2011 +0100

    Fix unsigned integer overflow in IO buffer allocator
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 01155a985b13bd98f8fc8f3e49f84091dc6e1080
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Mar 22 14:33:04 2011 +0100

    Fio 1.51
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e52947d15cf0d7d31c30ccdc43450a10081976da
Author: Diego Elio Pettenò <flameeyes@gmail.com>
Date:   Mon Mar 21 20:13:53 2011 +0100

    Fix linking of fio executable
    
    First of all make sure that $(LDFLAGS) are used during linking so that the
    user can set the linker's flags.
    
    Then also make sure that libraries are listed after the objects, so that
    GNU ld's --as-needed option will not cause fio linking to fail.
    
    Cc: Robin H. Johnson <robbat2@gentoo.org>
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ad0a273593b93f61e72fbdf1910fcf8cdcac738c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Mar 11 10:16:17 2011 +0100

    Add support for giving multiple --section options
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5b9a7f2232151d4bb80295be743a6f435f054662
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Fri Jan 28 08:41:42 2011 +0100

    Windows: add missing files needed for msi build
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d015e398e49f1c8d425906b8c1a3861ecc4d851a
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Fri Jan 28 08:39:09 2011 +0100

    Reinstate unified Makefile
    
    Don't use ifeq statements.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7af89a1f37f2134502f94c8961a79d96c5d6bacb
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 27 22:26:29 2011 +0100

    Fio 1.50.2
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0ce8b119b65849e537cab628a176a0ec4238aab0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 27 22:25:29 2011 +0100

    Fix end-of-job slowdown for random IO with a random map
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0a560893bb20b06bf6c15dd9213cf383cfbcf28f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 27 22:25:02 2011 +0100

    Kill flist_sort from Makefiles
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0e655dd09a89a0d05e2d3dc5c978283277939e08
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 27 22:23:48 2011 +0100

    Revert "Unify makefiles"
    
    This reverts commit 7d130d8d2a5638ca91dc81ec085acef4d3c3ad08.
    
    It requires make 3.81, and some popular distros are still using
    make 3.80.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3f77f72359e90175d86d549e82c9b2a3488df6dc
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 27 10:10:07 2011 +0100

    solaris: OpenSolaris already has the madvise advice defined
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e18941aab394d4a68df10379fec7184b52f95b3f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 26 21:44:29 2011 +0100

    Fio 1.50.1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 937222f5440430c5fed765f642f3c8f2e9969379
Merge: 08987f0 3342a4c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 26 20:52:52 2011 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 08987f0e7f255968ed4780ba3a8ed0cb1bb63904
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 26 20:43:50 2011 +0100

    solaris: char dev size fixes
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3342a4c721f398faf43c5e358b414d2d454ba0d8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 25 16:18:08 2011 +0100

    Fio 1.50
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ca740f4e2bdab2a94a8b6ddecba6dde605fbc866
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 25 13:06:16 2011 +0100

    Move version logging
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6035e7d6d1ed462176402615da37d4f987588c16
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 24 21:53:27 2011 +0100

    Remove flist_sort(), it's no longer used
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7d130d8d2a5638ca91dc81ec085acef4d3c3ad08
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Jan 24 21:52:23 2011 +0100

    Unify makefiles
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 913ea0db12596b735a030a1836bd913497b7120a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jan 22 15:11:13 2011 -0700

    mmap: catch invalid msync() errors early
    
    Reported-by: Bruce Cran <bruce@cran.org.uk>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7c973896f9e97f7b551bf4881fc0338b748f308b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sat Jan 22 15:11:03 2011 -0700

    Ensure that we exit with non-zero status on IO engine load failure
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b8d42b234f70ce2927e9ef1279aff42d62779cfd
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 20 10:17:35 2011 -0700

    Fio 1.50-rc4
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 74586c1efe37b4eac189cd8dd1eb00e96babce3f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 20 10:16:03 2011 -0700

    Add fill_fs alias for fill_device
    
    Name implies that it works on a device, which isn't quite correct.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4f12432eee5bbd821a7baebd940c6890aafa703a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 19 15:35:26 2011 -0700

    Expand on fill_device option since it apparently causes confusion
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2b13e716c0921356c0930522718e00b8df34293a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 19 14:04:16 2011 -0700

    Get rid of shadow declarations
    
    Reported-by: Bruce Cran <bruce@cran.org.uk>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 58483fa41bb08def4dbd3c4c9624116b643c7599
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 19 11:09:58 2011 -0700

    Define OS preferred IO engine
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3be8007107a6e4bad3f1b7ea9ea80b51a2dddfc4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 19 11:07:28 2011 -0700

    Fix merge error hiding mmap ioengine under Windows build
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 034ca7e4b63ff63dee43770c20d0860903705cf3
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Jan 19 10:42:31 2011 -0700

    Remove version number from Windows MSI file
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1cfd036feef81efe7f3fc56b51d7642c9476dd53
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Jan 19 10:41:48 2011 -0700

    Re-tab some parts of README
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 53adf64fba2457b922d5afeee500dcbad5ce963c
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Jan 19 10:41:10 2011 -0700

    Add instructions for building and running the Windows version of fio to README
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ff21745102e2410df4b950ca2ff774ad5ea717d1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 18 22:33:02 2011 -0700

    Remember to initialize return value in fixup_options()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 996936f995c47f4744a49e05419e7d4c0364c64e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 18 05:41:39 2011 -0700

    Multiple jobs and verify will not fail if do_verify=0
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4c6107ff4db87f50545bad515543f5024bb39e4a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 18 05:22:22 2011 -0700

    Ensure that short command line options work
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a6294434450db2728f1253ec6b6d2f57ef864b94
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 17 16:51:46 2011 -0700

    Correct check to o->numjobs > 1 for verify warning
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a9523c6f4a43e4bbf942ee49068fe4f052c6991d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 17 16:49:54 2011 -0700

    Add --warnings-fatal/-w option
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e84b371e121ee224e02a90d01bf9074b759a409f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Jan 16 08:32:08 2011 -0700

    Clean io_u->buf_filled_len in io_u_fill_buffer()
    
    Not a bug as such, but it could be if we used it in other
    locations in the future. So better be safe.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 92bf48d530ab09bae4058df711c4723c73da51b9
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 21:20:42 2011 +0100

    Streamline pattern/meta verifies instead of special casing them
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 964f5b9b267e3c87035309b9838c357613bfa209
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 20:51:54 2011 +0100

    Fio 1.50-rc3
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c7e6ae4eb46c4e294df85ee4f7dc4c71d458daad
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 20:51:37 2011 +0100

    Cleanup some verify bits
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e61f1ec89de8eb5bb0f8b1e6a79594f0bff2a259
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Fri Jan 14 18:30:26 2011 +0100

    Print error if max number of jobs is exceeded
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 69204d6e8830464bc98fcc28ca91412d6d360775
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 18:29:19 2011 +0100

    Eta/disk thread uses more than the minimum stack
    
    Causes crashes on FreeBSD. Just kill it, it's only really
    important on the threads we potentially create tons of.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit efda12bde9d13663e5cfe4ddf677bae54075fd92
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 15:32:30 2011 +0100

    Comment out ->buf_filled_len in pattern fill
    
    It's buggy, needs to be debugged. Disable for now. It can cause
    verify failures.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9a793c2f91a47df348237f1a9b778253ca87ec2e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 15:22:14 2011 +0100

    Fix race in exit of eta/util thread
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit cfbcd0dc2fcbf0f9bfe92ff8f4ab17f21e46d21e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 14:49:20 2011 +0100

    Make sure that pattern verifies also dump contents
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7985701bfc7b7a6bde0bf601380aab4cf09d85df
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 14:14:58 2011 +0100

    Change disk util / eta method from signal to thread
    
    We used a thread based signal, but that causes a thread to
    get created and killed every 250msecs. Lets just setup a
    dedicated thread for this.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 79402a12eecf371238f2326c9e8850eedd269b7f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jan 14 12:41:15 2011 +0100

    We need libgen.h for basename()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6f260b317f4cec3027f79b8b329dd3f98c3906ac
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jan 13 18:57:54 2011 +0100

    Correct basename usage for verify dump
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2f2e98e639986bdc7aa422d73cc523cb32b725c6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 12 09:07:44 2011 +0100

    Fio 1.50-rc2
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bce964a1195571680359495eafa4733bf7744746
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 12 09:07:15 2011 +0100

    Don't double print version when invoked with --version
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b463e9363b826d5ba4f16e0115a26f24b77078f4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 12 09:03:23 2011 +0100

    Add verify_dump option to control whether to dump bad/good blocks or not
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4aae38a645f3315ca2f8cc57a7ec4110ba7d8319
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 12 08:59:12 2011 +0100

    Ensure that random_seed is also added to dummy io_buf for dumping
    
    Now everything verifies correctly.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c50ca7bd6d5b84e24e9ddcdb1765fb4070804503
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jan 12 08:31:54 2011 +0100

    Pretty up the good/bad block verify dumping
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7d9fb455aadc0c0363489591775496f27f4a560a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 11 22:16:49 2011 +0100

    When verify fails, dump the good/bad blocks to files
    
    This makes it easy to compare afterwards to see what kind of
    corruption was experienced.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3f46e64fbd2c76cc89ef8ddfc9189bac285ef638
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 20:43:42 2011 +0100

    Update Windows version
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7ed4d7abf0d7720d532d9680ebf69745d9270a5e
Merge: 63a5826 8bad3c5
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 20:40:47 2011 +0100

    Merge branch 'winfio'

commit 63a582671fe6db03f0a0be81843f2b72bbc8ab33
Merge: c581b16 dfc6e75
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 20:21:02 2011 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit c581b165dbaffc349c495c7b8ed452a41acb9319
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 20:20:38 2011 +0100

    Fio 1.50-rc1
    
    Now that we have Windows support pretty much done, lets rev
    the version.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d9a7ba88af39b1047c9f8c077280932cd12cb58e
Merge: b921e2e e4db9fe
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 20:20:25 2011 +0100

    Merge branch 'winfio'

commit 8bad3c5b15c221cbd141a357d8ba81ca4cc45cac
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jan 10 19:36:09 2011 +0100

    Remove left-over files
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c2019d39d690acae7eae9d6a105d2db5a1d9c632
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Mon Jan 10 19:34:20 2011 +0100

    Windows updates
    
    - Remove files which are present in a minimal/default installation
      of Cygwin but which aren't needed to run fio. These include man pages,
      awk, groff etc.
    
    - Remove CR from Makefile.Windows in order to maintain consistency with
      the rest of the files.
    
    - Improve the documentation given when starting the FIO environment.
    
    - Rename Cygwin.bat to FIO.bat and add FIO.lnk which is a shortcut to
      FIO.bat configured with QuickEdit and a larger window.
    
    - Reformat install.wxs and move documentation from
      Program Files\FIO\usr\share\doc to Program Files\FIO.
    
    - Restore $(EXTFLAGS) in the Makefile's to enable extra flags to be
      passed on the command-line.
    
    - Remove os/windows/fio.sh which was an experimental way of setting up
      the Cygwin environment that has been replaced with FIO.bat.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit dfc6e7513c82d83491e90b8583fb52e301053d1b
Author: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
Date:   Fri Jan 7 20:58:05 2011 +0000

    setgid first, setuid second
    
    Setting a new effective gid requires privileges.  We must set the gid
    while we potentially still have superuser privileges.  Otherwise
    setgid(2) fails because we've already changed to an unprivileged uid.
    
    Here is a test case:
    [global]
    rw=read
    directory=tmp
    size=512m
    buffered=0
    
    [file1]
    uid=1000
    gid=1000
    
    Without this patch fio will fail when invoked by root.
    
    Signed-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5b42a488b1e3be03ecec9305affbbabaa2f2134e
Author: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
Date:   Sat Jan 8 20:28:41 2011 +0100

    Document that write_iolog is unsafe for concurrent jobs
    
    The write_iolog parameter should not be used in the global section since
    each job will independently write to the same file.  The output will be
    interspersed and the file will be corrupt.
    
    Document that each job should write to its own iolog file.  This will
    save users time when trying out the iolog feature for the first time.
    
    Signed-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
    
    Updated by me to make the same change to the man page.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9b8365618309572d8fd2579c8ea3132db89f843f
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Sat Jan 8 19:49:54 2011 +0100

    Various fixes/updates
    
    - Update HOWTO to note that directio and fallocate don't work with ZFS
      on Solaris.
    
    Refactor the Makefile's to add CPPFLAGS and LIBS.
    - Add -fno-omit-frame-pointer from Linux Makefile to every platform
    - Change undefined $(ALL_CFLAGS) to $(CFLAGS)
    - Pass -std=gnu99, without which OS X fails to build.
    - Add -D__EXTENSIONS__ on Solaris since some functions we need are
      behind it.
    
    - Pull in <limits.h> in fio.c to get PTHREAD_STACK_MIN.
    - NetBSD doesn't define PTHREAD_STACK_MIN so set it to 4k in
       os-netbsd.h
    
    - If we have posix_fallocate don't error out if it fails during mutex
      and malloc operations since it will fail on Solaris with a ZFS
      filesystem. As I understand it these aren't performance-critical
      operations so do they need to be considered critical?
    
    - Remove fio_unused from os-* files since it's defined in fio.h and we
      don't really need it.
    
    - FreeBSD has an idprio command but not the API so don't claim it does.
    
    - OS X doesn't have the timer_* API so emulate it using
      setitimer/sigaction.
    
    - NetBSD and Solaris don't support CLOCK_MONOTONIC in timer_create so
      remove FIO_HAVE_CLOCK_MONOTONIC from their os-* files.
    
    I've noticed that a change I made a while ago to use fmin/fmax could
    cause issues on older OSes - I had a CD with NetBSD 5.0.2 and found
    they had only been implemented in 5.1 so I'm not sure if I should
    revert it.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b921e2e2ff27d9aebc616e77afc4699c036682fe
Author: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
Date:   Wed Jan 5 11:02:30 2011 +0100

    Close iolog file if reading version string fails
    
    Signed-off-by: Stefan Hajnoczi <stefanha@linux.vnet.ibm.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e4db9fec06d77523472e9fad6de5170a77d715c0
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Tue Jan 4 14:44:47 2011 +0100

    Fio Windows update
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e2e58886427019b525d2a234c5404a38ec0c7ebf
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jan 4 08:36:06 2011 +0100

    OS headers need fio_file definition now
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ecc314ba7c5f02b7e90ac1dfbce1a74cd4e6d6fe
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Tue Jan 4 10:59:30 2011 +0100

    FIO Windows update
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 03e20d687566753b90383571e5e152c5142bdffd
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Sun Jan 2 20:14:54 2011 +0100

    First snapshot of FIO for Windows
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2d7760d1dbbc742a0699b959ffcd8742b9db9e2c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Dec 28 09:23:06 2010 +0100

    Include fio version in normal output
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c94bbe591635b7b35f15d035d27f392174c5e2f2
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Thu Dec 16 11:03:22 2010 +0100

    Use -pthread instead of -lpthread on FreeBSD
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 59e733f272bbbe32f2aaa4f068d99e7f71fce337
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Thu Dec 16 08:52:42 2010 +0100

    Get rid of other-OS headers in .depend
    
    It looks like blktrace_api.h is being parsed through the depend rule
    in Makefile.[FreeBSD|NetBSD|mac] due to the headers being listed in
    $(SOURCE) - gcc just ignores missing <> headers while clang generates an
    error as it builds the dependency list. Since headers which are
    included within source files will be listed as a dependency anyway, I
    think they can be removed from $(SOURCE).
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ebdadcb93e19054d594746de4e7b659b09446d8a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Dec 15 10:34:08 2010 +0100

    Fio 1.44.3
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0f2152c19ed12fc2280c3d475973112f18e48cd5
Author: Bruce Cran <bruce@cran.org.uk>
Date:   Wed Dec 15 10:33:03 2010 +0100

    FreeBSD build broken due to missing -lrt
    
    The latest fio fails to link on FreeBSD because timer_create is in
    librt but the -lrt flag is missing from Makefile.FreeBSD.
    
    I also noticed a couple of compiler warnings when building with clang -
    a format of "%Lu" is used but 'L' doesn't have any effect with 'u' - I
    guess %llu is needed since the types are 'unsigned long long'?
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit cda99fa0fcca41fc0d54ecaa2fd600162a8de5d3
Author: Signed-off-by Steven Pratt <slpratt@austin.ibm.com>
Date:   Tue Dec 14 08:31:36 2010 +0100

    fix ramp_in
    
    There are a couple of problems with the relatively new ramp_in feature
    of fio.  First, the estimated time to completion did not correctly take
    it into account and bounces around.  Second and more importantly, the
    runtime was including ramp in time in throughput calculations even
    though the IO done during that time was ignored, thus making throughput
    metrics incorrect. This patch fixes both.
    
    Signed-off-by Steven Pratt <slpratt@austin.ibm.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ee72ca09d4657f6a805c113d9bc43428f4b28a89
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Dec 2 20:05:37 2010 +0100

    Sync HOWTO iodepth option with man page
    
    Also add a note on other restrictions that may cause lower IO depth
    than expected.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 8489dae4360f2b00d89a6e9603c6167314b1974d
Author: Sebastian Kayser <sebastian@skayser.de>
Date:   Wed Dec 1 22:28:47 2010 +0100

    fio.1: Add ioengines heads up to the iodepth section
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 47f6bdecbb82f00c698263e0e96b33977c1adb64
Merge: d85b1ad d7c8be0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Nov 30 20:49:24 2010 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit d85b1add6f6dc9d186478345a3552a835ac3166b
Author: Sebastian Kayser <sebastian@skayser.de>
Date:   Tue Nov 30 20:49:18 2010 +0100

    Add additional references to binary packages
    
    This adds a couple of references to binary fio packages for Linux distros as
    well as for Solaris.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d7c8be035a17054b165343c40dc8773f103f1fc7
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Nov 25 08:21:39 2010 +0100

    nrfiles vs nr_files mixups
    
    The man page references nr_files, the real option is nrfiles.
    Change man page and add nr_files alias to nrfiles.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d3624ff9d699e1c56b745083d5e8c4a3e009f934
Author: Sebastian Kayser <sebastian@skayser.de>
Date:   Wed Nov 24 13:27:03 2010 +0100

    Makefile.solaris: install man pages
    
    This patch brings Makefile.solaris in sync with the other Makefiles.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 78e51c7279a93d3f6200d58a72a813c3ba852c2e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Nov 23 11:12:39 2010 +0100

    solaris: log error for failure to enable direct IO
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a5b01f1ba8d45e9b16079d2759a96ad9cad08e16
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Nov 11 09:19:49 2010 +0100

    Call path below SIGALRM isn't safe
    
    We do allocations, open files, printf, etc from the SIGALRM signal
    handler which gets run every 250 msecs. This isn't necessarily
    safe and could deadlock. Move it to thread context instead.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 45ddf6761c54e55d5a31a6fbed546291254324a4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Nov 5 14:02:01 2010 +0100

    Fio 1.44.2
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ca7e0ddb08fece35c95e9056ca877e0806f1e6ef
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Oct 28 08:52:13 2010 -0600

    binject: ensure we get aligned memory
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f0f346d8604d594506c0dc1a3310a27de127c2ed
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Oct 27 09:24:54 2010 -0600

    Update for proper binject ioctls
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f42195a3ff2e186bc67968088b7cceae61ccb8f3
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Oct 26 08:10:58 2010 -0600

    Update HOWTO as well for verify_backlog
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 092f707fea37a4cce592460f15e8aae4609a75e6
Author: David Nellans <dnellans@fusionio.com>
Date:   Tue Oct 26 08:08:42 2010 -0600

    Update verify_backlog documentation
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit dc6d4dbbdd3a12e7df2bc0a713faebeae9d0dca2
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 22 21:44:00 2010 +0200

    Fio 1.44.1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f57d6f943806727b70d3d15230dcac09b22fab1a
Merge: b67a111 2f68124
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 22 21:43:45 2010 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 2f68124f26e54233db41b462a257dabc48e5c32b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Oct 21 08:15:59 2010 +0200

    A few fixes for 32-bit compiles
    
    - Change the HAVE_SSE to HAVE_SSE4_2 and only provide it on
      x86-64.
    - Cast two values that otherwise cause the compiler to warn on 32-bit
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5e0baa7f423995c4f75070d6a2ee56619e195a36
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Oct 20 11:14:57 2010 +0200

    Fix segfault when passing in size < block_size
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b67a1114b5cea9ef12d14f8821a0d8142998395f
Merge: ce4b505 c0e75ab
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Oct 14 20:04:40 2010 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit c0e75abff75f2fd11107c9da7c34f9265b6303e1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Oct 14 14:34:05 2010 +0200

    Fix compile warning on platforms with posix_fallocate
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ebb9b8ab7f2bad787bbcfc03351d1ab90bc9c15b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Oct 12 08:59:47 2010 +0200

    Kill -arch from OSX Makefile
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ce4b5050396e81c0d9cf3fe1eaf583de9284df07
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Oct 11 19:34:36 2010 +0200

    binject: ctl cleanups
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 83c107b767e4850f018dbbad075dc50998de6d7c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Oct 11 19:26:33 2010 +0200

    binject: fix missing includes for stat(2)
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1ef2b6be973eded12827990ae1a9eb28b7b20be7
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 8 15:07:01 2010 +0200

    Initial support for explicit write barriers
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9e700a738f816bebb22333de97414b534c79c267
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 8 15:06:33 2010 +0200

    Add missing file.h f->file_data change
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d01c404b8971df6b86a7274177ddfb8d887061c8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 8 14:53:58 2010 +0200

    binject updates
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0e238572c4e63b0675fd9cbbf168d19ad8d60464
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Oct 8 11:26:43 2010 +0200

    binject: setup and teardown mappings internally
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d175907a7bd0b78cdd18bf47882428368a448057
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Oct 7 10:31:16 2010 +0200

    Fio 1.44
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6fe1c1dc473a43a19a0b03a067ff6c1d3fee6bd5
Author: Joss Grossman <jgrossman@fusionio.com>
Date:   Thu Sep 30 10:51:42 2010 +0900

    Fix compile on RHEL4/SLES10
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit cdd5411e02b05f5c9fd305a0f07f58e3abef4d5e
Author: Adam DeBellins <ADeBellis@fusionio.com>
Date:   Tue Sep 28 13:22:55 2010 +0900

    Fix bad setting of td->o.ddir_seq_nr in add_job()
    
    This defaults to 1, but add_job() adds 1 again which means
    that the random isn't always effective since every alternate
    IO gets to bypass that logic.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a3edaf76b30880c3bf4455c30614ce88cdbbe071
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Sep 26 10:53:40 2010 +0900

    Use log_err() in the io engines
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4a435dacda1f394a3c8caef904e26a4f99454568
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Sep 26 03:46:55 2010 +0200

    binject: correctly retrieve block size of device
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 15bc8b7ce155e42f044f3fe7a4286c67e811ae3b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Sep 24 20:31:34 2010 +0200

    Fio 1.44-rc1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c6404a44d139fb494202f9d968f7affe8c3d986f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Sep 24 19:36:34 2010 +0200

    Don't add the file offset twice for trim
    
    We added it when storing the io_piece, don't add it again
    when calling trim.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0508320e7b175baf336b1f559e13810e69eecb10
Author: David Nellans <DNellans@fusionio.com>
Date:   Thu Sep 23 08:48:15 2010 +0200

    Kill leftover debug printf() and re-format a long line
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bb0675581dc0a2e8133a6cbfa609b976b97d54ba
Author: David Nellans <DNellans@fusionio.com>
Date:   Thu Sep 23 08:46:16 2010 +0200

    Fix io_u depth array size
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 562c2d2f25ae829c812a58c10bc1a03ab6f6f52b
Author: David Nellans <DNellans@fusionio.com>
Date:   Thu Sep 23 08:38:17 2010 +0200

    Add some comments around the terse output
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 05463816cb6944649ac152283a9d02629ff91c0d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 16 14:56:23 2010 +0200

    num2str fixes
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1ec3d69b0ed8cc7a3eba0192685034d5442989e4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 16 09:35:34 2010 +0200

    Implement a better num2str()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bd4d7e1ecd2388b89254148209ac2b172def8ebf
Merge: c8dcfd7 92a3d86
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 16 08:59:08 2010 +0200

    Merge branch 'master' of ssh://router.home.kernel.dk/data/git/fio

commit 92a3d86ed1b2040c618b296e4d2ce503352792bc
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 15 23:05:57 2010 +0200

    Revert "Improvements for num2str()"
    
    This reverts commit ef5249d5e5f0bb5f0adfb182b1dbc988aee976de.

commit ef5249d5e5f0bb5f0adfb182b1dbc988aee976de
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 15 21:05:28 2010 +0200

    Improvements for num2str()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ae3fb6fbaf7dd68291f5de8e8aaac0d28e24c9ee
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 14 13:10:35 2010 +0200

    Add missing option type
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c8dcfd7edcdafc5108ed3d39db6093ae7d209040
Merge: 4b3b73f 3410599
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 14 13:07:05 2010 +0200

    Merge branch 'master' of ssh://router.home.kernel.dk/data/git/fio

commit 3410599a0abd52a6997e5561ebfa839ef1774b8c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 8 15:06:23 2010 +0200

    binject: use WRITE, not WRITEZERO
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4b3b73f843c283b341ad16cd1eb4e7a12978de8e
Merge: 6277622 79a4318
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 7 13:39:55 2010 +0200

    Merge branch 'master' of ssh://router.home.kernel.dk/data/git/fio

commit 79a43187163eb99eaabaa496cb8b5e3a164f3e09
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 7 13:28:58 2010 +0200

    Add binject IO engine
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1c04bf783c681219455f33f097155fc61f714999
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Sep 7 13:28:17 2010 +0200

    Align memory buffers for RAW io engines
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6277622954f3ee0a2dee81cace77ac466b69e8a6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 2 15:30:16 2010 +0200

    Fixup bad format of replay_no_stall option
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d708ac5e21c97a92c9c7b6b7593d9f2b0d7c9d3f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 2 13:29:55 2010 +0200

    Fix assert
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a917a8b3dfeefdd7007ba2f46f21fc145574309d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 2 13:23:20 2010 +0200

    Trim/discard fixes
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 477a6d45a3c7c6e9f538cadba78468b677829e17
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Sep 2 13:22:56 2010 +0200

    Fix libaio prep
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1d7f28e1ba1c7ca20bdc1d48b7fa04f7f1673093
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 1 13:55:12 2010 +0200

    Remove debug TRIM #error
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0d29de831183dfd049c97a03008d425ce21e2fa4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Sep 1 13:54:15 2010 +0200

    Add verify trim support
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d1c46c049cfba2028abc45246e2609bcee52d0f3
Author: David Nellans <dnellans@fusionio.com>
Date:   Tue Aug 31 21:20:47 2010 +0200

    Add support for redirection replay of blktrace traces to another device
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 684de9c46d82b72280fbe9b3e77bbb86ba36878c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Aug 27 09:04:13 2010 +0200

    Fio 1.43.2
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2039ab1d2676015372f17b8ed4ac6bffb10da967
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Aug 27 09:04:00 2010 +0200

    Fix bug with probing block size
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2084d7b2369254e2026315caea702089198b754b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 12:02:28 2010 +0200

    Fio 1.43.1
    
    The out-of-index deref and memory bugs could hit 1.43 as well
    even without trim, it just made it more apparent. So tag a new
    release.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit ff58fcede39d16a2c642897cbe5a7f28b2da1950
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 12:02:08 2010 +0200

    Add support for replaying blktrace trim/discard
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 825f818eab0cef7683b8ef359642a45ddef8ea8e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 10:47:18 2010 +0200

    Add missing types to io_u_log_error()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 14e7b605367dcf2d2ac1e3276465ed749d31503e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 10:35:02 2010 +0200

    Add missing types to log_io_u()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0b80f9c02533d920b03bd9a7203f512b55757690
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 10:25:17 2010 +0200

    Fix access of freed memory
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9446dbd6765dfa85600c3b4f79540908f37ad8ad
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 10:23:51 2010 +0200

    Bad style
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit aabbe9b1f5f303d0916b4484f42fd6a0707478a8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 09:02:07 2010 +0200

    Fio 1.43
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 87e7a9723a6732619b1682388cbc11b277a918f8
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 25 09:01:25 2010 +0200

    Mark "read_iolog" as a parent for "replay_no_stall"
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 64bbb86598ada3fa401c61aab5ef6c37bec6d6f3
Author: David Nellans <dnellans@fusionio.com>
Date:   Tue Aug 24 22:13:30 2010 +0200

    Add option to skip delays when replaying traces
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 49ffb4a2e1ac3026d77d9e1c03edc2753fcec41b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 24 15:01:37 2010 +0200

    Fix blktrace replay
    
    We would add duplicate files, if the open event comes before
    the add file event. Make sure we return the current index file
    instead of adding a duplicate, this causes bad file lookups.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c2509cd7fa44c043099ad58bcb3b3f789a5a014b
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Aug 15 15:02:10 2010 -0400

    Fio 1.43-rc1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 09a324028d68c485a8c4b33257b262123c27394f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Aug 15 15:01:51 2010 -0400

    Fixup misuse of get_cpu_clock()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 282cc1676587eb155e331b31400d344821b0b850
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 11 16:14:56 2010 -0400

    Add comment on why fallocate is disabled on AIX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 04924a11f4a36728c7dae5aec8e512fc4df961f4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 11 11:13:56 2010 -0400

    Update OS support line
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 8e239cae8aae89f07a885ffcc985600ce9c65d5d
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 11 10:29:12 2010 -0400

    Cleanup MSG_DONTWAIT
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2995607f86b7cfc918b3c140f481c5809fc3306c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Aug 11 08:03:20 2010 -0400

    Bad indentation
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 20d61dff3c371c6cbf18ec5373e9c5f56c28732a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 10 20:20:22 2010 -0400

    AIX fixups
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit eb078db384e336c1f2338adfdf8f6594660964d6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Aug 10 19:54:32 2010 -0400

    Add comment as to where getopt_long.c came from
    
    Also fix the include path.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bf2e821a55d8aa3de1cda7288a0e22883110fdc6
Author: Cigy Cyriac <CCyriac@fusionio.com>
Date:   Tue Aug 10 19:51:11 2010 -0400

    Add support for AIX
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f5886fef7eb0c44ec854d00a70acc0dfc4975efa
Author: Cigy Cyriac <CCyriac@fusionio.com>
Date:   Tue Aug 10 19:49:43 2010 -0400

    Not all platforms have MSG_DONTWAIT
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 85bc833bed3fa58c177df65f1d6cf40af85cb10b
Author: Cigy Cyriac <CCyriac@fusionio.com>
Date:   Tue Aug 10 19:21:09 2010 -0400

    Fix bad casting of unsigned long long to unsigned long
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5f39d8f797fcf01bd94b89ef7ed2bdb76deb2601
Author: Cigy Cyriac <CCyriac@fusionio.com>
Date:   Tue Aug 10 19:18:11 2010 -0400

    Add get_cpu_clock() for powerpc
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 304a47c7d94f407cc72a87025679a67f02288447
Author: bart Van Assche <bart.vanassche@gmail.com>
Date:   Sun Aug 1 21:31:26 2010 +0200

    Reduce thread stack size
    
    This patch reduces the stack size required by fio threads and hence allows
    to run fio with 200 or more threads on systems with a moderate amount of
    virtual memory.
    
    Signed-off-by: Bart Van Assche <bart.vanassche@gmail.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2da7df1d7d002d11161374ac4f0144521f7be0f0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Sun Aug 1 21:27:28 2010 +0200

    Reduce stack consumption in blktrace load
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a1a8da169dceda90faa323db0892926605e0dc8e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 29 10:52:43 2010 +0200

    Fix leak when finding aliases in the log rbtree
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1d1c187b36fd4ee28d72d04660b37a7c3edd64e6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jul 29 10:50:05 2010 +0200

    Fix bad deref of memory in parser
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 38dad62d5154ffaad445bd0231b271b9a46a5190
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 20 14:46:00 2010 -0600

    Add rw_sequencer option
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5736c10dccc4124d99178b94e6759386420e5251
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jul 20 12:03:25 2010 -0600

    Rename ddir_nr -> ddir_seq_nr
    
    Another mode will be added, so lets rename this one internally
    to make the distinction clear.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a5f3027cb0495dfe217b2626d248fcc054e7e878
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 19 16:19:55 2010 -0600

    Initial commit for TRIM/DISCARD support
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 366badd3f5c92433b1972ac85e2b4ef46b441011
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jul 19 16:18:35 2010 -0600

    Have cscope look in subdirs too
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f86aaa742f058e03fff76a22a32354486262b392
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 14 17:39:52 2010 -0600

    Fio 1.42
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 10e8a7b30ce2917df9f839d42596c7e3af9a904f
Author: Radha Ramachandran <radha@google.com>
Date:   Wed Jul 14 17:39:05 2010 -0600

    No need to use specific flag for io_u fill length
    
    The fill length already provides that information.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 808def7036ddfaf6f0ec2f5ecce031fd46ce40ef
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 14 16:27:02 2010 -0600

    Really fix broken option length check
    
    Commit 7b4cb1320928bdea2360cf36fc45c83700052d43 matched the
    string passed in, but that doesn't work for postfix values
    appended.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9522850758ecad087891710b391b4e77f6bff839
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jul 14 08:42:03 2010 +0200

    Turn io_u filled variable into a flag
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit cbe8d7561cf6d81d741d87eb7940db2a111d2144
Author: Radha Ramachandran <radha@google.com>
Date:   Wed Jul 14 08:36:07 2010 +0200

    Reuse filled pattern
    
    I made changes to fio so we wld re-use the already populated io_u
    buffer (when there is a non-random pattern) during writes. That way
    only the header will be re-calculated for every I/O. This way the
    buffer wld get populated in the beginning and as long as the
    subsequent ios using the same io_u structure are writes and have same
    or less block size, it wld get re-used. If any of the subsequent i/o
    is a read or has a block size greater than the pre-filled one, then
    the buffer is invalidated and will be re-filled at the next write.
    
    Reason for this risky change: (Performance)
    I tested this change on a tmpfs(with no swap backing), with the
    following config file:
    [sscan_write]
    filename=/mytmpfs/datafile.tmp
    rw=write
    bs=64k
    size=3G
    ioengine=libaio
    iodepth=1024
    iodepth_low=512
    runtime=10800
    bwavgtime=5000
    thread=1
    do_verify=0
    verify=meta
    verify_pattern=0x55aaa55a
    verify_interval=4k
    continue_on_error=1
    
    fio-1-41-6 gave 306MB/s and the new change had a performance of 1546MB/s
    
    Side effects/Risks:
    There is a risk with this fix, that if the buffer gets corrupted then
    the subsequent writes will also be corrupt. I think for both
    sequential writes and random writes (with verify, where the I/O log is
    replayed) we shld be able to find the first I/O that started with the
    corruption and if the buffer is getting corrupted, there are other
    issues here.
    
    Testing:
    I have tested this fix with sequential write(verify)/random read write
    mix combination(with verify).
    
    I think I have taken care of most of the case, but please let me know
    if there is anything I have missed. I have attached the patch along
    with this email. I think the performance improvement outweighs the
    risk associated with the fix. But I will let you decide if you wld
    like to pick it up.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0dd2d11ea010566fd2bc2661af58a0eefe49f750
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 9 13:48:14 2010 +0200

    Fio 1.41.6
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 093729f73bc4be4095adc1743ad25bdeac0d3633
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jul 9 13:47:32 2010 +0200

    Only flag sync_file_range() support for newer Linux versions
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 525c2bfabdb7e0093a8775a09ad3e772d962760e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jun 30 15:22:21 2010 +0200

    Update documentation on new terse format and add version number
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit a5737c9363912baaa21af978358fb9f42e756beb
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 29 10:40:30 2010 +0200

    Fix startdelay option with s/m/h/d postfix
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit e0ab5f977075ec2f8ad42378c95eb800a611f0ef
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 29 10:07:13 2010 +0200

    crc32c-intel: replace SIGILL approach with cpuid
    
    Some operating systems log illegal instructions, lets try and
    be a bit nicer and use cpuid to identify the presence of
    SSE4.2 which is needed to support the hw crc32c instruction.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 10accd7cf68af21ef4831528626a75ba7a06ce81
Author: Greg Edwards <greg.edwards@hp.com>
Date:   Fri Jun 25 09:25:22 2010 -0600

    fix posix_fallocate() return value usage
    
    posix_fallocate() returns the error number on failure.  Fix the return value
    usage.
    
    Signed-off-by: Greg Edwards <greg.edwards@hp.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3a8600b4ae9027d02aca7eb1990e5cda4e9f423a
Author: Greg Edwards <greg.edwards@hp.com>
Date:   Fri Jun 25 09:24:19 2010 -0600

    gracefully handle full /tmp file system
    
    If /tmp happens to be full, fio gives you a very unhelpful error:
    
    # ./fio rand-write-256k-q256.job
    Bus error
    
    Use posix_fallocate() to gracefully handle this condition.
    
    Signed-off-by: Greg Edwards <greg.edwards@hp.com>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 18a56e5e5b942060a57b70114c1963bda777ce3f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 25 14:34:14 2010 +0200

    Fio 1.41.5
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 743ed83a203800ba3a7d89fc76f3424d693db06c
Merge: 4cf1abc d666726
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 25 14:34:08 2010 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 4cf1abc34ff1cc8aaa2e02e3aaf919681b717c91
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 25 14:33:37 2010 +0200

    Revert "fix 1000 vs kb_base confusion in show_run_stats."
    
    This reverts commit 1f53e9d84573b1f9b9a23ad3ac4ef3d312d59c78.
    
    The conversion is from msec to sec, so the 1000 factor
    was correct.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d66672686baf3834f5135804f89c8e3f4aed0f79
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 25 11:32:48 2010 +0200

    Documentation update
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c9c20f05373375d029f63225aea86fe6e3829e96
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 10:39:02 2010 +0200

    Fio 1.41.4
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4ccdccd149d82c94ec6ccdb4118d9e27479b8516
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 10:27:22 2010 +0200

    Add chardev size getting
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 02af09886db695e5ea2b7fd2a632733955f3c03f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 09:59:34 2010 +0200

    Add total latency log
    
    We log submission and completion latencies, also log total latencies.
    This makes it easier to graph and make histograms, if you care only
    about the complete latency.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2fa55e93d8895e0645df3e50baae82d15d9beea4
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 09:36:11 2010 +0200

    Fix FreeBSD warning
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit aa5e69b26d16ae4c1680d05b25149f3198036714
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 09:25:15 2010 +0200

    Add real blockdev_size() for FreeBSD
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 68b0316f581c3c881d7dbf7c9dafef4a10100a66
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 09:22:41 2010 +0200

    Make fill_device detect bdev sizes too
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 996093bbc416d2d6da56e85c311418b1c958a0b1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 24 08:37:13 2010 +0200

    Fix man page documentation for verify_pattern
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 57fc29faae372cb474b5f2ef921638ab28bb9dc0
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jun 23 22:24:07 2010 +0200

    Allow use of KiB etc to give explicit base 10 multiplies
    
    Useful for disk drives, where capacity is given in base 10 units.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1f53e9d84573b1f9b9a23ad3ac4ef3d312d59c78
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Wed Jun 23 14:46:35 2010 +0200

    fix 1000 vs kb_base confusion in show_run_stats.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6ff42e9fca58cc6e1ab05810abaf113d77c104d1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 22 10:52:13 2010 +0200

    posixaio: return any ready event in ->getevents()
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 907249cffbdfa26de688c127abb5483154a4eae6
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 22 10:30:11 2010 +0200

    Add off64_t to FreeBSD
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 1727951019202ef3229167c07813598d485b5b06
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 21:08:47 2010 +0200

    Fio 1.41.3
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 637ef8d9f7645135cf4829894d1e3983cd7a042e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 20:39:38 2010 +0200

    Speedup verify random fills by 10-15x
    
    Move the pseudo-random helper into lib/rand.c and use that
    from the verify populate as well.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0539d7581388289367f77f2b800d0581ee34fb4c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 15:22:56 2010 +0200

    Documentation update
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 5d7c5d348d66794fd5e8aa3090f582358e6c5017
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 15:08:17 2010 +0200

    Auto-detect missing hw support for crc32c and fallback to software
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit fb47e9a5953a2da02016fb26434b8ca04e5bda90
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 14:36:42 2010 +0200

    Missing new line
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 904dc32cfb31f63a2a50e42af583f7e61ccf4968
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 14:36:11 2010 +0200

    Cleanup up SIGILL for crc32c-intel
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 6f87418f8ccdb98cffeeff64ef0b8eef50b0a016
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 12:53:26 2010 +0200

    Add documentation for verify_backlog and verify_backlog_batch
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4dc85063e621ecca0a0303e79487be90bcbff304
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 12:41:06 2010 +0200

    Fio 1.41.2
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b8d541d5705ef74307277d541ca9153ab8844096
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 12:40:53 2010 +0200

    Fix disk util for slaves
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 90b97ac3bc4368b79300207c796bcfbb828d07b9
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 12:35:02 2010 +0200

    Do diskutil check earlier
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 4cc829d1c86e1c7eab9e24ddec600bde1a541651
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 09:02:19 2010 +0200

    Fio 1.41.1
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 968b605460eb4912bdb0b7bc9ace79694865386f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Mon Jun 21 09:01:33 2010 +0200

    Fix a bug with multiple files in the same io_piece rbtree
    
    Sort by file first, then sort by offset. This avoids false
    positives on IO aliases, when it's really for a different file.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c604fb8eea323d8dbf948f238f61f12dadf821af
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:49:46 2010 +0200

    Fio 1.41
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f3e6cb95fecf867ec46e3dfd59ef1a1db1b6ad2a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:48:43 2010 +0200

    Verify fatal fixups
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit c9b440312ff63c2b4c8548530f24c2eb5820b6a3
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:46:06 2010 +0200

    Error reporting fixups for meta/pattern verifies
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 32c17adf7f75da1f0957d4691633fea60259910f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:32:21 2010 +0200

    Include file name in offset failure
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit bfacf389e9edb1b63ca0b9c6cb2aea8b06d53ace
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:29:52 2010 +0200

    Unified verify failure error reporting
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 7b4cb1320928bdea2360cf36fc45c83700052d43
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 14:28:53 2010 +0200

    parser: match on length of argument, not potential value
    
    Otherwise we match subset of a string, that doesn't always
    work well.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 936216f8cd8ae2261282453d82a2a8232bb4db45
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 13:44:11 2010 +0200

    First step in unified crc error logging
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0030b185376881d550eec690640ce62cac954549
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 09:24:48 2010 +0200

    Fio 1.40
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2f1b8e8b2efff5cf6887fc465f711391ab5b1825
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 09:22:56 2010 +0200

    Revert "Only apply verify interval to meta verifier, which uses it"
    
    This reverts commit efcc4586d3c8974118fd66d53a09ffd739d77d11.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit b6bf4995922789978a43954c53d501b159d15b0e
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Fri Jun 18 09:21:45 2010 +0200

    Fix bad int truncate in verify
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit da3758bfa36ee05e25e73f33760f17750bd0687c
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 17 21:27:11 2010 +0200

    Ensure we never overlap with existing blocks
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit efcc4586d3c8974118fd66d53a09ffd739d77d11
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 17 20:51:54 2010 +0200

    Only apply verify interval to meta verifier, which uses it
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 34644af59bd9232cc2948baf4f94b6534cb0a120
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 17 20:37:58 2010 +0200

    md5: fix bug in hash size
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit f8a75c992b8f7166c423f9282b660640c1d6c397
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 15 14:27:28 2010 +0200

    Default verify backlog batch to verify backlog setting if not given
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 9e144189c6e000df8a797312e43a4913f3b83c9a
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 15 14:25:36 2010 +0200

    Add some support for a verify backlog
    
    Instead of writing everything and then verifying everything,
    allow a job to specify incremental verify stages. This can
    help reduce memory consumption of fio, since we don't have
    to store a huge number of verify entries to be processed
    when the write phase is complete.
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 2faf9ec84cc329304bd0dcbf928184e11e550108
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Fri Jun 11 09:21:33 2010 +0200

    fix a weird check of the return value of aio_cancel.
    
    i don't know what this 1 means in the first place but at least
    it isn't portable.  instead, check if the i/o has already
    completed. (AIO_ALLDONE)
    
    Signed-off-by: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit aa58d2520204f5ae12291fae0289a90fb03dc587
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Wed Jun 9 09:49:38 2010 +0200

    Update email addresses
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit d74ac843d82345862070400cb5fe408524c613f3
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Wed Jun 9 09:44:53 2010 +0200

    include libgen.h for basename
    
    Signed-off-by: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 3098b11a5f6a75153babb63a487b80fa4c2103a1
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Thu Jun 3 10:29:03 2010 +0200

    Fio 1.39
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 40cfddb4b847d727f5d575b19540c608a3d779e6
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Wed Jun 2 08:24:03 2010 +0200

    remove unnecessary bash-ism
    
    the following patch removes unnecesary dependency on bash.
    
    Signed-off-by: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 983a69d71e6f9c0c8f590f24d492f9efba19232b
Merge: 4f49b8a 0db3254
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 1 14:03:53 2010 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 4f49b8a762f20279095e5c27c51a6afc629b835f
Author: Jens Axboe <jaxboe@fusionio.com>
Date:   Tue Jun 1 14:03:40 2010 +0200

    Fix undeclared mkdir() on Fedora 13
    
    Signed-off-by: Jens Axboe <jaxboe@fusionio.com>

commit 0db32545ef94c5ab643b113d686526338dee3242
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat May 22 20:46:05 2010 +0200

    Fio 1.39-rc1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7a4b80a14c6ac6d47d486b1f5d1f166fa7065ee3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat May 22 20:43:11 2010 +0200

    Fix problem with --section matching
    
    Strip the ']' at the end before doing section matching, otherwise
    the strcmp() fails.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c50bdd8f4299e1faa8facf13229bf33400fc78d7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 21 07:14:04 2010 +0200

    Add missing os/os-netbsd.h file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 40705539ff54518d498999095da038841e7d1bd5
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Thu May 20 11:20:42 2010 +0200

    Include latest Makefile changes in Makefile.NetBSD
    
    Signed-off-by: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ea3e51c36e09f9363c983de2ae123f983ee3f25c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 17 19:51:45 2010 +0200

    Fix blkparse typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e3bd4c21cc239fbda992a4ede89ebb85f550920
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 17 12:29:57 2010 +0200

    Improve ETA for fill_device based job files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7452440e1efb40680fdc951eebc7499a95a62f86
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Wed May 12 15:06:46 2010 +0200

    fio netbsd support
    
    Preliminary NetBSD support.
    
    Signed-off-by: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 045396879167669c3809474422bc20866c81f6d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 4 14:20:21 2010 +0200

    Fix typo in flist_sort.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d29cd59a489ab6ad8121bff784e2a6bc3423c4c8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 4 13:06:47 2010 +0200

    Add flist sorting
    
    Imported from the kernel implementation.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4f5d1526bed98cde56829f9e5e040c6601c03236
Author: Erik Inge Bolsø <knan-fio@anduin.net>
Date:   Wed Apr 14 10:13:57 2010 +0200

    add link to new list archives
    
    Signed-off-by: Erik Inge Bolsø <knan-fio@anduin.net>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 656ebab7feb0c0b05aaa6bac9aa7d108c8cb9bbf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 13 10:39:14 2010 +0200

    Fix spelling error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 17af15d46a9bfa3109321ecddfd4a649e36ffac9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 13 10:38:16 2010 +0200

    Make sure that alias names are also valid on the command line
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d091d099aa867596745f2fa0d58631a14a746520
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 1 19:56:23 2010 +0200

    Make the 'closest option' print a bit better
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7de870993035f855e1d1299a2b5c2c90b792c238
Author: Vivek Goyal <vgoyal@redhat.com>
Date:   Wed Mar 31 22:55:15 2010 +0200

    Add an option "cgroup_nodelete" to not delete cgroups after job completion
    
    o Add an option cgroup_nodelete to not remove cgroups created by fio after
      the job completion. This can help a user in inspecting various cgroup
      files after fio job completion.
    
    Signed-off-by: Vivek Goyal <vgoyal@redhat.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 61eb313e28c0f0ba8eb144c5b5f331b6b74c4fc8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 31 20:05:59 2010 +0200

    sfree(NULL) is ok
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d77431b5975096bfd9aafb431c0aa656c9ae8fa8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:31:50 2010 +0100

    Only use true random generator for initial seed
    
    Than hokus pokus the rest. End result is still OK random, and
    it doesn't compress (which is the real test here).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 79c94bd37280c76a4e8e01ea008ba1853f7bef9c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:13:32 2010 +0100

    Add documentation for the random number generator
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 27ea68a59f0b17abead399311e24933897ab3da0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:12:04 2010 +0100

    "Expand" random number from 32-bit to 64-bit when necessary
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d54a144d8ce8531659f730f99eb7d6873c9d159c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:07:35 2010 +0100

    Remember to prime the random generator
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7e744013dca36be3840c45d13f4ae09947282bea
Merge: 1fbbf72 91da686
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:03:41 2010 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 1fbbf72e16c27a6fda636db3891a41cd37dc6666
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 23:03:18 2010 +0100

    First step at speeding up io_u rand refill
    
    Makes it 3x faster here.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 91da686ce2136e70c0ba734ad5698684582ab1b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 10:42:49 2010 +0100

    Keep the global command line bw/lat logs separate from per job logs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3d73e5a9549d30324d1c5e31eb644077380c0b95
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 25 10:38:07 2010 +0100

    Fix typo in bandwidth log command line option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fdba6ac393728b3f743013a6517a987fda79bd1a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 24 13:44:34 2010 +0100

    Remove default setting of clocksource
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ab4800473091e0c3bd43d9e96ed0fa406d231186
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 24 13:35:28 2010 +0100

    Add IA64 support for CPU clock
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4780fa263c038646ab803b63f23f486b2b7b1140
Merge: c223da8 03f0a3c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 24 13:24:05 2010 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit c223da83e253b0057bb029bf4fbb55a05844215c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 24 13:23:53 2010 +0100

    Add support for specific clock sources
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 03f0a3c55c495bf9ef0668d2b6b047eb499e5e3f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 23 08:29:38 2010 +0100

    Fio 1.38
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eef16f316456526b0a52fdfce2b70c12d7ad1b5b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 20 21:30:36 2010 +0100

    Make ARMv7 build and work
    
    Contributed by debian bug #573027
    
    http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=573027
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 331539ace6487a031f40281eacf41e4de008ad23
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 21:31:01 2010 +0100

    OSX should use off_t for off64_t
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3ae0637148904b5c68cb95e749460e37e3502a9c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 19:17:15 2010 +0100

    Only define str_sfr_cb() if FIO_HAVE_SYNC_FILE_RANGE is set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2d5c40e77a4ee9103de9a43f016d77858366e1a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 19:09:37 2010 +0100

    __dprint() fixup
    
    Only define __dprint() function when FIO_INC_DEBUG is set. And
    don't check debug type once, not both in dprint() and __dprint().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d048ba60fc1e207ac3204ef3306a32fac77293fa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 16:50:37 2010 +0100

    Add log_valist()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8e8af3c17e0d73b6efd959d1edb246a9bade2cbe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 16:43:22 2010 +0100

    Update other OS makefiles
    
    They lack profile.o and debug.o
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bf84eacbfc91a952eb5b781ad2955109c862d41e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 16:41:52 2010 +0100

    Make the dprint() processing out-of-line
    
    Instead of having the big macro inlined everywhere, only
    inline the mask check and put the rest out-of-line. This reduces
    the size of fio with 4% here, and speeds it up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1dec3e0787755c412b326619d63a24c58e7f4a6b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 10:33:39 2010 +0100

    Optimize __get_io_u() for better code foot print
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c639b1495d2776afbf66f91accff1e6000aa8f0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 08:48:05 2010 +0100

    Fix bad sign on td_verror()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 440a5981b37580b3c0f5109bc7f6b5a412ab67fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 19 08:08:06 2010 +0100

    Don't call getpid() in dprint() unless we are going to use it
    
    Reported-by: David Andersen <dga@cs.cmu.edu>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9bbf57cc80d915d8cc87240276334ddd5aaac547
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 18 20:45:43 2010 +0100

    Use 'o' consistently in fixup_options()
    
    It points to &td->o, and it's used interchangably in that function.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d990588ef84dacb107971143c239565e149d6f73
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 18 20:43:00 2010 +0100

    Set verify_interval to minimum blocksize if not given
    
    Otherwise workloads with bsrange settings will not work properly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3e11d0575df5b93cd09f8658964e1fb5d38a774
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 18 19:31:06 2010 +0100

    Catch error on ->commit and ->get_events
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 008618a8df7268a4f17ceef73f796af25252b2b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 18 19:29:45 2010 +0100

    Verify log message
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7758d4f0b0f87d53826e1a6a6302bdc16667ed2d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 18 16:50:31 2010 +0100

    Fix bad type usage in parse.c for external options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 285d451f5c3e034463ea49a5ba99e8e0eb1b83a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 15 13:38:11 2010 +0100

    Check for syscall definitions, before declaring __weak helper
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a54cf03496c0e181974a63c2b60b2dc522e4b8a9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 13 11:29:47 2010 +0100

    Add __weak sync_file_range()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ae2ddba4e74f06b5ec986d1c3387cd14e69f8146
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 10 12:49:03 2010 +0100

    Fix broken FIO_OPT_STR option
    
    Only break out and show help if the option had ->posval entries.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b62bdf2c3e8877c276796d1ed7909df194fc846c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 10 12:36:17 2010 +0100

    Fix parser bug capping multi value options at 2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f011531e61ae750cdf82074e0dea1379b07fa239
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 21:47:15 2010 +0100

    Update libaio/posixaio/splice for sync updates
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb849a795d2bfd99efdd66f5a3e475c9fb3edd86
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 21:44:55 2010 +0100

    Assign io_u->error directly in do_io_u_sync()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0a28ecda80a78c9d70ae38ced58f3a2fa9c9529d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 21:40:38 2010 +0100

    Abstract out generic sync helper
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e76b1da43606f86fc23c8acb63114cba0d80a1c7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 20:49:54 2010 +0100

    Add documentation for 'sync_file_range'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3843deb322eb7b54d2d19d7b1ce19c5dc44d57ff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 20:41:15 2010 +0100

    Make sure we handle multiple arguments to sync_file_range
    
    We need to be able to OR the values.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f6ddf1e568d5014925a98da316d92f9e6e03eb4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 20:40:44 2010 +0100

    Allow OR'able option values
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 44f29692cfba246981bb3c1b894333a6d2209f51
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 20:09:44 2010 +0100

    Initial suppor for sync_file_range()
    
    This revs the ioengine to 11, as we now have another data direction.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6d2e7ec8134c94e764e10b124ff9379877ec158
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 19:21:53 2010 +0100

    Remove debug printf()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 58c55ba02aca24ed30beb343fcb1dc3df4667389
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 9 12:20:08 2010 +0100

    Add profile td init/exit with stored data
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7eb36574da703ebdfac414d7428712320f552a96
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 8 13:58:49 2010 +0100

    Make profile io op overrides a dedicated structure
    
    Also add a 'get_next_file' hook while at it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a0741cbb98a0399d26e90cb05604bbfb20a45bc6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 12:46:37 2010 +0100

    Fix parse strlen() bug
    
    Commit 38789b58775ee5e00f4669f01b3c9da31a7345e3 checks the wrong
    string, it's unitialized garbage.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15dc1934435dc84d66547c4fc92d936224d7238f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 10:59:06 2010 +0100

    Allow profiles to override internal io_u functions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f5b6bb85364fcb8b2ac8d922ca65afd9dfabc9bb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 10:09:59 2010 +0100

    Allow the adding of 'posval' for dynamic options like 'profile'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a3073f4a296bba2cbd026603fe284341c370bfb0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 10:06:15 2010 +0100

    Allow holes in the option posval (possible values)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e58eb86d6ce20f7a550dfd28b6c789db5adab95b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 09:56:32 2010 +0100

    Add profile description
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07b3232de97ac32a873f0b5d17c8f49c18ed3ae7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 5 09:48:44 2010 +0100

    Cleanup profile support
    
    This is closer to where it needs to end up. No ext_options, just
    include profile options in the general option table (and mark them
    private for that profile).
    
    Profile options are only available after loading a specific profile,
    so there should be less confusion.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9f81736c7531e002038621577d5ffea571649bd7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 14:38:10 2010 +0100

    Make sure profile options get added to long_options[]
    
    Still the restriction that profile load must come after the
    private options, which is a bit odd. Still shaking out the
    oddities....
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2363d8df7c0c6fe0613dc8e7ae2fa6f098cbc0d8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 14:30:02 2010 +0100

    More progress on per-profile options support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e2de69dac799a1eecac1b52085f908729591ef5a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 14:05:48 2010 +0100

    Add initial support for profile specific options
    
    Not complete yet, we need to split option parsing for profiles a
    bit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 02c6aad501477833c7e017eec0bb14f8e6957b68
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 13:49:11 2010 +0100

    Add parser support for out-of-td option storage
    
    Currently the parser assumes the storage is inside a thread_data
    structure.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 79d16311c8d0c7188d73df77838fb1b4b6ff58db
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 12:43:20 2010 +0100

    Add support for loadable profiles
    
    Split the only existing profile, tiobench, into this setup.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 64d9d938dfae4b5dcdc0c6222d2ad11870617426
Merge: 9f988e2 fc2a6f2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 10:42:55 2010 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit 9f988e2ebb3bff7087cc9681a54bd7f0d0e42140
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 4 10:42:38 2010 +0100

    Add support for registrering external options
    
    Start of support for real profiles.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fc2a6f2266bc616f6444fb580053f9ea26e6e563
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 3 21:33:21 2010 +0100

    Quote profile name
    
    Makes for better reading.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 38789b58775ee5e00f4669f01b3c9da31a7345e3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 3 09:23:20 2010 +0100

    Add check for OPT_LEN_MAX being too small
    
    Will hopefully catch a bug like this in the future.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c06c78c04c415bcb33350e8e56b924b75b4e93aa
Author: Zhang, Yanmin <yanmin_zhang@linux.intel.com>
Date:   Wed Mar 3 08:26:30 2010 +0100

    Increase OPT_LEN_MAX
    
    When I run fio with lots of files on a disk, parameter filename's length
    is more than 1024 and tail filenames are cut.
    
    Below is a patch to increase OPT_LEN_MAX to 4096.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4ceb30d4b44957e252a75f7ee4170f36109934c3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 24 09:19:14 2010 +0100

    Use log_info() more consistently
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc77f56f79f6ae155e9eb26263ed686ef28b47ec
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 23 10:36:21 2010 +0100

    Fix bug in sha256 verify
    
    It was using twice as large data block as it should have been,
    causing verify failures.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d3e829b399a44b6d6ce9596a05f7a4bff5025573
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 22 19:58:41 2010 +0100

    Fio 1.37
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 85a863194fe44f815fe8d88cfc3dde6b22009c06
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 22 14:08:43 2010 +0100

    PA-RISC support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e72fa4d40565e7a213698d8696b81f80e4670982
Author: Joshua Aune <luken@fusionio.com>
Date:   Thu Feb 11 00:59:18 2010 -0700

    Fix FreeBSD support
    
    * Fix dep calculation in Makefile.FreeBSD to ignore other os specific
       header files, avoid blowing up on includes in os-solaris.h
     * Mark FreeBSD as not supporting fdatasync()
     * Add documentation note about FreeBSD not supporting fsyncdata=
     * Add warning if fsyncdata= is used on os that doesn't support, fall
       back to fsync()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e449797e5071605a1fcd9094e40cecca4a647619
Merge: b30d395 e943b87
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 6 23:37:07 2010 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit b30d395ec288508f9c787af11d0f52e9df26e39f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 6 23:36:26 2010 +0100

    get_file_type() should use stat(), not lstat()
    
    We care about the device, not the potential link we are passed.
    
    Reported-by: "H. Tolley" <h_tolley@hotmail.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e943b8785fa19ab5536d91242f1063ae809cdf2b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 2 09:48:13 2010 +0100

    Track last file offset
    
    Avoids doing an lseek() in the sync IO engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7bc8c2cf02fbd538ca388618ff2f4618787a86e0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 28 11:31:31 2010 +0100

    Add specific knob for controlling fallocate() usage
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 98061ac36a26e216635cba6cf348f36360bd206e
Merge: 975462a e0c4a46
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 23 08:55:54 2009 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 975462a6cbfe5c97ba6d7207978467748611b5ab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 23 08:54:52 2009 +0100

    Allow 'b' postfix for integer values
    
    Fio would previously regard '1tb' as just 1 byte, since the 'b' postfix
    isn't a valid multiplier. Allow the 'b' as well, just ignore it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e0c4a4691b78163e8dfca9221147b2b076819cf3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 22 09:06:43 2009 +0100

    Fix barrier for sh4a
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c4d8710f7cd2d449f452082786c9e59186aa388b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 22 09:03:58 2009 +0100

    Fix sh4 typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29721c9ce4f85775ff77dcb04bd26a7f10272e47
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:   Tue Dec 22 09:03:25 2009 +0100

    sh4 support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fa77073a574c3b322529fe11c4af16eed1667079
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 21 13:30:31 2009 +0100

    Add generic arch include header
    
    For a newer glibc, this should work (as we don't need private
    splice defines, for instance).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b71b80d679ddd48d5fd87e3df9f28dab678f9727
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Dec 20 22:30:27 2009 +0100

    OSX should include sha1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c36d16f5a0b9e3d505c9933bbbdccdb519ca4faf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Dec 20 22:29:10 2009 +0100

    Make fdatasync OS optional
    
    OSX does not have it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a14ca44ada0708be91ed7741a32176bef4801cc4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Dec 20 22:24:10 2009 +0100

    os.h should include headers it needs by itself
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d09913c248f04ab33a7e7bbfb2227e9db8b9f4a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 16 19:23:10 2009 +0100

    Include juggling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0983d0124fff305d0945098fe7b4b9c44657fd8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 16 09:53:24 2009 +0100

    Add Solaris helper object
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f8ed6d895233a874ce4e119f24d759445dff254d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 16 09:50:05 2009 +0100

    Make weak posix_memalign() private to Solaris
    
    OSX has posix_memalign() but no memalign() and no malloc.h
    standard include. So until we have a autoconf based build
    system, move this weak helper to the private Solaris header.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 535313705d69dc16f27ca38acf2f9bf7205e410d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 15 10:28:37 2009 +0100

    Add generic random helpers
    
    FreeBSD and OSX can both use these.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3b2e1464ae58caf42c74ab4bdeaa5eae7c38a23f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 15 08:58:10 2009 +0100

    Fix some issues with the OSX port
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2afd826bf6cd19900aee70ae14ede92d91b6f4c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 14 23:08:42 2009 +0100

    Support for Mac OS 10.6.2
    
    Contributed by Small Tree, adopted to newer fio version by me.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bf2e190b8daeb4717726d469fd0ced9f4771000a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Dec 10 23:17:39 2009 +0100

    Fio 1.36
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ba3e4e0ca697f83c97a250d85a74506ace69de2c
Author: Radha Ramachandran <radha@google.com>
Date:   Wed Dec 9 22:31:44 2009 +0100

    Fix rate option with iodepth > 1
    
    The rate option currently doesnt work when used with libaio engine.
    The math currently, calculates the time t2 (when the I/O completed) -
    t1 (when the io_u unit was created) as the time it takes for the I/O
    and the bandwidth for the rate calculation is calculated from that.
    This math will work correctly for sync engine as there is only one io
    in progress at a time, but for libaio engine, when there are multiple
    I/Os queued, the same time (as in from t1 to t2) could be attributed
    to other I/Os as well so the actual bandwidth is actually higher.
    I have a patch, but this is more brute force where I take the total
    bytes read/written divided by the time since I/Os started to calculate
    the bandwidth and decide on the time that needs to be spent sleeping
    (if any).This is a little more heavy weight than the previous math. I
    think there are probably simpler/cleaner solutions than this but this
    is the current patch I have for it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2a1ed1a110d9c6f76a4a11974652c0bb9307b68
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 8 10:10:31 2009 +0100

    Fio 1.36-rc2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e0b0d89201bd301f47fbbfcf86545b7e77b16ef3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 8 10:10:14 2009 +0100

    Add support for specifying UID/GID
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 82830b03d854b8e018241b90c2d9fd83752a3236
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 7 08:02:22 2009 +0100

    Fix compilation for non-linux
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6adb38a1a1cbe95f7131815416c8bb31683c3f47
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 7 08:01:26 2009 +0100

    Autodetect cgroup blkio mount point
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed81ee199ec8f3cdfcdc78ff067a0397c3b02f5f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Dec 5 22:30:04 2009 +0100

    Fix an inverted cgroup exit check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8eb76f78b96cfc1b1ab7b5f629e90c39ca7375fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Dec 5 09:43:33 2009 +0100

    Fio 1.36-rc1
    
    Usually don't do -rc releases, but we have some substantial additions
    this time.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8a4d0ff0b2d8192ef58e69b7f2a3c976f3bebd5c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 22:13:43 2009 +0100

    cgroup cleanups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dae5341c3059273242598de2bc27cc9f18c627c1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 19:54:18 2009 +0100

    Move cgroup list to proper shared storage
    
    Otherwise we have per-job lists, and that doesn't help very much
    with cleaning up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3858bf9eb509136b800cda1a08247e9c0ff167b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 19:26:22 2009 +0100

    cgroup cleanups/fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 39f22027248f658ade599e89c2fe6afae02ac9d7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 11:29:12 2009 +0100

    Better support for setting up and removing private cgroups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ddf16fe4da558a2778bf1ba06c965080d318cb24
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 10:54:45 2009 +0100

    CGROUP fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a696fa2a9c2e21a1c88813235d6fc39d267f6155
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 10:05:02 2009 +0100

    Add support for blkio cgroups on Linux
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d481e00608dc118e646b6fee9c9292c1ab35448f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 4 09:56:32 2009 +0100

    Move back to realtime clock
    
    On some systems MONOTONIC still causes a hang.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c5c8bd5c9b265df2c7feb386b5c1fba0a5a34eec
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 24 13:01:41 2009 +0100

    Add helpers include file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f166280e4cb2b3939a66359117798e46caf49591
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 24 08:48:21 2009 +0100

    Fix compile error due to missing ENOMEM on some platforms
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f9e256ba1f5f57a61fd6bc9e6ed6cc2f996c0838
Merge: 7d289b2 d4c5b19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 24 08:48:01 2009 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit d4c5b195ac12322c943f0fda18e84f067272cc8e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 23 21:42:46 2009 +0100

    Add weak helpers to other makefiles
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7d289b2a318b3412ffbc33b0e3e4061bba922b90
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 23 15:21:39 2009 +0100

    Fix posix_memalign() return value in case of error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed80ddf66943dc2654a92eb77b57c3d68613e9d6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 23 15:14:48 2009 +0100

    Add posix_* weak helpers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 11f97f307bbba7c320b0dab0a55ef6795b72e3d6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 23 13:01:01 2009 +0100

    Re-include fallback BITS_PER_LONG fallback
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f5bf577570e77231a245c3a90b4002244d1382e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 13 21:25:03 2009 +0100

    Correct size of tiobench profile
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9ac8a797da61a59c9fa1b59f8574246555403d19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 13 21:23:07 2009 +0100

    Add support for simple profile benchmarks
    
    One of the reasons that tiobench gets used a lot, is that you
    simply have to run it. For "real" benchmarks, you usually
    have to configure them first. This adds support for easy testing
    by adding some predefined and included workloads. This commit
    includes tiobench, to run a tiobench like workload you would
    simply do:
    
    $ fio --profile=tiobench
    
    and that would be it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7a958bd5974368e97058ab17ea94611e4d723da0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 13 12:33:54 2009 +0100

    Only do math on known keywords
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 892a6ffc5363ad7f1750df9f3ec98624016660cd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 13 12:19:49 2009 +0100

    Support simple math on reserved keyword expressions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b7a3e6616829c16ba11ff2d5f7c17a598e40dfeb
Author: Radha Ramachandran <radha@google.com>
Date:   Thu Nov 12 08:42:43 2009 +0100

    Log bad verify header location
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a8617add8d5ba01e08203bea84edf23ccebc4e85
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 5 08:58:55 2009 +0100

    Fio 1.35
    
    A few nasty bugs fixed since the last tag, so lets
    cut a new one.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6a96276c901992b21c3ad93f95ab0a081c7d6bb1
Author: Radha Ramachandran <radha@google.com>
Date:   Thu Nov 5 08:33:49 2009 +0100

    Don't pass more than the queued IO depth in to getevents()
    
    Otherwise we can hang fio, since it'll attempt to wait for more
    IOs than we have in flight.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2ecc1b57721e3cb72bbf558bc169c97037fe3d0a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 4 20:58:09 2009 +0100

    Fix race on io_u->flags
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit daaa166fb4d4869882885094d8b8ad44f6d159ce
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 4 13:56:13 2009 +0100

    Move BITS_PER_LONG define to arch
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b4707ed7905cc4f1839f799cc1fe8d4b37a1fcef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 4 12:51:17 2009 +0100

    Wait for async threads before freeing/killing IO buffers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 457bf399b5391f9a11d9ca0a619aeccac1962ce6
Author: Glen Ogilvie <gogilvie@oss.co.nz>
Date:   Tue Nov 3 21:52:36 2009 +0100

    Fixup iolog replay and add 'wait' command
    
    I have been working with Mike O'Sullivan, a senior lecturer at the University
    of Auckland, New Zealand. He has been adapting fio 1.34.1 to work with iolog
    files and also to be able to read a "wait" command to allow the iolog file to
    specify a wait (in millisecs) before the next io. Mike's not completely
    confident that his changes are correct in the overall fio picture, but they are
    working with the iolog files we are using. What we did:
    
    1) We incorporated wait into iolog file reading;
    2) We made some modifications so that read_iolog worked.
    
    We have attached a patch for fio-1.34.1.tar.bz2 along with some demonstration
    fio config files and iolog files.
    
    We are doing this so we can use an open source SPC-1 emulator to
    generate SPC-1 like workloads and then run them in fio.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0c41214ff4e6f31f8df64aac37be7853aada6f1f
Author: Radha Ramachandran <radha@google.com>
Date:   Tue Nov 3 21:45:31 2009 +0100

    Fix race condition when using asynch verify
    
    I discovered the race condition when using asynch verify with libaio engine.
    The code assumes that because the td->cur_depth value is not 0 that
    there is still I/O pending and issues io_getevents when the I/O was
    actually being verified by the asynchronous verify thread. This causes
    the code to hang.
    
    (Updated by Jens to use a new io_u->flag bitfield instead of adding a new
     integer to struct io_u).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0e92f873a3d542d2b237d68fd9391c92a85fa0b8
Author: Radha Ramachandran <radha@google.com>
Date:   Tue Oct 27 20:14:27 2009 +0100

    Support > 4 byte verify write patterns
    
    This is the patch I have to write/read/verify hex patterns of size > 4
    bytes.  I have tested these on hard drives and did not see any
    performance change. I am assuming the performance drop if any might show
    up in the read phase for probably solid state drives and maybe it can be
    worked around using the asynchronous verify flag.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b2c754d12177c6ef6f9ddfaa8d52663debdb0c1f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 15 07:11:30 2009 +0200

    Fio 1.34.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit df9cf928c7d93e1097c7e205893a72f828ecc9f6
Author: Kenneth Waters <kwaters@google.com>
Date:   Thu Oct 15 07:08:48 2009 +0200

    Fix bug in bssplit parsing
    
    I found a bug is bssplit parsing in bssplit_ddir() when trying to use
    FIO on an ARM platform.  It looks like str_to_decimal() takes a "void
    *" as its fourth argument, which it passes to get_multi_bytes(), which
    is passes to fio_get_kb_base(), which casts it to a "struct
    thread_data *".  bssplit_ddir() is passing in "struct thread_data **",
    which I think is causing fio_get_kb_base() to go paw around in the
    stack; I believe the different stack layouts between ARM and x86 is
    causing me to see this problem.  The first change that introduces this
    bug seems to be d6978a3242daad9cb7b0710b724f19225d1ed7e2.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c965f3a2ec2e188606946c2f096a0ec2cc07a5f
Merge: 666bf12 69a852f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 7 22:02:15 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 666bf1234912c3790ff1e6204596891c6ef7180c
Author: Roland Dreier <rdreier@cisco.com>
Date:   Wed Oct 7 22:01:42 2009 +0200

    Fix problem with mutexes and MONOTONIC clock
    
    With the latest fio git tree, I get:
    
        fio: job startup hung? exiting.
    
    on startup, and it looks like the latest commit, 69a852f5 ("Fix wrong
    clock source in mutex") breaks things for me (Ubuntu 9.10 beta).  My
    system seems to use CLOCK_REALTIME for pthread_cond_timedwait() by
    default.
    
    The cleanest solution seems to be to explicitly set which clock to use
    in pthread_cond_timedwait() via pthread_condattr_setclock() when
    initializing the condition variable, although I'm not sure how portable
    this is away from modern Linux (ie do all platforms that fio cares about
    have pthread_condattr_setclock()?).
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 69a852f567ab20358fe21b7815626c27a4214b42
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 6 08:50:01 2009 +0200

    Fix wrong clock source in mutex
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b767c7f8e3fd8efff51debe39149c65028cf963d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 1 19:45:31 2009 +0200

    Fio 1.34.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e99ca81de760ab146dbba4105a8691c25cb1dec6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 1 19:44:36 2009 +0200

    Really fix dm/md slave disk utilization
    
    We should just handle it internally in the disk util inc/dec. Make
    it iterate each slave and modify their usage count, too.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 631c95e0ef133f5a1b014deea4f9cebcb1cd4446
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 1 19:39:26 2009 +0200

    Revert "Fix disk utilization for md/dm slaves"
    
    This reverts commit f03f8e473b7c8a5c4ed2de0b99717cf75521bf69.

commit 4744ed623e910289bed0f358ad939e74470d0e64
Merge: 792d551 f03f8e4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 1 19:38:41 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit f03f8e473b7c8a5c4ed2de0b99717cf75521bf69
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 1 11:20:03 2009 +0200

    Fix disk utilization for md/dm slaves
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 792d551747e83601121afce033a66f357c9fc439
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 22 17:12:29 2009 +0200

    Add generic bdev_size function
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 783500ad13ededece6c8912af1c937f990880e1f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 15 19:54:43 2009 +0200

    Fix compile error on IA64
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e266ba6f1235c9201c95026714f8b1e3b99f344
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Sep 14 08:56:53 2009 +0200

    Add a bit of huge page documentation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit da7d79b07a41d0b3505feecda2561811217ea8e7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Sep 14 08:51:55 2009 +0200

    Add hint on being root for EPERM and shmhuge error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d488d68cf86468c0f1dc3075d9953ce2aab67808
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Sep 12 21:34:19 2009 +0200

    Fio 1.34
    
    Two critical fixes since 1.33 warrant a new release. This now works
    properly with shm huge pages again, and a deadlock with lvm
    component resolving is fixed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a1242a20ac186dccdf8a72e37b9c331e0b4f8a5e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Sep 12 21:33:51 2009 +0200

    Make sure shmhuge allocations are huge page size aligned
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0b9d69ecb14045cf3b2622ae922756b9889b25e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 11 22:29:54 2009 +0200

    Silence the style/whitespace police
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2db4ecca2d502c6d26386b5eb918a7957d98afb7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 11 22:22:41 2009 +0200

    Cleanup diskutil.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d31592c81579e2baae0f88fa0463d967bf452699
Merge: b06de82 0717248
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 11 21:34:49 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit b06de82e3b075874733dd233571499c1c1ca453c
Author: Alan D. Brunelle <alan.brunelle@hp.com>
Date:   Fri Sep 11 14:57:10 2009 -0400

    Bug fix: handles disk device used multiple times
    
    There were issues in having the same underlying device being referenced
    multiple times (via different paths) when reporting storage I/O
    statistics. As an example: having two (or more) LVM2/DM volumes crafted
    out of the same MD array.
    
    This patch simply skips over any devices previously seen.
    
    Signed-off-by: Alan D. Brunelle <alan.brunelle@hp.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0717248204729f11d657dc26d2a78a8a40ce0609
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Sep 10 09:54:55 2009 +0200

    Fio 1.33.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9fcf07ee7a3eb506ee332e35ceabe909d10a719
Author: Martin Steigerwald <Martin@lichtvoll.de>
Date:   Thu Sep 10 09:44:29 2009 +0200

    Fix typo in write_barrier() on Alpha
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0d5b625cd2f800c64948311cf0f51259d8a83533
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Sep 5 20:44:59 2009 +0200

    Fio 1.33
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b892dc0884495df8aa56f8eda31ffece497eed3c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Sep 5 20:37:35 2009 +0200

    Document the verify behaviour wrt read and write workloads
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 715d2b3e02834232154604b91de1f9db53572a77
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 4 20:53:53 2009 +0200

    Don't assume read IO are always verifies if verify is enabled
    
    If it's a mixed read/write workload, we're likely just wanting to
    verify the writes we do.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c28b912f77c3dafbdcdcf4def2c8c1f9c127100c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 1 07:23:57 2009 +0200

    MIPS support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 755c31896364ad2887c07e0383ce639d1f5b52ab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 25 22:14:29 2009 +0200

    Don't start new groups for numjobs=
    
    No point in doing that, and it makes two identical jobs behave
    differently if typed manually or implicitly with numjobs=x
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c6e13ea5028b958494d1450d5a4242226d554ab2
Author: Michael Prokop <mika@grml.org>
Date:   Wed Aug 12 17:24:41 2009 +0200

    fio.1: fix hyphen-used-as-minus-sign
    
    Signed-off-by: Michael Prokop <mika@grml.org>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 23d2461974c334d77eb7a06a2dbd1f37aeee85d4
Merge: 7c353ce 74929ac
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Aug 9 22:40:50 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 7c353ceb3257b132f4c98326046b42201e070731
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Aug 9 22:40:33 2009 +0200

    Add Linus' optimized sha1 hash for checksum
    
    It does appear to be pretty fast.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 74929ac27bcbaa26a08a9abcda70b5ebba94166e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Aug 5 11:42:37 2009 +0200

    Add support for reserved keywords
    
    Currently $pagesize, $mb_memory, and $ncpus are supported.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a1c58075279454a91ec43366846b93e8dcf9753c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 23:17:02 2009 +0200

    Add strong madvise() hint for cache pruning
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 56075b96f307f8276f9d032ac8404622b94a456c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 23:04:18 2009 +0200

    Remove old FIXME comment
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 617a2013384ae474177a8a9c151468e3d3fd8944
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 23:03:39 2009 +0200

    FreeBSD: use generic bdev size retrieval
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 515d18304324c2e11f40742c394c90799913fa67
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 12:49:59 2009 +0200

    solaris: implement blockdev size getting
    
    Just use lseek(..., SEEK_END), we should actually be able to use that
    on all platforms.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 983b770d547c11d8b0a4ef9e1ac75ffce1d4e46d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 12:49:36 2009 +0200

    solarisaio: fix aio errno assignment
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8e827d35068326950a6781d93aeef33b66d3438b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 4 09:51:48 2009 +0200

    Allow ':' in filenames
    
    You can now use '\' to escape a colon in a filename.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f2b7ce1c8f2d5ada9b0f789b48b94dc234195fa8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Aug 3 10:54:41 2009 +0200

    Solaris cpu affinity fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 644eec5656e695ab215733108c634c056e1f8e3d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 31 11:23:28 2009 +0200

    Fio 1.32
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e012980ff5f8396a3e3ebc432e1dd32cebedaa1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 31 11:23:19 2009 +0200

    smalloc: enlarge pool size
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c5d3d7901f7b8225d31486894ff7778b0ac3d582
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 31 11:20:52 2009 +0200

    Fix problem with bw log not working for writes
    
    We inadvertently only updated the read stat sample time cache,
    so writes never logged any activity since negativ time spent is
    rounded to zero.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5338f35ddd52203048e2f6262b7254dddc2d8d52
Merge: e92d3d7 d6978a3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 27 12:28:21 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit e92d3d714acfe180413f63a5e5327de594aad0ef
Author: Radha Ramachandran <radha@google.com>
Date:   Mon Jul 27 12:27:55 2009 +0200

    Verify pattern & header meta data
    
    Also verify meta data when doing pattern verify, if available.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d6978a3242daad9cb7b0710b724f19225d1ed7e2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 18 21:04:09 2009 +0200

    A few more kb_base fixups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a639f0bbd278365a2fa15031afd29a24dc917437
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 18 08:25:35 2009 +0200

    Make kb_base apply to parser k/m/g etc values
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b09da8fa5be85634a3e8331d6e5ce07cd427a5a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 17 23:16:17 2009 +0200

    Add tera/peta suffixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 86375e3446fdeb6c4dd1406cc0e4c456af954a2c
Merge: 90fef2d 10033c3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 17 22:33:45 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 90fef2d162fba55ad684c2c80b3b9739b8d16e72
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 17 22:33:32 2009 +0200

    Add kb_base option to specify the base unit of a kilobyte
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b22989b9f9349b3c1d1c41846ab27ff0914bd6de
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 17 22:29:23 2009 +0200

    Get rid of KiB vs KB distinction
    
    Confuses more than it does good, drop it and default to just using KB,
    MB, etc.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d447a8c25a735519089626b3047da646597a7c6f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 17 22:26:15 2009 +0200

    parser: dump valid option format for ->verify() fail
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 10033c3e01523082fc3a45879888ba229f634d1e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 10 08:48:17 2009 +0200

    Fio 1.31
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01a1caa5de2199b7679b7becf0e8c63e0ecfc373
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 10 08:47:57 2009 +0200

    Fix broken completion latency numbers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 122426daab0fbd2fce244ac018d737a8f302f974
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 7 23:03:06 2009 +0200

    smalloc: just round alloc_size to int aligned for post redzone pointer
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cf98708da292cb9e77bb6aff4eda7652103f4f77
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 7 17:43:11 2009 +0200

    Make smalloc redzone pointer properly aligned
    
    It would SIGBUS on archs that require proper alignment, and work
    suboptimally on others. Real fix is pending, making sure that
    we always return naturally aligned pointers. But this at least
    makes it work on sparc64.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e40823b10920f679d84f3f2222e319c168b1e7da
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 14:28:21 2009 +0200

    Print error on thread init failure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c85c324ca4c55e482f4233c14c64ce5f88b35be3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 14:12:57 2009 +0200

    Async verify HOWTO/man update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b36e298b5bdfc31ffc9a4c14e94a9c5c748888b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 14:12:52 2009 +0200

    Code indentation fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d561f2ab37ef5729882ef3c6e6ed8ee49414955f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 13:51:05 2009 +0200

    Make async IO verify offload handle errors properly
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e53ab27c7425241d64e8d64ad77850a776c01375
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 13:43:46 2009 +0200

    Improve async verify offload efficiency
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e8462bd8250cf3ff2d41f17e1a4d4cefc70b6b37
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 6 12:59:04 2009 +0200

    Add support for async IO verification offload
    
    This adds support for setting up a number of IO verification offload
    threads, instead of doing the offload inline. An option for controlling
    the CPU affinity of those threads are always added.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8f933caebc879fa06bb8d2d25802dd6f27da8071
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 4 20:29:04 2009 +0200

    mmap engine: remove code duplication
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed47cbf7063df84343cd79fdc64eb7bbf7d6df2a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 3 22:52:38 2009 +0200

    mmap engine: allow full mmaps for 64-bit machines
    
    No need to do partial mmaps there.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3d87c7a89fe27e2c593ab690a56911375aff99b5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 3 08:40:55 2009 +0200

    Fio 1.30
    
    O_DIRECT accidentically got broken by the iomem_align option, so
    lets just cut a new major release.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb21168269d746d80d82f28ed4db65c2750a8fd7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 3 08:38:50 2009 +0200

    Add warning about potentially missing O_DIRECT support or bad alignment
    
    If the first O_DIRECT fails, then it's likely because:
    
    1) The file system does not support O_DIRECT, or
    2) The user set iomem_align to an unsupported value.
    
    Let the user know, otherwise they only see EINVAL and may not realize
    why things aren't working.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8b5f73134cfaab8e3f72bea4166e57c59c635b69
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 3 08:33:08 2009 +0200

    Don't limit direct IO to 512b aligned
    
    This is a platform restriction at best, eg on Linux block devices must
    have 512b memory buffer alignment (or hw sector size). With NFS, this
    is not required. And other operating systems may have other limitations
    as well, so don't hard core anything.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fc966bef0afd0b6801509a9038951dce46f2ecc4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 3 08:30:15 2009 +0200

    Fix O_DIRECT memory alignment
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit aea691c6c2828dff0ee50d7418091d1cb6a1f2a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 2 10:20:26 2009 +0200

    Fio 1.29
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e0ae4dfde29797aa33141100205cea3b2dc8f034
Merge: 8a4f8a2 656b139
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 2 08:31:30 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 8a4f8a24a23a1f95ce28338d697c9b552e7e06b4
Author: Radha Ramachandran <radha@google.com>
Date:   Thu Jul 2 08:30:49 2009 +0200

    Fix issue with fill_device=1 and continue_on_error
    
    I added a change so when both the continue_on_error and fill_device
    option is on, when it hits ENOSPC issue the code ignores the error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 656b1393d43f9f22738404582ea14dec956aea83
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 23:02:10 2009 +0200

    Add code to detect a task that exited prior to up'ing the startup mutex
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c0d224129b0c59698e4c77e7fed00dc8cbb50e1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 12:26:28 2009 +0200

    Don't allow pre_read on IO engines that cannot seek
    
    We cannot pre-read files, if we cannot seek back and read the same
    data again. So just disable it with a warning to the user.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c103f2440db0ceab0eb6c0d6669be285766fb495
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 10:45:31 2009 +0200

    Fio 1.29-rc1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 276ca4f7db8d0102ca2412d85910b5a30258462b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 10:43:05 2009 +0200

    Fix compile error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29d43ff9b1f342fe6658b17f0e349afcb6b76014
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 10:42:18 2009 +0200

    Move gtod_cpu affinity check to verify callback
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 896cac2a44de3725a6d615914e239cab4f382e1c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 10:38:35 2009 +0200

    Move rw= write && read_only check to ->verify callback
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d529ee1932bc85598900a3ef62f01293af87fbd8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 10:33:03 2009 +0200

    Add support for the iomem_align option
    
    This allows detailed control of the alignment of the IO buffers
    that fio uses.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 70a4c0c8417bba7c2e1e9a384b9acf226f5b9782
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 09:24:05 2009 +0200

    Add verify hook to options
    
    This allows us to individually verify options, instead of having
    a big function that attempts to fix things up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3980127d55c6b1773274bc854aae4589aa3f785a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 09:06:12 2009 +0200

    Only show maxval in --cmdhelp if it is given
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 829a602cdc0a1a1264b51310ba4df694f47e57f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 1 09:00:52 2009 +0200

    Cleanup IO buffer memory allocation
    
    This is in preparation for adding an option that controls the
    alignment of the buffers.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ff455a04f4e77d5a41532cda61b6fb82a37c2658
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 29 11:54:56 2009 +0200

    mmap engine: fix for large files on 32-bit archs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f6db4fa5a64501a3df72c2c4394d4c8d9fd9d991
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 16 23:23:01 2009 +0200

    sg engine: IO should be done sync of O_SYNC and O_DIRECT
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f9099ea8adf423d0db01274ef0d7e65629c0e1c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 16 22:40:26 2009 +0200

    Add support for fdatasync()
    
    Adds a new option, fdatasync=. It's identical to the fsync= option,
    but uses fdatasync() instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 77710811111850d125bee164dec80215b79e6c3d
Merge: dcb4830 fd4442b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 16 08:31:58 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit dcb4830de5a347dc929148d0e6cb7c4da9eb3a56
Author: Radha Ramachandran <radha@google.com>
Date:   Tue Jun 16 08:31:29 2009 +0200

    Alter the order of checking time exceeded vs getting an io_u
    
    I was hitting a case where fio would loop for ever even though the
    runtime was exceeded if it had difficulty getting the io_u struct, so
    I suggest this change to the code so it wld not loop forever.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fd4442b8c33de3bad7d4d31df75e3109900ac70e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 15 23:29:54 2009 +0200

    Default print pretty up
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c1f75438a5888d96b3aa4f6a0cac50c4d4047f14
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 15 14:45:43 2009 +0200

    Cmd help type fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1ec99eea970609e63f49982f0d052a23ac18848d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 15 12:37:30 2009 +0200

    Fix typo on continue_on_error patch
    
    Also expand the error print a bit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f2bba1820a567ac00b09916239ac8feb125cead2
Author: Radha Ramachandran <radha@google.com>
Date:   Mon Jun 15 08:40:16 2009 +0200

    Add a 'continue_on_error' option to fio
    
    Add option to make fio continue on non-fatal errors.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9896178e0969cacb521e004e59c580eab63f35f3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 22:06:40 2009 +0200

    Fio 1.28
    
    Should be good enough for another major release.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b23b6a2f66637e326c5825bf438059ecc62008d4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 22:06:23 2009 +0200

    Yet another rate fixup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 40e1a6f09be0d487ce08e68e2bf9b0a01d771c8a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 10:55:39 2009 +0200

    Improve rate limiting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4580885d413c7bca742dc2a373b9afcd5f48d7f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 10:41:28 2009 +0200

    Get rid of (now) unused rate_throttle()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e69d6e30c8b82082cb440e926037bc1a91710856
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 09:56:36 2009 +0200

    Fio 1.27.4
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 54c00a8e27c0b6842fa73016d74087a9fabc925d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 11 09:56:21 2009 +0200

    Remove a reference check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2be3eec330360e6735fb4e7d70907e11eaa346f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 09:05:13 2009 +0200

    File close fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 39d9ef6a390466ccf58b8579ed2da508456594d0
Merge: 3ce9dca f6c4c07
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 08:55:35 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 3ce9dcaf8e766557cb718d21f51e8f691bef9afb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 08:55:21 2009 +0200

    More documentation updates
    
    fio.1 should now be in sync with HOWTO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c35dd7a6ce7bed8a5345c69e7b5499c71908d21c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 08:39:16 2009 +0200

    Documentation update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f6c4c074cc21283f5180f85ee06502544386058a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 06:58:47 2009 +0200

    Fio 1.27.3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29a90ddbe14d438463617e4629f7a9138854d466
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 06:57:47 2009 +0200

    Fix slat numbers
    
    After commit 306ddc9752eef70c3fbb111af63d197a3a6d447f, it was logging
    the blocksize since arguments 3 and 4 were switched.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d982d8736925d1206d7f344a50bcc2fdd91e367b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 10 06:35:48 2009 +0200

    Fix bad min rate check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e01b22b8fe3f20376fe8fdc6f2c28cc3682d698e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 15:43:25 2009 +0200

    parser: get rid of FIO_OPT_STR_VAL_INT
    
    It's treated the same as FIO_OPT_INT since we got rid of the
    int vs siint distinction.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 835d9b9ed0e5c2591b8a3eacbd5f4ab6bdab466c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 15:23:38 2009 +0200

    Use __e for errno
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8fe9eff3795f1e2a57391370adc6304f55c50b23
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 14:38:06 2009 +0200

    Fio 1.27.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 22a57ba81de2c3f458797e9158da760c9e0ea435
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 14:34:35 2009 +0200

    Fix problem with too many opened files
    
    If using raw block devices, we would leak the fd from the bdev_size()
    function. Also add some debug triggers to catch this in the future.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2cc529306ff529100449f9002978b271facb8380
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 14:14:20 2009 +0200

    Bad indent
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec76f15a4ae995c06db6c6dda6a6fa41b189f613
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 13:05:32 2009 +0200

    Fix fd leak in cache line checking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cf2dd8d64f1211a24341a296c56a671593bce7a4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 12:58:37 2009 +0200

    Missed int to pointer conversion check for ->ratemin
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1621031e8a7cbb91afad124da405fc4eabda764f
Merge: 581e714 890abca
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 12:48:56 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 581e71417760e0aa86eac0acd704253ff0eeea4f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 12:47:16 2009 +0200

    Add support for limiting only rate in only one direction
    
    So now you can say 'limit writes to 10MB/sec' and have reads go
    full throttle, for instance.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c8f1a5ce2ecde0ef8372e983895855ac838c76c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 9 12:28:57 2009 +0200

    Fix bug in parser with postfix and truncated direction values
    
    If you pass in foo=500k, then the 'k' multiplier will go unnoticed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 890abcad90e450484f89733d1bc1ad8a30016311
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 5 22:12:19 2009 +0200

    Fio 1.27.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0d1cd207e409a36313784cb9596990c819775f77
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 5 22:11:52 2009 +0200

    Fix fill_device with read/randread
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29c8e868723e1b539d402d1accac97f872f355ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 5 22:10:51 2009 +0200

    Move td_* ddir defines
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9f484791ffd436f39bae0b601e6fc97942c1814
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 12:14:08 2009 +0200

    Add pre_read to man page
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9f98a793c10943814851e6840fc475d31cea0d1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 11:36:29 2009 +0200

    Fio 1.27
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d1bd7213c61dabc5e7ae967614e38923123a1f1a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 10:53:45 2009 +0200

    Improve throughput ETA display
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit adb02ba8e05ccbb1c1985791d0ee52828bcbf6aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 10:47:44 2009 +0200

    Add iops rate to ETA display
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0a4957c60fb35db0973c15c4c2adbd3bac854ccd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 10:30:33 2009 +0200

    Fix bug with rwmix and multiple loops over the same set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c592b9fe12d4739d99d5bece517e304804876df6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 09:29:28 2009 +0200

    More fio.h cleanups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c9b1bce094d58c374b086bbb780c08265623ea4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 09:25:57 2009 +0200

    Split off diskutil include
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 590aebda258e146edd73382121be9c84643d8f1b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:54:00 2009 +0200

    Move file service type defines to file.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5995a6a46a4c697a6c68c02da3c7c46c0cdea23f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:53:28 2009 +0200

    Add iolog defines
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2b4f4abec640f36ccdff39de00e74b2234e27116
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:50:36 2009 +0200

    Move IO engine flags
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dcefb588d556828af570221b2dc276a6376c8557
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:49:39 2009 +0200

    Add ioengine.h header
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4cd02b3f7f4eda0ec263f04422ab6424b7693605
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:46:38 2009 +0200

    Move more file stuff to file.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4f5af7b2370a6d3e64bc5128905c1aa8b0dc51b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:45:40 2009 +0200

    Cleanup verify headers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d6aed795f2e3e403828abf60874dd2d6e8342a1b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 3 08:41:15 2009 +0200

    Clean up file flags
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e0074c2bfa46deddbad3b524c253a63dba05e63
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 21:40:09 2009 +0200

    Fix problem with fill_device and read workloads
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 34f1c044d361d04a576c3e7ed387fe064f9db5c6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 14:19:25 2009 +0200

    Make pre_read imply invalidate=0
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 468306a1afe83d94692da391d2c18982a1cd41a6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 14:18:41 2009 +0200

    mmap engine: don't invalidate cache on segment remap
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4e9401cdc69751ab4739df08140a2bbadee7da77
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 13:41:27 2009 +0200

    mmap engine: remove 'mmap too large' check for 32-bit
    
    We now support large files regardless of architecture, so just kill
    the check again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ac89311241264280574c81e6400c9a0c59615082
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 13:06:01 2009 +0200

    mmap engine: allow large files on 32-bit archs
    
    Map chunks of 2GB at the time in total, remapping as we go
    along.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 482900c94face8e1891a181148b2f8a01e905aa5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 12:15:51 2009 +0200

    Fio man page still refers to old mailing list
    
    Point it at the vger list instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 58726a1006aa33303e41951faac1ceca2bf09ec5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 2 11:27:26 2009 +0200

    Fix problem with fadvise() and fill_device option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 17127517a3ccff19993e36ec3f7bc15044898f2c
Merge: c97bd0f 3bfb53d
Author: Jens Axboe <axboe@homer.home.kernel.dk>
Date:   Wed May 27 13:12:14 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit c97bd0fa0f68d924f4e6f3c480f380c4ca20b872
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 27 13:11:20 2009 +0200

    Increase accuracy of disk utility percentage
    
    If a job file contains more than one job that works on separate
    disks, then the job that finishes first will get more idle time
    accounted to it.
    
    Fix this by only doing disk util stats when we have files open
    on that device.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3bfb53dd20223015916e9ade388a5f9d49b87172
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 22 09:51:20 2009 +0200

    Remove io_u->endpos
    
    It's only set in one location and never read.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 398e8c4ddb1e4c05159cf86b6367156bdfd2b084
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 12:10:02 2009 +0200

    Make sure that exec_prerun/postrun work for shell commands
    
    Pass the arguments to sh for execution.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 55c39e2764f4b2ab2f66ab495126b821c568c032
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 11:56:54 2009 +0200

    Fix old printf() in pre_read()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 55093ac92265a5132a67d2207aff7e0459086c22
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 11:53:04 2009 +0200

    Fio 1.26.4
    
    pre_read option was buggy, so tag a new release now.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b0f65863844b4de92d10fefaabde80ea5bc3e5cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 11:52:15 2009 +0200

    pre_read fixes
    
    1) Add a specific runstate for pre-read, so we can see that this
       is what the job is currently doing.
    2) open/close files for pre-read
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3b5ccd399357b971ccabe08743d1efdffbbb9b3f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 11:37:15 2009 +0200

    Fio 1.26.3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ccd4f41bbee00837601693dd58589320cb3fa497
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 11:36:39 2009 +0200

    Add fio_generate_plots.1 man page from debian package
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 639ce0f3dc2f193e86206756c0b8af8f129f6eae
Author: Martin Steigerwald <ms@teamix.de>
Date:   Wed May 20 11:33:49 2009 +0200

    man page fix to make lintian happy
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit afad68f778a764cbe57d4a5d54cbea32444aaa45
Author: Zhang, Yanmin <yanmin_zhang@linux.intel.com>
Date:   Wed May 20 11:30:55 2009 +0200

    Add pre_read option
    
    With this option set, files will be pre-read into memory before
    starting the given IO operation(s).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8de43fd22302237a2b35515ff869fde514dfc76d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 10:49:44 2009 +0200

    Add appropriate warning in mmap engine for large maps failing
    
    On 32-bit archs, this can trigger for large files. This should be fixed by
    mapping lazily, for now just catch the error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 87c27b45f8d50720d7a9f12abc7e83d0a7463021
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 20 10:45:12 2009 +0200

    Clear f on error get_next_file_rr()
    
    Otherwise we could return an invalid non-open file and trigger and
    assertion failure later in the process.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9fd189697dbf9fb7878093be5e41f25b7f932c2d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 19 10:35:38 2009 +0200

    Return EILSEQ on verify errors instead of EIO
    
    Suggested by Randy Dunlap <randy.dunlap@oracle.com>
    
    This makes it easier to differentiate between an error to read/write
    from disk versus getting the wrong data back.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 306ddc9752eef70c3fbb111af63d197a3a6d447f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 18 13:08:12 2009 +0200

    Include transfer size in the clat/slat measurements
    
    It's useful to know the block size that matches the given latency, so
    add that to the end.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2bbb8d9878ed3bb58714fd6c5766553962bab09
Author: Fabio Checconi <fabio@gandalf.sssup.i>
Date:   Mon May 18 12:54:50 2009 +0200

    Fix garbling of clat/slat logs if a shared log file is used
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c704d7b028ed2701ad89e211413b218591cefed
Merge: 3776041 62b3892
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 13 07:51:19 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 3776041ebbd9b19ebaf90b9951a1dbc085fa9325
Author: Randy Dunlap <randy.dunlap@oracle.com>
Date:   Wed May 13 07:51:05 2009 +0200

    fio howto typo fixes
    
    Fix a few typos in the fio HOWTO file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 26eca2db3ef6e92ff1022099cb89fc8ce88ee15d
Author: Randy Dunlap <randy.dunlap@oracle.com>
Date:   Wed May 13 07:50:38 2009 +0200

    fio docs corrections
    
    Correct fio mailing list address and unit of time for cpuchunks.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 62b38926a8f02a03534813fc80e73e5e169bf03e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 11 10:37:33 2009 +0200

    net engine: fix compilation warnings on Solaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f215152acf86818e3b200bdaf7684be3a0b2fa06
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 7 14:21:59 2009 +0200

    Fio 1.26.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0fe2187702d5d65e2b0f47e23824f41572eb4446
Merge: fc6bd43 1ca9573
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 30 08:07:43 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit fc6bd43c62196441607e6c36ec66bd0e16f9e4ef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 29 09:52:10 2009 +0200

    'V' is a running state, not an idle state. Correct HOWTO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eb7ccf38bf2e9208b593d021c50e9ad2ec0781ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 29 09:48:04 2009 +0200

    Align io units to processor cache line size
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1ca957384a2050e426f8f6ef8a3e493d7ceeb9ce
Author: Radha Ramachandran <radha@google.com>
Date:   Wed Apr 29 07:23:26 2009 +0200

    Fix name of the slat log file
    
    Currently the slat and clat logs go to the same clat log file when the
    latency log file is specified.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c311cd2a9e3ca77f4d2cb2f6dd8bd08185e8c0f6
Author: Radha Ramachandran <radha@google.com>
Date:   Tue Apr 28 08:12:56 2009 +0200

    Don't populate random data for verify reads
    
    I was seeing some performance drop during the read verification phase
    of a test, and from the code in io_u.c in get_io_u function, we
    prepare/populate the buffer in the io_u structure based on the verify
    patterns/options.
    This makes sense when we are doing writes, but I dont understand why
    we do this for the read phase when this data is going to be
    overwritten anyways(and in case of truncated reads, we do modify the
    buf_len).
    So based on that I changed the code to populate the buffer(io_u->buf)
    only if its a write with verify enabled.
    This works for my tests, but I do not know if there was a reason why
    this was populated for reads as well to begin with.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97c62e0fd052854d9a8fb68cd4d0ed56bf59bc25
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 27 08:05:45 2009 +0200

    Fio 1.26.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f0d524b045ceef3454cbc66dbfe8ea51db298a62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 27 08:00:48 2009 +0200

    Filename must be parsed after directory option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c83cdd3e45f4b34841adf275dbe001f44c7c614b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 24 14:23:59 2009 +0200

    Update bssplit documentation in fio.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a1ea676e7a0ffc73fa5384ddb189ced9edd4b0bf
Author: Kedar Sovani <kedars@marvell.com>
Date:   Thu Apr 23 13:47:41 2009 +0200

    fio: Include support for ARM
    
    Assembly instructions picked from include/asm-arm/system.h
    
    Signed-off-by: Kedar Sovani <kedars@marvell.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 770028e8bdd559ee2c81cbc6bd3ef20571ed82b8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 22 09:48:34 2009 +0200

    Fio 1.26
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit de141540ef6fd41e2103e3fd877490212f14826a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 22 09:47:43 2009 +0200

    Add sample job for doing a quick SSD performance analysis
    
    Nothing SSD special about it really, but this sort of test is
    useful on SSD drives to see if they are crap or not.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 899c29f26080585dadab9ba35cd7ed01b26fb19b
Author: Radha Ramachandran <radha@google.com>
Date:   Wed Apr 22 08:17:42 2009 +0200

    Fix issue with random offset being off if io_size != real_file_size
    
    get_next_free_block() would generate offset that were larger than the
    requested size, either causing failures or just causing the test
    to exit prematurely.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eccffc9938ac8edff0270903d8a5754bb1ae6b53
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 21 09:17:31 2009 +0200

    Remove debug printf()
    
    Left in by mistake.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 720e84ad8292ab7b3a8e264fb00db71d796600d1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 21 08:29:55 2009 +0200

    Add support for different weights for reads and writes with bssplit
    
    You can now do:
    
    	bssplit=4k/20:8k/80,1k/50:4k/50
    
    To have 20% 4k reads and 80% 8k reads, while having 50% 1k writes
    and 50% 4k writes. This is identical to how the bs= option treats
    reads and writes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 77787c82d755cc8ab8fda82531dd648cfd127d8d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 21 08:28:17 2009 +0200

    Allow IO logging even for diskless engines
    
    Helps to verify IO patterns.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cd98801fbed25dcc49f58cf1451af22f0455a6e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 20 12:39:17 2009 +0200

    splice engine: fix vmsplice() problem with block sizes larger than a pipe
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0a278f3640546d63b4fcecc01074cad0b7f77b3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 20 11:39:04 2009 +0200

    Fio 1.25.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8879fd15550a5edac3f4fdab6f98badb18dea18c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 20 10:06:02 2009 +0200

    Fix throughput reporting
    
    It was off by 1024/1024 :/
    
    Initial patch from Carl Henrik Lunde <chlunde@ping.uio.no>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4b341fca0dab0caa41d000e8db36f1530c26616f
Author: Carl Henrik Lunde <chlunde@ping.uio.no>
Date:   Mon Apr 20 08:41:37 2009 +0200

    Fix crash with multiple files
    
    There's an off-by-one in add_file() when it calculates the size
    for the file array.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6be0696b2b4c992c207fc226263e2726940fff75
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 8 07:54:20 2009 +0200

    Fio 1.25.1
    
    Silly segfault with cpuio/null engines.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9a153e6efa862c547abfc745fed2c27fce8daf20
Merge: 99a47c6 0d57033
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 22:21:28 2009 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 99a47c6905731e53dd4d8f7ea6501f36d9329e7b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 22:20:56 2009 +0200

    Use td_io_get_file_size() instead of calling ->get_file_size()
    
    It may be NULL on some engines, causing a crash.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0d5703377d1c6b38f644dc06b9b45bcfcea52ed6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 13:40:04 2009 +0200

    Fio 1.25
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5bfc35d7abe2582dc54127ca1d6e03792c9d62f5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 13:28:12 2009 +0200

    Reseed random generator for loop/time based runs
    
    Then we get repeatable 2nd/3rd/etc runs. This is important
    if the file layout was random, otherwise subsequent runs will
    get very different results.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eaf9b417e77b835886c3bb89ca0630dcec6d469f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 13:06:43 2009 +0200

    File reset should clear random map as well
    
    Fixes infinite loop on time based runs, where it repeatedly
    fails getting a new offset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cea0b7c046290bbcc57ef7dcee18f90d08e9d72a
Merge: de9937d 901bb99
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 12:52:08 2009 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit de9937d1df38ef8ab837ef0fbf2831820d0775f4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 7 12:51:45 2009 +0200

    aio: fixed a signedness issue that could cause abort on strace
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 901bb99400fde83a6f8ef816757b525796776d8e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 14 20:17:36 2009 +0100

    Add some missing options to the man page
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43602667a0b5fabccb4ea26c2c4b277843e36202
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 14 20:08:47 2009 +0100

    Man page typo on zero_buffers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2b7a01d01ea19f6e4090c7a8280bc6bf983e781f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 11 11:00:13 2009 +0100

    Add blockalign/ba option
    
    Allows the job to specify alignment of the IO specifically, instead
    of relying on using blocksize as the offset alignment.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 903dc3f6f7a44b17f09152a4fd9a2e2d767cc2cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 10 08:57:34 2009 +0100

    Fix integer store bug in parser
    
    With commit f7fa2653589f9ecf0d3d106286f17620bcf32de0 I forgot to check
    the type, so we would mis-store on platforms where sizeof(int) is different
    from sizeof(long).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6b7f68516d785163bf76565c1635012f66b9f51f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 9 14:22:56 2009 +0100

    Add some missing options to the man page
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f7fa2653589f9ecf0d3d106286f17620bcf32de0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 9 14:20:20 2009 +0100

    Get rid of int vs siint difference
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ef67a8a352c5cf6a1a179ad726371ccca43d839f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 9 14:16:47 2009 +0100

    Update HOWTO with 0x base for siint
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b347f9daece7d65a6e596cd3bd0ef3602e40b059
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 9 14:15:21 2009 +0100

    Allow 0x (or 0X) prefix for any int value to indicate hex base
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 853ee7fc686293cd45fbb177c75114ed2489144d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 6 20:29:29 2009 +0100

    Fix failure to strip end of line with comment
    
    We left a space at the end, which confused the postfix checking.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9d7dfdaef1ed5f6227fd31117d310ac15ae63152
Merge: 931823c df9c26b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 6 08:11:00 2009 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 931823caa6ae382c7c5ff6e02726c4297a4c0ad7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 5 21:23:18 2009 +0100

    Update smalloc section in README
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b36beb6e98d0785558a05b796dc216ecd4c49c62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 5 21:14:21 2009 +0100

    Use strict matching for --section command line option
    
    Don't limit to string length of passed in section, otherwise we could
    be matching more than one section.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit df9c26b10275a631e83e7cc92d5f7384998b2c49
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 5 10:13:58 2009 +0100

    Avoid opening files until they are used
    
    Fio still opens and creates all files, just to check the size of them. Add
    a specialized IO engine op for getting the size of a file and use that
    instead.
    
    This also cleans a lot of things up. Note that the IO engine version is now
    bumped to 10, meaning that external engines will have to separate the
    file open from the size checking.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4e6ea2f1e9b7da6d7d1057670fcc19f063e46fd4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 20:17:22 2009 +0100

    Need to clear ->files_size when ->files is cleared
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b5696bfc783ea3a762a73fa62d8b1a8d1fa67840
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 16:03:49 2009 +0100

    More file setting bug fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8bb7679e73d3086a01b9d21a650b0d7a859412b6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 15:37:52 2009 +0100

    Botch edit in files setup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dd87b2c94a30c3309574962cc7cb4bce68a73ceb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 15:28:31 2009 +0100

    Missing fio.h update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fc99bc0d82371cc704395a7718e78abd0e0d2709
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 15:27:42 2009 +0100

    Realloc td->files to full size immediately
    
    For adding many files, we do as many reallocs() as we have files. This is
    slow, so do full allocs instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 814452bd47e0f2bb4825b8042b664f32de0aff8d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 12:53:13 2009 +0100

    Add create_on_open option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>
    
     Please enter the commit message for your changes. Lines starting

commit 4bb997ce64df39b65c8d86c3b4a0504e6ab6eb48
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 12:52:01 2009 +0100

    Fix file open leak
    
    Introduced by commit 87b10676354d10be02864ad615e1e9fe5a2376ab
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 87b10676354d10be02864ad615e1e9fe5a2376ab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 09:39:47 2009 +0100

    Fix bug with openfiles
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 683023e8e29e99f9d5cbd255b8595917cd7ce4fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 08:41:31 2009 +0100

    Fix bug in file selection
    
    We need to check both the OPEN and CLOSING flag, since CLOSE will not
    be set until the file has really been closed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a086c25771b195d04651d293f299f0a63f7d2a23
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 4 08:27:37 2009 +0100

    Add 'sequential' file_service_type
    
    This service type will keep a file open until IO to it is completely
    done, before moving on to the next available file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8347239af0a361e160293100bfc053f88bbbf737
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 19 21:32:12 2009 +0100

    Allow 'norandommap' with verify
    
    We used to turn off verify completely if norandommap was given, since
    fio does not track block rewrites. But we can easily track rewrites,
    as long as we don't have to track various extent sizes. So relax
    the restriction to only cover norandommap with differing block sizes
    and adapt log_io_piece() to always use rbtree inserts for cases where
    we do need to check for potential overwrites.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 112b52d9033015ce46506fd05c67c6a537024c59
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 6 14:12:03 2009 +0100

    Fio 1.24
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7ab077ab119fd28b6ccf5705ea8453e414f574c1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 2 15:07:37 2009 +0100

    Check for a valid block device size
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 664fb3bde9ed3b61d0520b6b4f3d0ba9599834b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 19 13:26:36 2009 +0100

    net engine: notify receiver of UDP link close
    
    Also optimize the send/receive path, only use poll() if the non-blocking
    send/recv returned EAGAIN.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e235d5f883d7640d6ca2255cbdc43762b1fe6959
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 19 12:49:48 2009 +0100

    Fix broken rate check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d5b388a560783a61af7b424757bc6dead2309c28
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 19 12:38:27 2009 +0100

    net engine: termination fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 35651820abe54473964cc1832fdfe23d7af3209a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 19 12:33:51 2009 +0100

    net engine: don't pass in flags
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 371d456c48b73c8a424e4c807c511fc891a38e7d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 19 10:17:06 2009 +0100

    net engine: use poll() always for sending/receiving
    
    Avoids getting stuck waiting for data and not accepting signals.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e77c010d2c5bcd98c72797db9146b7a556444bc5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 16 19:17:35 2009 +0100

    Add comment on UDP on examples/netio
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d65db441ef2125374e98848cd36c7ba86e8afa12
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 16 19:15:33 2009 +0100

    Missing text in iodepth_batch* help entries
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15d182aa276b2ef60aec0b8b3c55b6a0806ca7ed
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 16 19:15:07 2009 +0100

    libaio engine: get rid of non-async behaviour with buffered IO
    
    It may not be true, just get rid of it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f8fc5ad7d36fa171559e7b94b0fd211ba2a4561
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 16 13:22:26 2009 +0100

    net engine: accept both upper and lowercase tcp/udp.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 414c2a3e741bb7dd7147ce6843f529c7773cea38
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 16 13:21:15 2009 +0100

    net engine: add UDP support
    
    The filename= option now accepts a third parameter designating the
    protocol type, udp or tcp.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 217bc04bf276d3d99c616ae69b88ba5b04a36151
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 7 10:05:14 2009 +0100

    Add platform section to README
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 690dec6e4ec7297a477b809fa24ee23dc02348c9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 6 14:22:30 2009 +0100

    OS includes need errno.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e3e31e36b3565dcc5e36ba3842e7b207799601f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 6 11:30:08 2009 +0100

    smalloc: get rid of MP_SAFE define and lock checks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f42c153d303be537f2963b633013a0ae1ef4de65
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 19:07:13 2009 +0100

    Some more pthread_* call mishandled errors
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29adda3ce304f16036cafee6c099aa08444a7db1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 19:06:39 2009 +0100

    Add --debug=mutex
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c2d93ede7d03b3a6923edb55c7737fe014794cb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 19:04:15 2009 +0100

    Make sure os mutex define is visible in mutex.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f356d01d0cf8fec2ee58f66a9b5c00c93defbc47
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 09:56:29 2009 +0100

    Only use process shared mutexes on support platforms
    
    On FreeBSD, suggest the use of threads instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4fa6d0f862ad56382199fbb68c05da484d3f7e20
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 09:45:13 2009 +0100

    Fixup handling of pthread_mutex*() error returns
    
    They return the errno, not 0/-1. Thanks to
    Fabio Checconi <fabio@gandalf.sssup.it>
    for noticing this.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 85daf2c1102ed4fdf1477cfd372046efbe08046e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 5 09:40:13 2009 +0100

    Add fio_cpuset_exit() empty handler for platforms that don't support affinity
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a6cee43d4e9f2163bca89bf25c8d529128ebc905
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 22 11:29:50 2008 +0100

    Include crc32c and crc32c-intel checksums in FreeBSD/Solaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 39555d0365036f12531f876e6b589a0bce4e5147
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 22 11:28:26 2008 +0100

    Solaris pset fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4a3c7b90413beb215dae12a26701ccbefa4bc847
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 12 20:54:15 2008 +0100

    Solaris compilation fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2ce18b5dfdc1736a99b4e2d731119cc4880e197
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 12 20:51:40 2008 +0100

    CPU set creation and destruction can fail on some platforms
    
    Check for that and error out if necessary.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6f7024e49e41fafcb838acbebf0c31fbcf35132f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 12 20:42:26 2008 +0100

    Support for CPU binding in Solaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4e78e405a12b31291aa88fffc1da2cf43b782ef5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 12 20:40:27 2008 +0100

    Add a cpuset exit function
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6d459ee7e90393af490a64709aec206d8a585ebd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 12 20:02:58 2008 +0100

    Prepare for support for CPU binding on other platforms
    
    The interface was Linux/glibc centric, since that is what got there first.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6dd6f2cd9fd0a59054c9d003c758d810fd5a8f4a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 10 13:24:12 2008 +0100

    __usec_sleep() really just spins, rename it
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f484470bf1df771bed64dc9f85b516ad4b7634bb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 9 08:04:29 2008 +0100

    Long line style fix + comment
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b03daafb17ee6e26f66d4bc2234a031b17d085bd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 8 20:31:43 2008 +0100

    Don't allow higher CPU counts than what the system has
    
    Basically just catch the condition before setting up the job, job files,
    etc.
    
    Also fixes a big with cpumask, it set the wrong part.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 19608d6ceb982409ba036f646c7c57671d2df779
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 8 15:03:12 2008 +0100

    Make sure that the given CPU range is within the bounds of the OS
    
    glibc provides CPU_SETSIZE as the maximum CPU count.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit be4ecfdf6c8daa75c4df8ac875c9a87da80d81a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 8 14:10:52 2008 +0100

    Add gtod_cpu option for pinning gettimeofday() to a single CPU
    
    Similar to what real life products sometimes do, offload gettimeofday()
    calls to a single CPU and have that update the current time into a shared
    memory location. This option pins a specific CPU for that job, and excludes
    it from participating in any of the IO jobs.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43c129b4ff85a7f7f7e0929f9dd73e756e37a2e3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 8 14:06:42 2008 +0100

    Properly strip end-of-option blanks
    
    We don't want to fail with
    
    option_foo = 0
    
    when
    
    option_foo=0
    
    works.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 62a7273db5a50c12b84157ea0c81b8669fd95367
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 8 11:37:01 2008 +0100

    Allow ranges of CPUs in cpus_allowed option
    
    For a larger number of CPUs, it's a bit of a bother having to set
    each one individually. Plus, you typically want to bind to a range of
    CPUs, to keep the job core local (or whatever your preference). So extend
    cpus_allowed to take ranges of CPU numbers as well. Now you can do:
    
    cpus_allowed=0-7
    
    and have your job confined to CPUs 0 through 7.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dbad30b097de39d355b3952a3bb6db9ccf9dd77f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 5 13:17:16 2008 +0100

    Fix bogus 'may be used uninitialized' warning from older gcc versions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b0ea08ce4ed567d3dff372f0866d5c3fbf1f8c39
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 5 12:57:11 2008 +0100

    Add comment on cpumask not working with a CPU count > 32
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b8a6582e89999f88c574b905b89743762d8080df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Dec 4 14:33:41 2008 +0100

    smalloc: pool->file is only used in add_pool(), so make it local
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 443bb114d963a99082eef916025268a5a107092b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Dec 4 14:30:13 2008 +0100

    smalloc: unlink pool file in add_pool()
    
    Don't defer until cleanup time, since we may not clean up if fio
    crashes or is killed in other ways.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 46e9e96a2052cdf0a385887b15215ee12349c53e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 20 09:13:23 2008 +0100

    Use frame pointer
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c12f6dabdb82e63e1020f1e61c366ca552cc9ac8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 20 09:13:04 2008 +0100

    Make log writing append
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e3cedca76d9fc104eb4f6f869606fb5bf4c0d59c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 19 19:57:52 2008 +0100

    Add support for giving bw/clat/slat log prefixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8cdabc1df71ec546d47ba4eb1190b8c7b6e62f9a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 19 12:31:43 2008 +0100

    Fix bug in parser that causes a crash with a bad option
    
    The priority sorting would crash if it failed to lookup both
    of the passed in options.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 860a8a6724f6660ee0e1232c3a980f0e1ef567ec
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 18 19:22:31 2008 +0100

    Fio 1.23
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f8f9726e7466419db8b8e9c2205430ad1d33aad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 18 19:10:21 2008 +0100

    Handle ctrl-c properly with threads
    
    A stupid bug, the main process should just ignore its own SIGQUIT.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 182ec6ee4e4d79fc5a705cd2e2811fa003add040
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 14 13:06:06 2008 +0100

    Fix leaks with using get_opt_postfix()
    
    It returns a strdup(), so remember to free() the result when done.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 993bf48b48f2d9724afa3698a15070e77bc5d1c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 14 13:04:53 2008 +0100

    Add gtod_reduce option
    
    This cuts down even more on gtod() calls. While the three disable_X
    options halved the gettimeofday() call count, this can reduce it to
    less than 1 percent of what it otherwise would have been.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3e4889209b86409283d1e87bb6b5c9980495c2c6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 13 12:07:20 2008 +0100

    Fix backwards clock on tsc source with Linux
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 12d9d841526ad75a67bb43a90edeefd05f85f11e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 16 21:26:10 2008 +0200

    Issue time fixup for guasi/libaio
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9520ebb9f4dd88d086e313ae97e37ebb6d4f240b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 16 21:03:27 2008 +0200

    Add options for disabling slat/clat/bw measurements
    
    Useful for cutting down on the number of gettimeofday calls in
    situations where that does impact performance. This is mostly for
    really high IOPS rates.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 62977e09a378a713b31d64c63e15adcf9f6f9d9d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 16 20:36:51 2008 +0200

    Kill io_u timeout handling
    
    It has never been enabled, get rid of it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0c153284c1e6505e711c71e6412e6fef02853b8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 16 20:33:51 2008 +0200

    Only memcpy last issue time when using iolog replay
    
    Part of a series that'll allow switching off various time measurements
    to avoid impacting system performance too much.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c3383b96a3d8dddd719a8d4d2888485edf9b3812
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 10 13:49:50 2008 +0200

    Fio 1.22
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0d7e3c94c35332535fc2c723d9a0682c3a4aafad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 7 11:33:21 2008 +0200

    Fio 1.22-rc3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 02444ad1868ee94c7c38810cc775784e6a9a5dbe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 7 11:33:00 2008 +0200

    Warning fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c54bc46ceb4db794f039d3c6cf870bebb95fafc
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Tue Oct 7 11:25:38 2008 +0200

    Document environment variable expansion
    
    Add environment variable expansion documentation to HOWTO, and fix
    a few nearby typo's while we're at it.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 88b5a391bc2f9eb85066219e453682a746730ead
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Tue Oct 7 11:25:20 2008 +0200

    Add environment-variable substitution to config options
    
    Strings of the form ${VARNAME} in config option strings are substituted with
    the value of the environment variable VARNAME.  Only the right hand side of
    an option assignment undergoes substitution.  If VARNAME is empty or
    undefined, the empty string is substituted.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e8552b07140abd723bf30e9a13613b639eb6b83
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 1 09:04:28 2008 +0200

    Update README for new mailing list info
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e28df3cb6fb0c6bda2d8f98084734462be7ae46
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 30 08:39:17 2008 +0200

    Fix missing initialization of merge/io counts
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 043b74b9ddba4cc7ecb876ca41b7daa7d1ec5da3
Author: Shehjar Tikoo <shehjart@gelato.unsw.edu.au>
Date:   Tue Sep 30 11:11:35 2008 +1000

    Aggregate slave device stats into the stats for master.
    
    But do so by adding new fields in the stats line.
    We dont want the existing output format to get clobbered.
    The new fields in master device line which contain
    aggregated stats start with "aggr".
    
    Signed-off-by: Shehjar Tikoo <shehjart@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6742301361b7eeded19656ac18a09fde33122b74
Author: Shehjar Tikoo <shehjart@gelato.unsw.edu.au>
Date:   Tue Sep 30 10:35:44 2008 +1000

    Add support to display slave device stats for software RAIDs.
    
    When running tests on a device created using mdadm, the relevant
    disk statistics must also come from the individual
    disks that constitute the RAID, because the software RAID device
    is just a virtual device.
    
    This patch goes through the 'slaves' directory in the software
    RAID device's directory in /sys/block, gets a list of all the
    slave devices and creates a master-slave relationship between
    the virtual device and the actual disks.
    
    The individual slave disks' stats are displayed along with the
    master's disk stats at the end of the test.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6820cb3b32d771decbf76bf58c526e7ae1b2f31d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Sep 27 12:33:53 2008 +0200

    HOWTO: add comment on terse and --minimal
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 59fd3f22752ed32f659254f59c218362090922ff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 17 18:01:34 2008 -0700

    Fio 1.22-rc2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 419484b934222e589f0b718e9494b045df176167
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Fri Sep 12 10:57:13 2008 +0200

    Don't compile crc32c-intel on non-x86 platforms
    
    crc32c_intel() doesn't make sense on platforms without SSE, so alias it
    to crc32c() on such machines.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b29ee5b3dee417016164198fb240344ef666de2b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Sep 11 10:17:26 2008 +0200

    Update ramp_time
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e417fd6643cb9451441065d5767099062d51205d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Sep 11 09:27:15 2008 +0200

    Update options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 44f0c3fce15b546cb75bca008f15b3fd33c30a68
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 10 09:48:11 2008 +0200

    Fio 1.22-rc1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 721938ae7fae0f6d470a7e32e177ea5dce480229
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 10 09:46:16 2008 +0200

    Add ramp_time option
    
    Sometimes it's useful to let a job settle for a little while
    before taking any measurements on latency and throughput, since
    the initial rate on eg a write workload may be much higher than
    the longer sustained rate.
    
    So add a ramp_time option that allows the user to specify a lead
    ramp time that must have passed before fio takes any performance
    numbers into account.
    
    Suggested by "Jenkins, Lee" <Lee.Jenkins@hp.com>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c5a3854b03356e8dfe929477bf1ea67afcb8ad3
Author: Shaozhi Shawn Ye <yeshao@google.com>
Date:   Wed Sep 10 09:09:37 2008 +0200

    eta: fix bugs withe fill_device and exitall_on_terminate
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8954110682922232b8bccfe2b7e734d04ce71b96
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 10 09:07:55 2008 +0200

    filehash: check for NULL ->file_name in hash lookup
    
    Original patch from Shaozhi Shawn Ye <yeshao@google.com>, modified
    by me to continue the lookup and just skip the file instead of
    returning NULL.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b9fbcf2104ab79127825e0c23ba0a147ec076087
Author: Shaozhi Shawn Ye <yeshao@google.com>
Date:   Wed Sep 10 09:05:17 2008 +0200

    filehash: Filehash should be removed after the file is closed
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a7ba8c5f4c0f9fe117d529c1ad6686b2070bae51
Author: Shaozhi Shawn Ye <yeshao@google.com>
Date:   Wed Sep 10 09:04:18 2008 +0200

    filesetup: When terse_output is set, The 'laying out' message should not be displayed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d1271dc19c335c39298e16b825f84fdd8650132e
Author: Shaozhi Shawn Ye <yeshao@google.com>
Date:   Wed Sep 10 09:02:51 2008 +0200

    smalloc: Remove read/write lock race condition which will result in segmentation fault
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2b52511f3f595e0932e7f9c55bed243e8fe0f4f8
Author: Daniel Rall <dlr@google.com>
Date:   Wed Sep 10 08:56:01 2008 +0200

    Allow fio headers to be included by a C++ build
    
    The attached patch allows fio 1.17.2 header files to be included by a
    C++ build without generating compile errors due to C-ism.
    Specifically, due to:
    - use of the keyword "new" as a parameter name
    - a cast of a return value to void *, when the function signature
    returns a different type
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit de79c9158eae1459970e0df6efc6a2b09d920f15
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Aug 4 21:43:55 2008 +0200

    Add SIGILL signal handler
    
    If crc32c-intel is used and the opcode isn't supported by the CPU,
    we'll display a nice warning instead of just dying.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit af497e6a1d61df088ce1a40f4fd2f38066e694b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Aug 4 15:40:35 2008 +0200

    Remember to add crc32c_intel option check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3845591fadea480177223e28c9d1c03642d34f0e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Aug 4 15:35:26 2008 +0200

    Add intel hardware assisted crc32c support
    
    Not tested, since I don't have the hardware.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c48c0be79173897824d8f439c39374f2588931dc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 31 19:55:02 2008 +0200

    Detect and complain on smalloc failures
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6885768609eafda8648bf50b05115d784cb04fb9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 31 19:50:54 2008 +0200

    smalloc: default to 128 pools instead of 4
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc3456fa06cc7777c4764da8c7b1c0fd0a3c3772
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Wed Jun 25 09:20:37 2008 +0200

    Prevent filetype disappearing
    
    fio_file->filetype is set in add_file(), but for duplicated files
    fio-file->file_name is already set so add_file() is not called.
    This patch copies the filetype at the same time as file_name so
    it remains valid for dup'd files.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3f552b9920cc45c5b1f9c679f36b8ddb13927d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 10:27:05 2008 +0200

    Add uninitialized_var() to silence bogus compiler warnings
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c02f6eface8c71980b65db2999753a9567d3662
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Fri Jun 13 08:40:11 2008 +0200

    eta overflow fix
    
    Sometime I get eta's like "eta 4294967286m:4294967266s" , just an overflow
    issue. The following patch fixes the issue.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3b02d57453fc574331020c3d842a27c67846a4b7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 08:38:40 2008 +0200

    Revert "Add spinlocks"
    
    This reverts commit 69ebbd397e80b23ec4281c99e9f7242a089cc771.

commit ff2e2231f320690ef0a3f71f0ba87b50c5f16003
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 08:38:35 2008 +0200

    Revert "Add spinlock wrapper helpers"
    
    This reverts commit 8b4a7c860d004ea8dffc11f6232124b574fe6cd7.

commit 6548f47f241013c7f6e1bb4b8a341f7d7a78764f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 08:38:31 2008 +0200

    Revert "smalloc: convert to spinlocks"
    
    This reverts commit 3f1959101ed6a935ff3e2aec0fe7f5828f23fbcb.

commit b950781e189961b934c5a26372ae4ec5fd384799
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 08:38:25 2008 +0200

    Revert "Convert file hash lock to spinlocks"
    
    This reverts commit 0ec7b3c9a0926e6377bd145206bb9f6a70be610d.

commit 61a179a8fa701a2f5e9cd92b78ccc98f96b9f1d4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 13 08:38:20 2008 +0200

    Revert "Remove unused define"
    
    This reverts commit edf2c6cf5adc82ee43c81e033cf2215eb9ffdb16.

commit edf2c6cf5adc82ee43c81e033cf2215eb9ffdb16
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 12 20:05:33 2008 +0200

    Remove unused define
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0ec7b3c9a0926e6377bd145206bb9f6a70be610d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 12 11:53:57 2008 +0200

    Convert file hash lock to spinlocks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f1959101ed6a935ff3e2aec0fe7f5828f23fbcb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 12 11:50:47 2008 +0200

    smalloc: convert to spinlocks
    
    Makes the allocator 10-20% faster.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8b4a7c860d004ea8dffc11f6232124b574fe6cd7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 12 11:49:46 2008 +0200

    Add spinlock wrapper helpers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 69ebbd397e80b23ec4281c99e9f7242a089cc771
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 12 11:26:26 2008 +0200

    Add spinlocks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bd2626f02a51ff50664616cd7c6c4daa479a84af
Author: Carl Henrik Lunde <chlunde@ping.uio.no>
Date:   Thu Jun 12 09:17:46 2008 +0200

    fio.1: Correct terse (--minimal) output - page faults
    
    Major and minor page faults were added in commit e7823a941468e
    
    Signed-off-by: Carl Henrik Lunde <chlunde@ping.uio.no>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1025d13dc9b230ac798eda37c7f3bb4471951a00
Merge: bac39e0 f3059de
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 20:46:29 2008 +0200

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit bac39e0e8807a1d52863ad8304e67221df2bc63b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 20:46:19 2008 +0200

    Add crc32c checksum
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 13ddcb169f28e87e493f49887c7b06050d008c9c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 20:44:57 2008 +0200

    crc32 is uint32_t, not unsigned long
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3059de171cf9afd8b4968a681dcd1738f82bc6f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 15:37:32 2008 +0200

    Improve bsrange buflen generations
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 091708da23c98d1d8769ede36dd30768ccb85086
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 13:18:30 2008 +0200

    Don't include headers in depend target
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b7c6302da8b30f221310dd6c917136229ee5e688
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 11:47:56 2008 +0200

    Clear num_opts early
    
    If we error out, it could be garbage.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5b6f5c6609c530943310754028d2628d984b6595
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 11 10:21:43 2008 +0200

    Older Linux versions do not have O_NOATIME
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2577594dd6e2857d9efbf6bd81cd7ef507dbcd64
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 10 20:26:06 2008 +0200

    Remember to free **opts as well
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3b8b7135602a4d3a7132fee10da9c1203ab643ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 10 19:46:23 2008 +0200

    Add option priorities
    
    For instance, filename= must come after directory= or things will
    go wrong. So add a priority value to each option, so that the parser
    will take that into account.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0aa417a9515f9dc17523c1870f6409370e94ca19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 9 19:25:49 2008 +0200

    splice: if splicing fails with EINVAL, it's most likely missing fs support
    
    So tell the user in more direct terms.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1cb05ed57fd364669a10e5eda4df790fbd49fa57
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 6 12:21:38 2008 +0200

    Fio 1.21
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ac0be2acff3864979e5e260d332d25ca90e22417
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 6 12:08:04 2008 +0200

    Linux sysfs change broke fio disk lookup
    
    /sys/block/<dev> is now a sym link to the real path, which
    broke our disk lookup. Fix it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cac58fd5cbb9876891e4dced72871c6c352cf6b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 6 01:17:03 2008 +0200

    ETA fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c17d468ae9fb8d2858324409940275ce5a4a0848
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 5 11:59:42 2008 +0200

    Fio 1.21-rc8
    
    Should be the last -rc, not aware of any pending issues.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bf9a3edbd689463201312298434908980ff48fc3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 5 11:53:08 2008 +0200

    HOWTO spelling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f66ab3c819a8bd9eba6e8285d12443e0427e9561
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 5 11:48:22 2008 +0200

    Help entry typos
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4950421a7e379ba0ca642390ae4ae7b68e92a42f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 5 09:03:30 2008 +0200

    Add iodepth_batch_complete control
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0721d11e4d9807e40385e06b419824e9a875525c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 5 09:03:05 2008 +0200

    Don't print 100% done, when we don't have a time estimate yet
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a55820db03f7364d2414d4173e86e576a6f5b973
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 20:37:18 2008 +0200

    MAP_ANON requires fd == -1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dc873b6f4a536c332b72cce268d5a7ccd356a891
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 20:13:04 2008 +0200

    Add OS agnostic RAND_MAX
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit da28353c3fb45a8a6ee00d1133efd483c0ae684c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 19:57:47 2008 +0200

    Compile warning for non-signal driven solaris asynch io
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f022ddb71f93b5d9e32261491284b9881fceaf0c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 19:55:58 2008 +0200

    Solaris: support for proper random functions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e116f2b90f110334e77741227ad4e4600302c718
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 15:14:24 2008 +0200

    Add directio support to Solaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d5707a3565e958af566247e2c0acf09e031d8921
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 15:13:02 2008 +0200

    We need to grab and mark the file open before jumping to an error path
    
    The error path will close the file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 18bc5025fdce7f1f319b4aebe1c9d7f479088e73
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 14:49:27 2008 +0200

    Kill useless undef's
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9a9c63f1608c6f63b10cd5575dee868c2d269c87
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 14:48:29 2008 +0200

    Add missing splice syscall numbers for alpha and s390
    
    All archs now verified as compiling.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 44c47feb9edc7854bf3cfa2e3d843e90fc969b3a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 14:31:25 2008 +0200

    Add write barriers
    
    And enable them in solarisaio, then it should be safe to use the
    signal driven IO "interrupts".
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0b18cfc4849cfbf4944d17e810b25d61920daed
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 10:47:08 2008 +0200

    Fio 1.21-rc7
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6162f5249479e4be69bcd0c0bf09d1c09ea99523
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 4 10:35:25 2008 +0200

    Missing time store in rwmix switch
    
    Caused missing display of either read or write direction for a mixed
    workload.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f42100411888488beb3e17637dea57994f58153
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 16:15:59 2008 +0200

    Base FreeBSD Makefile on Linux, but insist on gmake usage
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6492b1e5f25c68b3c164376c0f7b94874b491c80
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 15:57:45 2008 +0200

    Makefile update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8e55e8c8bcb1a0068609df61047b7a1c3bba10f9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 15:02:46 2008 +0200

    Remove comment wrt sigaction() usage, it's deprecated
    
    We already use sigaction(), so no difference between *BSD/Solaris
    and Linux.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 556e831d2b6e788fd48f724047d22ebb29676d42
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 15:01:16 2008 +0200

    solarisaio: support signal driven async IO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0f09e829c3e1aa24d16059ab6665098fedf17c05
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 14:18:23 2008 +0200

    solarisaio: aiowait() can return (void *) -1 for error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eef323596c6c9d39456aba10954bb47c21982d96
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 13:31:26 2008 +0200

    Move fls.h in with the other lib helpers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 78e7b3e7765a984742cf809c963499b92eca9c8a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 13:28:21 2008 +0200

    Include solarisaio in README
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5cf56c03299826716a86886cd5d337d649068efb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 13:23:34 2008 +0200

    solarisaio: IO depth constrained by MAXASYNCHIO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6a42d8880794620af7b9d026be10671d14166f7e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:55:14 2008 +0200

    Fio 1.21-rc6
    
    Stupid Linux compile error in -rc5
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0ae38eba4156d116ac76fda961fa88f400a8622c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:55:03 2008 +0200

    Missed fls() -> __fls() conversion
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0f0bc04d714571fd2b0e0bae293f085453131b33
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:52:56 2008 +0200

    Fio 1.21-rc5
    
    Getting close to 1.21, all three supported platforms (Linux, Solaris,
    and FreeBSD) now compile and work fine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ba47b7db6fa37ab8076e5d0d2d4f2f5db8506cba
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:51:42 2008 +0200

    FreeBSD Makefile update
    
    Don't ask...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 42124d37bd92d865b0c27751c520f671c2a91101
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:50:10 2008 +0200

    mutex: only regard less-than-zero return as error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7292056a38857ded6f7a64f11d14d642772c31bd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:30:06 2008 +0200

    net engine: missing includes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 207cb0f05e689a50ffb960830f52169a1342aba7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:28:02 2008 +0200

    posixaio: not all platforms have aio_fsync()
    
    FreeBSD is (again) the odd man out...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc733f3b3ae7d397a591e3616503cfb36d56166b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:25:12 2008 +0200

    posixaio: need fcntl.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fffca02dfd1b700903ba23b67fab7b59bf460ec2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:23:40 2008 +0200

    Guard posix_fallocate() behind OS define
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c48c2c1c702047f8a92fa21fdd1471781b9dab4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:22:30 2008 +0200

    Rename fls() to __fls()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 41d9f0fd3143a469f990fede9f6a9d14a4cd1fcd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:19:50 2008 +0200

    Not all platforms have ENODATA
    
    So use EIO instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01743ee1718e7ec4b16ae3e53c8f64900c6052cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 12:19:19 2008 +0200

    Rename list_* function and file to flist_ to avoid conflict with FreeBSD
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 417f006858ec66f0b410c83c2e13da54662048e0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 11:59:30 2008 +0200

    Add Solaris native aio engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 659424767f62f46c429eb66bf46b3e836e3bc0ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 10:37:36 2008 +0200

    Don't make posix_fallocate() set td->verror
    
    It's supposed to be an error log, not stop the job.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07bfc19e548ad5515c37a471a97398a727d46a1c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 10:17:12 2008 +0200

    Fio 1.21-rc4
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8b113b4f2975f9edf4542d2e0f6d876dd89d1b8c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 10:15:48 2008 +0200

    Do at least one block if randommap fails us
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c9dd34b291ad747804040cb2bb60127e6afcc3fa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 10:09:43 2008 +0200

    Inc block in mark_random_map()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b3268b928ec7596a1d294a46a2771c3da789e7d3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:59:32 2008 +0200

    smalloc: use optimized ffz()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0917444531866c9facb0f731eff5e4e28c7c65d3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:57:41 2008 +0200

    Be sure to use internal __ffs, not glibc variant
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3e3357b1a54ca27c4b1f5e9564eee73f510e164f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:53:05 2008 +0200

    Speedup mark_random_map()
    
    Do each int at the time, not each bit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 21df44a26e04ef3fe8b4240073cc06f7d144f337
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:43:29 2008 +0200

    x86-64: enable arch ffz again
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6164890e4db96c073274990edca12706e9c41659
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:41:51 2008 +0200

    x86-64: ffz need only search the first 32-bits
    
    So use bsfl, not bsfq.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6839616ff2ac013c8b0fbeb2a97f6cf20976b9f3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:41:29 2008 +0200

    Fix off-by-one in generic ffz
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 064c636d364fab601a908e040d3aa5eaf2775694
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 2 09:19:37 2008 +0200

    Add missing lib/ffz.h file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8f7e39dd35a40d088a31f33f12402a1eaf31b2c4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jun 1 19:45:10 2008 +0200

    Readd the arch ffz functions
    
    May as well use the single op version if we have them, it's
    generally a lot faster than the generic_ffz()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit de605666880852ba9d1a0469723126b09782c520
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat May 31 00:21:12 2008 +0200

    ffz() takes ints, so change the file_map to being int based
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 697a606cc0af1c39ac18998c344a522199accb36
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat May 31 00:04:45 2008 +0200

    Add sparc and sparc64 support
    
    Also get rid of the arch private ffz functions, the generic
    one is just fine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ccb0fa24f0ff37f9270754ea5a1b66de9fd7053e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 23:18:00 2008 +0200

    Seperate status timer setup from disk util timer
    
    It's still the same timer and shared, but move it out of
    diskutil so we get proper status reporting on non-Linux.
    
    We also need to rearm the signal handlers on each signal.
    Move this to sigaction() next.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 739097e6e145afb98057846c419c60c2cc2dd9c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:58:37 2008 +0200

    Fixup posix_fallocate() usage
    
    It returns the error directly, not through errno. Also make
    it non-fatal, Solaris seems to complain about it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit af8771b9b91eb2cd23a40aaa729bad4f78acb928
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:58:28 2008 +0200

    errno is not negative
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 72c234e50c49eb631dd84d8e5d110fa2bd73b303
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:50:09 2008 +0200

    strsep got lost in Makefile.solaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb9ee07258a56347a5dcfb17a7de31d10f3cd166
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:33:47 2008 +0200

    Cleanup lib/strsep.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 73af677de4a8cfc3e647887c68b1838d625c4de7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:25:48 2008 +0200

    Remove icc reference in Linux Makefile
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 69b98d4c9945bed6b3446a9e73bfaf8e557cf033
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:25:32 2008 +0200

    Fix build with FIO_INC_DEBUG not included
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b52ae0af85c640e6e4ebd412a731e9d5f97a6cc8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:23:53 2008 +0200

    More fixes to FreeBSD and Solaris Makefile
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 00fb3c8dcbb940338fea9f6cab689b4924266305
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:17:45 2008 +0200

    Move the lib/ stuff around a bit
    
    And actually remember to commit the lib/ files...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 465221b0121f5cf70585d7338c6448ac4b251257
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:07:49 2008 +0200

    Add dprint() to io_u requeue
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2992b059b8f54ac91e723a8bde629b4d8fed513e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:07:12 2008 +0200

    close_ioengine() clears ->data after calling engine cleanup
    
    Then we can remove that bit from io engines.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e51cf72c29e92619534ed84a59047e62eaa05a5a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 22:03:46 2008 +0200

    vsync: Fix issue with double issue of io_u
    
    We'd lseek to the same location twice, making sequential
    IO lseek() and read/write to each location twice.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5921e80c5dfc9f96d2f21da6ae58f2b5d3a0b373
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 15:02:38 2008 +0200

    Make it work on opensolaris
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0c70934dde93a8ee260a84c1bf69ff24484d486
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Fri May 30 13:35:00 2008 +0200

    Fix bad references to 'sgio'
    
    The engine name is 'sg', so change bad references to sgio.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 443662efa60d9082bc820641e7d1d31dd58d3ae1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 30 13:29:03 2008 +0200

    net engine: improve host/port parsing
    
    It was too relaxed before.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a732c9f3333ae96822295fb4b50d39d38fe04243
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:56:58 2008 +0200

    Fio 1.21-rc3
    
    Quickly approaching 1.21 final, a few more critical fixes added.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a5fb461fdff86c442daeebbd28e07984be9f3807
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:54:01 2008 +0200

    Fix bug in put_file() and __file_invalidate_cache()
    
    - put_file() has bad logic in detecting fsync() error, only set
      ret to f_ret if f_ret indicates failure.
    - Check for open file in __file_invalidate_cache()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e4dad9c614d7f6842b0efefbae3ca0fa540cad0a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:53:44 2008 +0200

    Fix refill buffers overwriting verify data
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 951417ad5aae0ff21493a1dff8b6d7ac63566403
Merge: 04c540d cb499fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:35:42 2008 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 04c540d9504fa81608952d6e2ce6b47066d2566c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:35:26 2008 +0200

    Fixup distribution of reads and writes in a mixed workload
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb499fc4216eb4266c70ae238608f67def1758fe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 28 10:33:32 2008 +0200

    Fixup rwmixread/write options
    
    They would always end up as 50/50.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8ad45fc1f41d29f9fc28a67c2fc11d48f5c17c7f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 20:49:52 2008 +0200

    Fio 1.21-rc2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 89da54e865169abcf0a99c6e7ee12ec2c8ddd8b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 20:49:29 2008 +0200

    smalloc: final cleanups
    
    Passes all regressions and tests, must be Bug Free.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dcb69098630845b53ebb8034014d44b409e16f9e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 20:35:18 2008 +0200

    smalloc: fix map overflow
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1601cc905c8b42d8b1735e0767ac753df8805ad9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 14:44:23 2008 +0200

    smalloc: fix off-by-one in ptr_valid()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 076b17cea9c9d6c86b926a166ef58f02334c9bdc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 14:13:26 2008 +0200

    smalloc: kill another debug printf()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 808e9ea8dd3dc3d631a7982fa0c4b01547cb811a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 14:12:45 2008 +0200

    smalloc: fix compile error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 179446e0122d04ddbeb3d353ff68350490b0841c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 14:11:56 2008 +0200

    smalloc: cleanup and remove debug printf()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01e2b6510c3d26f1c415910cdad069bcfe7155bf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 11:57:58 2008 +0200

    Fio 1.21-rc1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1f37f63654d36bb4d07180a4b622beb79ba2c3e3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 11:40:37 2008 +0200

    smalloc: turn on the thread safe flag
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec996e9c8f3baacababec55b3be746e035099c14
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 27 11:39:39 2008 +0200

    smalloc: change to a bitmap allocator
    
    It's a lot cleaner and easier to understand than the previous one,
    even if it does waste some more memory.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6c28f0bb768f30673a7c15d9ab493ed2dfe4d5e3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 26 16:38:28 2008 +0200

    Fix out-of-band deref of (potentially) gone threads structure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fcef0b35e58d0d676b1560d563b518212f84e78b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 26 14:53:24 2008 +0200

    Remove early directory check
    
    It wont work on FIO_DISKLESSIO engines and the engine isn't loaded
    at this point so we cannot check. For now just disable the check.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 55f6491de3d5f734a1cbe3e7deed87a382d6c863
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 26 09:37:21 2008 +0200

    smalloc: add pre and post redzone checks to pointers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cbf69f0dbd61bce2438e7052b0e124735b27a2d4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 13:38:41 2008 +0200

    Non-linux Makefile updates
    
    Need to find a build host, seems there are other issues that need
    to be fixed as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fc4398fdf45b76c3aa11e14e78fc41a1fb42eb7e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 13:28:59 2008 +0200

    Silence warning on older gcc (bogus)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9dd70f7e3d64ea764f182f152626d895841277c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 12:37:23 2008 +0200

    Work-around too large block count
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e1d306e4f9a6337d07cc2d536d77c53e083226f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 11:55:53 2008 +0200

    Add job number specific dumping and fix atexit() error
    
    The threads/process jobs should use _exit() so they don't run
    the main atexit() function.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 868eb3cc388f4f34a68a633a1cf8b036c4dcc47a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 10:11:27 2008 +0200

    smalloc: debug
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c5dda9e387101dba4a654f6304553509d73dc298
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 23 10:10:54 2008 +0200

    smalloc: increase alloc size
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 838bc709279964bdcc64070d4eb2777a0f79bcbb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 22 13:08:23 2008 +0200

    Add logging for queue submit and complet counts
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 41ccd84597867a36289392e59634d9fd7dc4c397
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 22 09:17:33 2008 +0200

    If verify is enabled, automatically enable refill_buffers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5973cafb37fbf24c3ca2cdf86a3d03f1b00d6d2b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 21 19:52:35 2008 +0200

    Add option for refilling IO buffers on each submit
    
    If the device looks at whether the data changed, then this can
    make a difference.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 60f2c658b923afdd491d556e15a655584b9db306
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 16 12:31:36 2008 +0200

    Silence put_file() complaint
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 009bd847b5aeaca78e76de3a7066fe7d507a735f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 15 10:19:46 2008 +0200

    Fix bad interaction with file open/close and queuing
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d8005759746a2cb5c8269201911b1997aa714e80
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 15 09:49:09 2008 +0200

    Improve iodepth logging
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 67778e88b56f599cc43afbf471eecf179d3c98b1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 15 09:20:08 2008 +0200

    Fix off-by-one in last_block()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 393ca7e973d8e23c8c90890915b08f7dac3e77c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 15 09:17:42 2008 +0200

    Fix crash with iolog
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 391ba6ac169ad7deaf3bb3840046581f45d755e1
Merge: 3bec7ae 748b23a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 14 21:09:03 2008 +0200

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit 3bec7ae05cbec8823943a9aca79871c99709ed5f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 14 21:08:37 2008 +0200

    Allow marking of queue depth for more than 1 io_u at the time
    
    Same code as before, just prepared for it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 748b23a36509240af1debf5f7f3ca8ef153548ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 7 14:28:22 2008 +0200

    Put the logs in the current directory
    
    It's nice to prefix the log with the proper job name, but that
    meant that it would store them in weird places if you used /dev/sda
    for the input device, for instance.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 98eeabf3e54aea64363a231123aacd5b0730e051
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 25 14:35:50 2008 +0200

    Fio 1.20
    
    Lots of changes since 1.19, the major feature being proper
    sharing of files between jobs, file locking, and so on.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit aec2de209564a6951e6c91d653fc99a75508607d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 24 12:44:42 2008 +0200

    Kill unused parameters
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 136f6b79180f6bd3f3e9ec8a97b9636a1bb71e15
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 17 09:26:27 2008 +0200

    smalloc: remove pool resize support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8e5732e558509fc0f4ccdeb1e4d01ad038aead06
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 16 19:51:46 2008 +0200

    smalloc: cleanups and allow sfree(NULL)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c08e194db676bd9dcd0f43bacf2051c7c91a62df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 16 19:47:21 2008 +0200

    smalloc: remember to account for sizeof block header
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit adf57099338307b3a4a129475a12aad31e35ade3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 16 19:43:17 2008 +0200

    smalloc: when adding a new pool, make it big enough to hold the failing alloc
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5036fc1ecd69989198d576d87624964a529610c7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 15 09:20:46 2008 +0200

    Update 'overwrite' option documentation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3e1d74fa9b8e9c4c1e452374a39ecad4000112d3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 11 09:17:41 2008 +0200

    Fio 1.20-rc4
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6de43c1b6bb1027b551927f92385867d46c18b30
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 11 09:16:59 2008 +0200

    README: add hint on missing libaio-devel package
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 75de55acafe8663389449517621da67347354d62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 10 20:52:40 2008 +0200

    libaio: Add hint on libaio engine init failing
    
    If io_queue_init() fails, it's likely due to a lack of
    aio request resources.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15ca150e8dbfd68aa5beb479fcb3f07447417a04
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 7 09:26:02 2008 +0200

    Mark rwmixcycle option as deprecated in the option parser
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 613442dc8e6699efac7d10a36c2dae875094d06c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 7 09:25:47 2008 +0200

    Remove rwmixcycle HOWTO entry
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e4928662a8a1674debae803d5ec4dcbdce7a3ddc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 7 09:19:46 2008 +0200

    Base the rwmix switch algorithm on io issues
    
    The time based switch can be unfair sometimes, so just simplify it a bit
    and use issues only.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc8389191e2fda370890bb34928a8b5b6433f199
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 7 09:00:54 2008 +0200

    Need to prefix directory= setting before checking dir part of filename=
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d3eeeabce4131ca3f688f856a449aef3fb994124
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Apr 6 12:19:05 2008 +0200

    Improve eta calculation and display for complex jobs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 84f83179602f4a27e7a63beb84d05983c415f2ff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 4 23:15:19 2008 +0200

    Improve naming in fio gnuplot graphs
    
    Use job name and strip the known postfix of files out of the title.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 47d85e2bd4763204a983c7bf4833c0d466dc36ca
Merge: 3baddf2 2b386d2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 4 13:47:20 2008 +0200

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit 3baddf2450d811be658fb47ef883ee84478dc352
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Apr 4 11:10:30 2008 +0200

    If a file is extended, drop extended length in cache
    
    Similar to how the cache state would be the next time the job is run,
    good for consistency.
    
    Reported and suggested by "Zhang, Yanmin" <yanmin_zhang@linux.intel.com>.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2b386d2569c9078ca9790c4e6d318ec3835b8739
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 10:32:57 2008 +0100

    Add softrandommap and --alloc-size options
    
    The softrandommap job option allows fio to continue if it cannot
    allocate from the smalloc backing for the random map. Or the user
    can specify --alloc-size with a size larger than the default of 1024k
    to increase the size of the shared allocation pool.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 303032ae4e13c7ac10b8198c40df98d95a4524a6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 10:11:10 2008 +0100

    Allow randommap allocation to fail
    
    It's not that critical, so just print a warning and continue
    without randommap.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 85f467031d14d98940f56941016faa481a628c0f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 10:05:43 2008 +0100

    smalloc: increase initial pool size from 64k to 1m
    
    We allocate randommaps from that pool as well and they can grow
    quite large.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bd199f2b98eeb9101795e40fdef5889c630178c1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 09:57:18 2008 +0100

    Fix badly merged dprint()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0a308f0fef1ec430ba844111f4dd4a9bcfd7bbfb
Merge: ffdfabd 6f88bcb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 09:23:04 2008 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit ffdfabd48d0edfba9cb53cfd27a2f12ad887c211
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 09:18:14 2008 +0100

    Make sure that file is created for FIO_NOEXTEND engines
    
    This fixes a SIGBUS with the mmap engine. Reported by
    "Zhang, Yanmin" <yanmin_zhang@linux.intel.com>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 921c766ffda25c6ac23e34a616595da3ed3f27e8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 26 09:17:55 2008 +0100

    Check directory if filename= option includes dir name
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6f88bcb0e9a232cf950791edc448edc06bff855f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 19 10:29:07 2008 +0100

    Only decrement pending in reap_threads() if the reaped job was pending
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 565cc35f1c9bfd16465c69997c7ba7a6ab0809a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 10 18:47:53 2008 +0100

    posixaio: Missing memset()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c77037e67c4a4af29e12f760db2541bad6c5898
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 10 18:45:57 2008 +0100

    posixaio: speedup by using aio_suspend() instead of manual waiting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f718273e7180208fc0cf5c88b99f32b371d6d75f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 10 13:57:58 2008 +0100

    Extend ipo file action capabilities
    
    Add FIO_LOG_UNLINK_FILE and move the handling of special ipo's
    into a dedicated function.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f4705a73fda9a84a12a26bcd6bc2ab4f012ace71
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 10 10:52:22 2008 +0100

    Use pthread_detach() instead of calling pthread_join() later
    
    Unifies the thread vs process parts a bit more.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a6edd6383bfa6f85f24080b43722c8af6d80106c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 21:41:54 2008 +0100

    Silence gcc warning
    
    'delay' wasn't used in that path, but gcc complained. Kill the warning.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f6a72c738dc58be7718aac2c57fb43f193ae056f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 14:28:38 2008 +0100

    Fio 1.20-rc3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 691c8fb014da9dd82e999a90b5511423f4eee188
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 14:26:26 2008 +0100

    blktrace improvements and fixups
    
    Remove iolog version 1 support, it's just too limited. Version 2 and
    blktrace manage file events (add,open,close,tc) on their own and we
    can cleanup the file creation if we kill it.
    
    Fixup for_each_file() for no allocated files.
    
    Start of handling notify events for blktrace. We don't see program
    notifications, need to look into that.
    
    Properly account io bytes when adding blktrace events, so that the ETA
    and io count is correct on replay.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 173081581f94dc4f9f203eb7a7922fc843bfafde
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 13:42:31 2008 +0100

    Only set O_RDWR for open() when readonly isn't set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed4aa70764eb13c4bb36cd1b0647c26859f7bbd0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 13:39:59 2008 +0100

    Tweak handling of write traces with --readonly
    
    Don't add them at all, that allows us to replay a trace with writes
    included when the --readonly switch is set. Before it would tell you
    that it was 'X' number of writes, and then fail when it tried to
    replay then anyway. Now just don't add those events.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5b3023b818d5127504b4889f8f718c3cef62700b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 13:20:54 2008 +0100

    blktrace bits accidentally got committed
    
    It was the start of handling notifies correctly, didn't mean to commit
    them with the previous fix. So roll them out, commit when done.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cd991b9e36b18903f1564a4bfafdc83a9f165219
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 7 13:19:35 2008 +0100

    Fix bad sscan() -> scanf() conversion
    
    Caused fio to stall waiting for disk updates.
    
    Also add --debug=diskutil debug option, to trace what diskutil is doing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4aae5155980cd5e1cfc8303cd30653e1238f4856
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 15:47:03 2008 +0100

    Fio 1.20-rc2
    
    -rc1 had some bugs due to the dyn file allocation, so make an -rc2 since
    those should now be shaken out.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5ec10eaad3b09875b91e19a20bbdfa06f2117562
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 15:42:00 2008 +0100

    Style fixups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e8670ef8b26039573fbf835b4b95ba45a1039d83
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 12:06:30 2008 +0100

    Always make job use open() instead of dup(), even for shared files
    
    The fd may be opened after other jobs are forked, thus they wont
    share fd space (unless the 'thread' option is used).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eda41004e84015059bb5ab8a688d3012e8a519a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 12:02:24 2008 +0100

    File setup open can fail in multiple functions, not just open()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 98e1ac4e1a2c7386a1064277f7e67c4736fb6e65
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 11:56:48 2008 +0100

    Be more careful about catching fsync() errors
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cc3fc85511c47de463497f40b29c32a1bd67f81d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 11:47:53 2008 +0100

    Update to verify state setting
    
    Only set when doing read.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 58f9f0495ae8de5bc221e4afaa543132bc149bc4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 10:30:30 2008 +0100

    for_each_file() fix
    
    We will deref ->files one beyond the allocated length due to the way
    that C for(;;) loops work. So rework it a bit to make it more safe
    and not look beyond the array. We didn't touch the memory before, but
    it was still somewhat ugly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9efef3c4bd6a032a2a9f7a9aab1c29436525d781
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 10:26:25 2008 +0100

    Multiple file handling fixes
    
    Some of that got broken with the dynamically allocated file changes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d8fab1b6c09f7a90100065ec75ba1d1b09c4c3fa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 6 10:25:17 2008 +0100

    Indicate 'V' verify state always
    
    We only print 'V' for a thread if it does a verify run after a write,
    however fio can be invoked for a later verify using a different job file.
    So check in do_io() as well and set verify state if appropriate.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8ca7ead9f714d01fc4b421c7f405c7ce44204aab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 4 12:59:41 2008 +0100

    Fio 1.20-rc1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d4e80f2b4260f2c8b37a8612ce655502a799f7a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 4 10:18:56 2008 +0100

    Revamp file locking
    
    Get rid of the semaphore implementation, no need to carry both.
    Add different locking modes (exclusive and readwrite) to enable
    a wider range of testing. Also combine lockfile and lockfile_batch,
    the latter is now a postfix option to the former.
    
    So to enable readers-excluding-writers locking mode with a lock batch
    count of 4, you would write:
    
    lockfile=readwrite:4
    
    instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f1348c709d91ffa54bde1a6a1beb53ecda613b7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 12:34:35 2008 +0100

    filehash.c: remove debug hash dump
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e1dab66814403f2c11797c95144b0e6bfe010e02
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 12:32:45 2008 +0100

    sem.c: cleanup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 06fecb4e2679b9783940721f78ea7201451ca55c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 12:22:19 2008 +0100

    Makefile updates
    
    Last was botched.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0b2d6a7a2bf9f49502b9c1161f376fff53727089
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 12:20:26 2008 +0100

    Makefile updates
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c5b52907227f8f50dc472d11601869f75b8d663
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 11:08:19 2008 +0100

    Add rw mutex init helper
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 65864cf7c951a79c02b1d1f358f0eb5d25a9aff5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 10:36:36 2008 +0100

    Use read-writer locks in smalloc
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 64d4d313ef4f537408d28fac863cf2a2b0f00175
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 10:36:27 2008 +0100

    Add read-write mutexes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 28cfeb6851703cf12b54b3a06bf3ff611198933e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 3 10:18:09 2008 +0100

    Remove debug printf() in net engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29c1349f1840c3f60434c9da602074bc8fde4afe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 19:25:20 2008 +0100

    Add the file sharing bits
    
    When you use the same filename for several jobs now, they will share
    the same file structure. Enable locking through two new options:
    
    - lockfile. If set, a semaphore is associated with the file and it is
      held from ->prep() to ->queue() has done its work.
    - lockfile_batch. This controls how many IOs the job gets to do per
      semaphore acqusition.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4906e0b57f2b8cbad02ef2428522281cf6038bdd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:59:51 2008 +0100

    Hook up the file hashing
    
    Add on file open, remove on close.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 392a374205d9e90fe4b4b6419fefa493f0a5ccc2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:58:08 2008 +0100

    Missed fio.h update for filehash, oops
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 380065aa652b87093d6bbd240e70db30bd6f193d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:56:24 2008 +0100

    Add file hashing helpers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e5cdb118aeb26cb469a50f746b632676306f698
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:52:49 2008 +0100

    Remember to init and exit the smalloc allocator
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c69e887518fb9bd775b5ff60334331b51f2d0103
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:50:48 2008 +0100

    Jobs must always open their own files
    
    This is also related to file sharing - we cannot dup() a descriptor,
    if the child hasn't inherited it. So make sure the jobs always open
    the files again, even after they have been created.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 94a08ec621fef3dff02f8d254a079652fe28698c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:44:26 2008 +0100

    Add list_del_init() to list.h
    
    The file hashing will use it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 78d99e6a2695d3a7936c5dd02f996f13a30309b1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:41:50 2008 +0100

    Remember to free the file structure as well
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f17c43928c202e557f2f325272c60d9050ee528e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:40:46 2008 +0100

    Allocate file structure from shared process pool
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0c5b4087e96cdcfad2d524cc400e54e787ad65c4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:38:12 2008 +0100

    Add a semaphore implementation
    
    To be used by the file sharing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d24c33a479fcd68debad128da057814495f65e20
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:27:36 2008 +0100

    Add a really simple allocator, backed with mmap'ed memory
    
    We can use this simple allocator to get memory that can be safely
    shared across processes or threads.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b0fe421a6a0487ff71f6f903908f666d9ca1b327
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:22:27 2008 +0100

    Missed update of dup_files() for dynamically allocated files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b2bd2bd96a09540b3add0ec74db2cdb1c145ca33
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:19:52 2008 +0100

    Add file locking hooks
    
    Does nothing so far, but adds locking calls that cover from ->prep()
    to after ->queue(). That is the period where we do IO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f85ac25a7d5c9d5ba4d5c73363a6a2a461a9b013
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:09:49 2008 +0100

    Remove the file->last_completed_pos variable
    
    This tracks where we last did IO to this file, however with file
    sharing that may break. So just remove this optimization, it'll
    cost an extra lseek() for the sync engine but doesn't do much else
    outside of that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 126d65c6fc97d6acdc568aa5a969c012018daf15
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 18:04:31 2008 +0100

    Make file structures dynamically allocated
    
    Current td->files is an array of files, make it an array of pointers
    instead and allocate individual file structures on the fly. This is
    a preparation patch for file sharing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4c3ecec4160909d7eba4acf1a07a8a0cd36a6365
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 16:20:13 2008 +0100

    Enable quiet build mode, enable by default
    
    Add V=1 to make flags to force a verbose build.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6977bcd0e4ee3faa7ffd8f208e4031bdf906ed88
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:55:36 2008 +0100

    Update close file handler to return potential error
    
    Filesystems like NFS do return errors on close(), up until now we
    have been ignoring them. Fix that. Adjust io_ops engine version
    to 9, since this is an API change.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 24ffd2c2bca53f4de85ab6defd52a812be1f2429
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:47:08 2008 +0100

    Add close_files() that closes all files
    
    Renames the current implementation to close_and_free_files(), since
    that is what it actually does.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit de8dd119d7d869dd9c90c6d62bf4bededd10642e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:34:44 2008 +0100

    Only initialize random map if we are actually going to use it
    
    We alloc the randommap even for sequential workloads right now,
    if the 'norandommap' option isn't given. Fix that, check for
    td_random() before continuing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f63f7f3bbc49c72ee06f351bf3a7312df32f9e3c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:25:24 2008 +0100

    Fix potential crash in terminate_threads()
    
    td->io_ops can be NULL, if the thread is already gone. So copy the
    pointer and check before dereferencing it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6ac7a3310ff8c21bb563939c8accec8c0d609109
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:22:32 2008 +0100

    When retrieving a requeued IO, don't setup data pointers again
    
    This is a bug, if we had a residual data count we would be
    retrying the full request again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit af4bab56db4f87410c491c356954bbb65171f94d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:12:48 2008 +0100

    Fix bad inlining in mutex.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 323d9113db91a8fb2efe93b9916c22f74ff9af3f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 1 15:12:14 2008 +0100

    Fix recursive dump of options
    
    If a child also had a child, we would miss it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cdd18ad87ed9a3639b76c41cfc9682ad7cce652e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 27 18:58:00 2008 +0100

    Confusion between mutex and semaphore naming
    
    There's a semaphore implementation and option coming, so rename the
    bits.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a3d741fa3bc3120d5b62a56826a97524daa32803
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 27 18:32:33 2008 +0100

    Add --debug=parse for option parsing debug
    
    Adds log.h and debug.h to split the logging and debug bits out of
    fio, so that the parser can use them.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c0a5d35ec77fae5cfe382d35ab18915ed6766504
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Tue Feb 26 23:10:39 2008 +0100

    fio.1: add section option and remove spurious command text
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 982016d689dc7fedbb09646ba0df7e72a781b164
Author: Zhang, Yanmin <yanmin_zhang@linux.intel.com>
Date:   Tue Feb 26 15:35:52 2008 +0100

    extend_file need continue when the file exists
    
    If some testing files exist and some others don't exist, fio will
    report failure on the no-exist file. Here is a patch to fix it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3de88a7a8806016ebb27af3f4be1fced172122e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 24 21:36:00 2008 +0100

    Move syslet/indirect bits into the OS specific directory
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6ae1f57f2cb8661b97b770372eeb3694f6d5a744
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 21 10:20:00 2008 +0100

    Remove dead FIO_FILE_EXISTS flag
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8ce9cd3dfab6a802272378e02695e87ebe40a973
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 21 09:52:35 2008 +0100

    prune_io_piece_log() also needs to take list into account
    
    If we didn't use the rbtree but have remaining entries to prune,
    loop over the list as well and free those entries.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9b23c9fb768ef052c7fe7cd825a714976a089e08
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 21 09:51:32 2008 +0100

    Remove dead FIO_FILE_NOSORT flag
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 357f618e3905a33fcc47f1f72a4657c5fc68c7d7
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Wed Feb 20 09:14:13 2008 +0100

    fix hugepage-size type mismatch
    
    hugepage_size in thread_options is of type int, but listed in
    options.c as type long.  This patch reconciles the two.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a1dedc1f6347a33fd1265348db86a9258cadefd2
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Wed Feb 20 09:14:12 2008 +0100

    account for delayed jobs when reaping threads
    
    reap_threads does not account for jobs that have been delayed
    (e.g. via startdelay) which may lead to all threads being
    terminated.  The following job file demonstrates the problem:
    
    	[job1]
    	filename=job1file
    	size=16k
    	startdelay=1
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 509df2bc49284a93efd6b890bdf5e3c4ea2aba4a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 19 20:24:10 2008 +0100

    Fio 1.19
    
    1.18x had some stupid bugs with random IO generation, so release
    a new full version.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c09823ab5c841791025c564ecfc9ada0f850770b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 19 20:16:57 2008 +0100

    Don't always print usage info
    
    For instance, when we ask for help don't complain about missing job.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 811a0d06b302bc84b6097d5c2e1d6725420ee73f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 19 20:11:41 2008 +0100

    Mention new --debug=random option in README
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 84422acde41c9cf462245de115d425cf5a82124c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 19 20:10:26 2008 +0100

    More random fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c299e0375a660e2a5fca966233417a7034073175
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 19 18:20:14 2008 +0100

    Fix TO_MAP_BLOCK() taking offset into account twice
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ad830ed7386eff264bdb5189675d6dfa672bd16b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 21:11:24 2008 +0100

    Add FIO_SIGQUIT engine option
    
    For network engines, we need a signal to make it abort the connection
    if it isn't already running. Otherwise fio would just stall on ctrl-c
    before the connection was established.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7d6a8904cc2973a857f4bb50f85e7c75375c553d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 20:59:18 2008 +0100

    Cleanup parse_cmd_line()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01f06b63ba67d3bc7fa11766d9f13d229c4cec5c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 20:53:47 2008 +0100

    Add --section command line option
    
    It enables the user to ship bigger and more complex job files, while
    still allowing fio to only run a part of it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 536582bf89bb97eb3636e41470f303877a738810
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 20:26:32 2008 +0100

    Exit on bad command line options
    
    It could be dangerous, eg if you expected --read-only to do its job
    when you really needed to type --readonly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 062c6022d41233523669188e876e913abd6c4e2e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 20:15:03 2008 +0100

    Add/correct missing command line options in help text
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 19e82577011d067567ea58d53f5beb6c0e24409e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 20:00:08 2008 +0100

    Fio 1.18.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 51b6996ea57913166a7cd5d777d1c1647a65731b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 14:14:53 2008 +0100

    Fix typo in mark_random_map()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b9c5b64452f483162cf9841cbdd44db6b72fd67c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 18 14:13:08 2008 +0100

    Fix random location generation with offset != 0
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36ecec830e25ce8f707632c464e366b21a0b0f4d
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Fri Feb 8 08:50:14 2008 +0100

    fio: HOWTO update
    
    In case of  cpuio , on smp machines we need increase numjobs
    to <num of cpu's> to get the desired load across cpu's.
    Just updated HOWTO with this info.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 79713149b1d30ad4dab560621c86b24a1dcaf348
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 6 14:40:14 2008 +0100

    Verify doesn't really work on mixed read/write workloads, so warn
    
    Unless the file is pre-populated, this cannot work. So warn the user
    of such a bad construct, since the warning he/she receives from fio
    only tells you about a verification error (which, technically, is what
    is happening).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c475da759dbd06648277060d72dced84bfcde348
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 6 14:17:30 2008 +0100

    Fix misplaced exit(0) in cpus_allowed setting
    
    Must have been a leftover from some debug session. It prevented any
    job file with cpus_allowed set from running.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e05af9e5f9638d9c61f95a25e6157dc63510b268
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Wed Feb 6 11:16:15 2008 +0100

    fio: minor HOWTO fix
    
    writev(3) should be writev(2)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9183788da048219237e5654137665948e0e7f236
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 5 12:02:07 2008 +0100

    man page update
    
    --debug command line and bssplit job option missing. Add vsync io engine
    and clarify bssrange.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dbe1a0180a6cc94a780b4963f2de4ba8503b76aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 5 10:23:54 2008 +0100

    Fio 1.18
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4ba66134744885e676167dede2f5900512834a31
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 5 10:05:50 2008 +0100

    Fix offset retrieval problem for read and write having different bs ranges
    
    "Zhang, Yanmin" <yanmin_zhang@linux.intel.com> reported that fio got
    stuck with a job file that had different read and write block size
    ranges. The problem is that get_next_offset() didn't take the data
    direction into account, so when it generated an offset close to the
    end of the file, it may not have been legal for that data direction.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97e8cd444561ef03dd65c6c3c37c934796a4993f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 5 09:57:39 2008 +0100

    parser: always set off3/4 even if we have more
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cc9159c3f6f6a650cb973a636c35b41b8be34dbf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 15:58:24 2008 +0100

    sync engine: missing fsync check in vsync
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1d2af02a16fc3c3561c994be4de887b926b2b774
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 10:59:07 2008 +0100

    Add vsync io engine
    
    It uses readv/writev to transfer the data and coalesces adjacent
    data into a single system call (emulating queueing).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 163f849eea2b0ce443825fa510a1cb311092a234
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 10:56:26 2008 +0100

    Improve depth marking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e4f54adb2aa0aec54f92f3e67eb7353e229bef95
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 10:56:07 2008 +0100

    Decrement io_issue count when requeuing an io_u
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b271fe62101e84cd6ca2a78c92299beba251db24
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 10:49:41 2008 +0100

    Add debug trace for io_u_queue_complete()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e3c09afa64eb5b6ce5c5cc14a7a13f3c564f197
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 10:48:13 2008 +0100

    Don't allow FIO_SYNCIO io engine flag to override queue depth
    
    Another bad check, just kill it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2bd3eabc6ed08bf0ede81928396ac2db096480a1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 09:35:30 2008 +0100

    sync engine: cleanup psync/sync seperation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 47bc8bc0396c4b547eb276f2e81a5f781198b114
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 4 09:35:03 2008 +0100

    Don't force iodepth == 1 for SYNC io engine
    
    Most will not do queuing, but allow it to be set in case some of
    them do.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 108fcc1142ad5d087978190dbd7dd782e9b17d1d
Author: Zhang, Yanmin <yanmin_zhang@linux.intel.com>
Date:   Mon Feb 4 09:17:52 2008 +0100

    Fix bug in fio mutex initialization
    
    Fio sem->cond isn't initialized properly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d4ac64cc1e8bb64b71a1f8ae882ee171d02fe792
Merge: 8172fe9 79e48f7
Author: Jens Axboe <axboe@carl.home.kernel.dk>
Date:   Fri Feb 1 21:51:29 2008 +0100

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit 8172fe972f3a79d42f34d7f6e259ed3f7f800316
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 21:51:02 2008 +0100

    A few debug debug log fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 79e48f72dea1639bcbee310c354938287b6d5790
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 20:37:09 2008 +0100

    Add option for not including the tracing stuff
    
    It eats some space.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bd6f78b2f0b6375383948f126368804612ec0035
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 20:27:52 2008 +0100

    Add blktrace and verify debug tracing
    
    Also add "all" as a keyword for setting all values, and pretty up
    the output a bit by justifying and aligning the output.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0656a93fbacc0cf0d6f405407b55b768affa949
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 18:33:23 2008 +0100

    CPU burn engine fix
    
    It's ok to have zero buflen, if we are not doing real IO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2ba1c290d09af6d630d84a58b97b8032f73bc2ce
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 13:16:38 2008 +0100

    A bunch of fixes
    
    Really should have been split up, but...
    
    - Check this_io_bytes at the bottom of do_io() so that async engines
      have a chance to queue pending IO before deeming this job done.
    
    - dprint() should use log_info(), may not be stdout we want.
    
    - last block bug in get_next_free_block(), if max blocks wasn't a
      multiple of the bitmap size.
    
    - Add more debug points.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 691394d3e3b520584207ab0651e6e0354edc4bdb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 13:12:28 2008 +0100

    Typo in 'init' debug option mask
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ee56ad500f6692381e131cc37299d23fa910a24a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 10:30:20 2008 +0100

    Add --debug for enabling internal dumps on various actions
    
    A little weak currently, when it's fully integrated everywhere in
    fio it'll help find fio problems that I can't trigger.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 886a2b5b4cfc447bb2dcb711bddfe3999f1614e5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 1 09:29:35 2008 +0100

    Stop job if it fails to do any IO for a new invocation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01680f3fe5925380c8a8783abbd30b387d9702ba
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 31 14:39:16 2008 +0100

    Fio 1.17.3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 259693e9be3abfcb4a2bb28f4a0d02fb24393912
Merge: d9d91e3 273f8c9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 31 13:28:40 2008 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit d9d91e39df9cdc02d17c7b6831e2408ed1faa432
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 31 13:25:42 2008 +0100

    Fix wrong accouning of zone bytes
    
    Ryan Thomas <Ryan.Thomas@nuance.com> writes:
    
    **********
    
    With the following job description
    
    [global]
    bs=1k
    direct=1
    rw=read
    ioengine=libaio
    iodepth=2
    zonesize=1k
    zoneskip=1023k
    write_bw_log
    
    [/dev/cciss/c0d1]
    write_iolog=foo2
    
    The idea here is that I wanted to line up my zones to start at 1M
    boundaries across the disk by writing 1k and skipping the next 1023k.
    In practice I don't get the alignment because of an extra initial I/O.
    I get an iolog that looks like
    
    fio version 2 iolog
    /dev/cciss/c0d1 add
    /dev/cciss/c0d1 open
    /dev/cciss/c0d1 read 0 1024
    /dev/cciss/c0d1 read 1024 1024
    /dev/cciss/c0d1 read 1049600 1024
    /dev/cciss/c0d1 read 2098176 1024
    
    There's a read that I don't expect in that log, namely the read starting
    at byte 1024.  Because that read is there, the disk zones get offset by
    one block.  I expected output like
    
    fio version 2 iolog
    /dev/cciss/c0d1 add
    /dev/cciss/c0d1 open
    /dev/cciss/c0d1 read 0 1024
    /dev/cciss/c0d1 read 1048576 1024
    /dev/cciss/c0d1 read 2097152 1024
    /dev/cciss/c0d1 read 3145728 1024
    
    ***********
    
    The problem is due to the fact that fio account zone_bytes when the IO
    completes, which is clearly not correct for io depth > 1. So move the
    accounting to when we fill the io_u instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 273f8c912d981439049d9b21aa048aaeaa323c5d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 25 14:02:15 2008 +0100

    Random IO fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 65bdb10a09222d8b5d213de74824be775772ea8f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 24 13:13:12 2008 +0100

    More file extend fixes
    
    Simplify the logic a bit, hope this works...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 587af925762ff4bdf6a54965a35b2da2637f2f6e
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Thu Jan 24 13:04:44 2008 +0100

    file extent fix
    
    I ran a test with latest fio using jobfile,
    
    [global]
    size=10m
    [job1]
    ioengine=sync
    rw=write
    filename=testfile
    
    And second time,
    [global]
    size=30m --> size increased.
    [job1]
    ioengine=sync
    rw=write
    filename=testfile
    
    fio did not extend the file to 30m.
    
    In case of f->file_offset=0, f->io_size equals to f->real_file_size, hence no extend.
    Following patch worked for me. But this patch will not handle the case where we have
    to extend a file and with offset :(
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 89e820f6833fd6ea36625aa9393f1559f2d881dd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 18 10:30:07 2008 +0100

    Update iodepth_batch documentation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a2e6f8ac56a9b0f519ccc6cd13e76a9b239ba37d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 18 10:28:11 2008 +0100

    Make iodepth_batch=1 by default
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e00c2c4b7e2d5c1e535dbe10ee4b687f9f4b72b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 18 10:26:58 2008 +0100

    libio: fix bug in commit hook
    
    Also simplifies it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f51dcafee6557ecae8d4c1c62bb559d563bbcce4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 16 11:10:58 2008 +0100

    surface-scan: make bs 64k again
    
    I reduced it for testing, put it back at 64k to speed it up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 04d04cd64f0aec11d026281afb5030f202448106
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Jan 16 11:08:03 2008 +0100

    Add sample file for surface scan
    
    Does a write phase and then a verify phase and verifies the written
    data.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e28218f3017e5eb156d3a4a6e7b33651dc022cea
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Jan 16 11:01:33 2008 +0100

    Revert "Remove verify_pattern option, replace with verify=pattern:x"
    
    This reverts commit bfb41d98f63cb9fb72cb7c82618be10bc6d52c33.
    
    Reverting lets us have verify=meta and specify a verify_pattern at the same
    time. Sample surfacescan conf file coming up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fc74ac1d749c977308016eb22c8658a9a5ac7989
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Fri Jan 11 09:45:11 2008 +0100

    Don't truncate files if we don't need to extend them
    
    Don't truncate files if we don't need to extend them.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit aa31f1f108348ba2a8749c73fa8c25f3d4630a7c
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Fri Jan 11 09:45:11 2008 +0100

    Add fill_device option
    
    Add fill_device option. Causes fio to write until ENOSPC occurs (assuming
    rw=write).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8f9cc4a9928d057945becd351c858c3433934465
Author: Gurudas Pai <gurudas.pai@oracle.com>
Date:   Fri Dec 21 10:50:33 2007 +0100

    fio: Fix for new file creation
    
    fio fails to create new file and just comes out without doing anything..
    This happens only when you are creating file freshly.
    
    ./fio ../jobfile/jobfile.test
    job1: (g=0): rw=randrw, bs=8K-8K/8K-8K, ioengine=sync, iodepth=1
    Starting 1 process
    
    Run status group 0 (all jobs):
    
    Disk stats (read/write):
      sda: ios=0/0, merge=0/0, ticks=0/0, in_queue=0, util=0.00%
    
    jobfile:
    
    [global]
     bs=8k
     iodepth_batch=1
     randrepeat=1
     size=100m
     [job1]
     ioengine=sync
     rw=randrw
     filename=newfile
    
    Manually bisected it to commit 509eab12448823a8eefbe925804b5308ee63bf5e
    Here is the patch which fixed the issue for me. Please review and apply.
    In case of new file "f->io_size > f->real_file_size" becomes true, since
    f->real_file_size is 0.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 45378b35a047b590d0d3b6f9a7b8fea6dfa47300
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 19 13:54:38 2007 +0100

    Show fio help page when no arguments are given
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 509eab12448823a8eefbe925804b5308ee63bf5e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 14 12:42:53 2007 +0100

    Overflow bugs in random map
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d090f6f6fa92e66bc448a9bf47b6c52c1fd9c1ba
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 14 12:41:04 2007 +0100

    Add Intel IOMeter file access server example job file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 564ca97254984165e06d5fd4b1270bac95ca55fb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 14 12:21:19 2007 +0100

    Add support for 'bssplit' option, fine grained block size contrl
    
    From the HOWTO addition:
    
    bssplit=str	Sometimes you want even finer grained control of the
    		block sizes issued, not just an even split between them.
    		This option allows you to weight various block sizes,
    		so that you are able to define a specific amount of
    		block sizes issued. The format for this option is:
    
    			bssplit=blocksize/percentage:blocksize/percentage
    
    		for as many block sizes as needed. So if you want to define
    		a workload that has 50% 64k blocks, 10% 4k blocks, and
    		40% 32k blocks, you would write:
    
    			bssplit=4k/10:64k/50:32k/40
    
    		Ordering does not matter. If the percentage is left blank,
    		fio will fill in the remaining values evenly. So a bssplit
    		option like this one:
    
    			bssplit=4k/50:1k/:32k/
    
    		would have 50% 4k ios, and 25% 1k and 32k ios. The percentages
    		always add up to 100, if bssplit is given a range that adds
    		up to more, it will error out.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 757aff4f5cdf8bc1e0720c01564838aed968c1db
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 12 19:42:13 2007 +0100

    '1' is minimum value for queue depth, don't allow 0
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6026f9c9e41226cbc0c526dac8ec5a5c355348a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 12 19:39:59 2007 +0100

    syslet: we have fls(), use it for rounding ring size up
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a3cc770d09992e7823879fc167057a52ecbfddef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 13:23:27 2007 +0100

    unsigned vs signed warnings
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 11a65bf8cc3613530a84a621e395bb7b3c1626fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 12:36:41 2007 +0100

    syslet: can't free the stack
    
    Need to check up on this...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e20499263c57a7382b8130f5c2720b80e0b8653
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 10:54:26 2007 +0100

    Change io engine version
    
    Minor change from V7, just the getevents() prototype.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e7d2e61694c62b90a2fb84c012b4edcc1973d72c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 10:49:39 2007 +0100

    ->getevents() should take unsigned args
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4a88edf731f806974124e68d66726715dbee6778
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 10:45:36 2007 +0100

    syslet: cleanup event reaping
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit db6defc77508f5bf217f0a6768d13426eee21119
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 08:55:53 2007 +0100

    syslet: add proper read barrier between user_tail and completion read
    
    Also fixup a bug with ring indexing, it needs to use the real ring size
    mask, not the io depth.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c6effc3eb105f74777198ef6ac0f8ea2ba512a9b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 08:46:16 2007 +0100

    syslet: error handling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 05f6a172967321798f63869d330f88a1bc2c8ed9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 11 08:22:53 2007 +0100

    syslet: make sure ring buffer is a power-of-2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e81f734048dae2bc14349fddae6230b959a12198
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 10 20:35:10 2007 +0100

    syslet: memory allocation error handling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ad532d75d7dbde6912342ad279f0afa16a716b7d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 10 20:25:24 2007 +0100

    Add kcompat.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 12cbb469ea5e559b241f6c31693554829e8b8400
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Dec 10 20:24:44 2007 +0100

    syslet: update to -v7 as posted by Zach
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 056f3459149a7670257350d84b49858718e4a0e6
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Mon Nov 26 09:08:53 2007 +0100

    Fix failure in opening files with O_NOATIME
    
    If we try to open a file with O_NOATIME and it fails, turn off
    O_NOATIME and try again.  This occurs if the user does not own
    the file and is unprivileged.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 046ee3021f5a8a951c41f6604341d26e74183df7
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Nov 21 09:38:34 2007 +0100

    Update HOWTO terse description
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 10927316a4bd0e2ceba98e62c062e352c0e312fe
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Nov 21 09:38:13 2007 +0100

    fix utime_since overflow
    
    utime_since was using a long for its return which overflows when the difference
    between times is more than about 35 minutes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8670579ed3a063723f194e6fec8250bec4d8ea25
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Nov 21 09:35:41 2007 +0100

    don't log iopiece when do_verify is off
    
    Don't log an iopiece if do_verify is off. This allows us to do large write
    phases (with verify headers) without using a lot of memory.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9956b64373522fcbe5acb5015fef6d315f252da
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Fri Nov 16 12:12:45 2007 +0100

    fio.1: minor fixes
    
     - Document reading job files from stdin with `-';
     - Fix a typo and remove a spurious line.
    
    Signed-off-by: Aaron Carroll <aaronc@gelato.unsw.edu.au>
    Signed-off-by: Jens Axboe <axboe@carl.home.kernel.dk>

commit ac684785b41aaf17593b375be8d3e89b83974c1a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 8 08:29:07 2007 +0100

    Seperate ioprio value from setting
    
    Newer kernels allow passing a value of '0' for resetting ioprio,
    and our check for if (td->ioprio) doesn't allow passing a value of
    0 into sys_ioprio_set(). So seperate the setting from the value by
    adding a ->ioprio_set bool.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 64d04e4ee255be69b491907cdba183e6b09e9164
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 30 15:45:12 2007 +0100

    Fio 1.17.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4381960965dbaeabe5e2904f8f4b08288b9de86f
Author: Aaron Carroll <aaronc@gelato.unsw.edu.au>
Date:   Fri Oct 26 11:10:28 2007 +0200

    Fix spurious eta output
    
     - Pad eta output with enough spaces to overwrite remaining characters
       from the end of previous lines;
     - Wrap an overly-long line.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b4c5e1acb5a7964f858e2b41c1ae07b1afc0f4ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 25 18:44:45 2007 +0200

    More cpu engine fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5a32012f174baf33978b041cffa36453f2d92947
Merge: 1f809d1 a31041e
Author: Jens Axboe <axboe@carl.home.kernel.dk>
Date:   Thu Oct 25 18:34:14 2007 +0200

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit 1f809d151ddc4a4c348c2e4f6007db510e3e08a2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 25 18:34:02 2007 +0200

    Fixes for CPU burn engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a31041eaf5a306b5f6ad3dd14b60da6212775037
Author: gurudas pai <gurudas.pai@oracle.com>
Date:   Tue Oct 23 15:12:30 2007 +0200

    Add pread/pwrite support to sync engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 59b9ddfc30c9ff38dfbd071eafe295d9ffdd5f25
Author: gurudas pai <gurudas.pai@oracle.com>
Date:   Mon Oct 22 22:10:39 2007 +0200

    fio: build warning fix on  gcc-3.4.6-3
    
    On gcc-3.4.6-3
    
     >make log.o
    gcc -W -Wwrite-strings -Wall -D_GNU_SOURCE -D_LARGEFILE_SOURCE
    -D_FILE_OFFSET_BITS=64 -O2 -g  -D_FORTIFY_SOURCE=2 -rdynamic  -c -o
    log.o log.c
    log.c: In function `read_iolog':
    log.c:308: warning: int format, fio_ddir arg (arg 3)
    
    Which corresponds to
    
    enum fio_ddir rw;
    ..
    ..
    if (sscanf(p, "%d,%llu,%u", &rw, &offset, &bytes) != 3) {
    
    Following patch will fix the warning. This was added by commit
    21bd2987dc5d82a18af485cd1e7841e94137fc0c
    
    Thanks,
    -Guru
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3a6d267d644226983a430cf0f217c27f4c38cd45
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 16 09:44:47 2007 +0200

    splice: fix fallback from copy vmsplice to nothing
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8b850243258107412710cd38252f0cfb8802593d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 16 09:42:40 2007 +0200

    splice: fix problem with current mainline kernels
    
    splice was updated to work well with the newer vmsplice patches,
    where we don't have to copy data at all. But that broke the
    regular vmsplice that copies data, which is all the mainline kernel
    still support.
    
    Fix that up, so we do appropriate fallbacks. Fixes the problem
    reported by gurudas pai <gurudas.pai@oracle.com>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ad92396cc21055cee93470dcf65e82ccde03aac5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 11 21:41:41 2007 +0200

    Set O_NOATIME on open for non-regular files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 53aec0a4d0e0a9b3163c5ca651b9e4636ff7e1ec
Author: gurudas pai <gurudas.pai@oracle.com>
Date:   Fri Oct 5 13:20:18 2007 +0200

    fio HOWTO/man fix
    
    If I use ioengine=cpu , fio errors out, I referred HOWTO and man pages,
    both  says use "cpu" for cpu load. Looked at the code it should be
    ioengine=cpuio.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 67f5b27ed25e87102455e9a49eadabb00e873b0e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 28 08:48:52 2007 +0200

    Get rid of syslet-rw compile warnings on 32-bit
    
    The fixed size API repeatedly warns on the pointer to integer
    of different size cast, so sneak an unsigned long conversion in
    first. Makes gcc happy and should always be ok.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ccf8f1273301ccb286636ff169a7d47e09f47a90
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Sep 27 10:48:55 2007 +0200

    Don't use seeks on stdin for job file parsing
    
    The previous commit added the support for reading a job file
    from stdin, but this breaks when fio uses fgetpos/fsetpos on
    the file handle. So remove the seeking.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5a729cbec53a158fa8d8dc5737749cfee20ab31b
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Thu Sep 27 09:03:55 2007 +0200

    Add support for `-' file to read from stdin
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1d79a6d13b2bc7c039af813e7b0d9e9853593083
Author: Zach Brown <zach.brown@oracle.com>
Date:   Tue Sep 18 16:28:48 2007 -0700

    Update syslet-rw to fixed size ABI structures
    
    The syslet system calls moved to using fixed size members of structures.  This
    updates the syslet-rw engine to match.  syslet.h was copied from the kernel and
    then uXX was replaced with uintXX_T.  Casts were added to move between integers
    and pointers.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b4d8ddac58aa1f3ab0832a4c228863cc6d89fca8
Author: Zach Brown <zach.brown@oracle.com>
Date:   Wed Sep 19 08:42:19 2007 +0200

    Exec the getpid atom when testing for syslet support
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6a117e0ce9fca919c0477048a9b844d1a84bb005
Author: Zach Brown <zach.brown@oracle.com>
Date:   Wed Sep 19 08:42:18 2007 +0200

    Initialize the new_thread_stack so syslet support testing has one
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9de6bebc4cb18e0652a698c86f359fc730f322ad
Author: Zach Brown <zach.brown@oracle.com>
Date:   Wed Sep 19 08:42:17 2007 +0200

    Trivial spelling correction
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36ddbc093ed56f510645b4021cea74b2e0d1401b
Author: Zach Brown <zach.brown@oracle.com>
Date:   Wed Sep 19 08:42:16 2007 +0200

    Update syslet system call numbers
    
    System calls have been added to mainline while syslets has been pending.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d1429b5cdacca1b4d483df86c3576a673721fd60
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Tue Sep 18 08:10:57 2007 +0200

    General fio.1 improvements
    
     - Fixed a bunch of typos and formatting errors.
    
     - Wrapped some overly-long lines.
    
     - Added a few new default parameter values.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d60e92d13e969b08dcdad940499ef081b07ac6f7
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Mon Sep 17 10:32:59 2007 +0200

    man 1 fio
    
    I have put together a draft man page for fio.  The contents are from
    fio's HOWTO and README documents and edited for brevity and the odd
    typo.  The point is not to replace the existing docmentation, but to
    serve as a quick reference.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e592a06b36999bbb30675a4a58d4ff16ed65e555
Author: Aaron Carroll <aaronc@cse.unsw.edu.au>
Date:   Fri Sep 14 09:49:41 2007 +0200

    Add ETA output control and interactivity check
    
     - Real-time ETA display is only printed if output is to a terminal.
    
     - Accordingly, add --eta=always|never|auto option.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7101d9c24abec4be58a086d85d6d92ec6e6492e9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 12 13:12:39 2007 +0200

    Full readonly check
    
    Both in core and in engines. To the extent possible, this should catch
    even fio errors.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4241ea8fb0606f9bd5b7ed1278d3b7825883acf6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 12 08:18:36 2007 +0200

    Extend --readonly
    
    - Never allow open of a data file with writeable bits sets, and that
      includes extend as well.
    
    - Skip any writes in replay logs (iolog/iolog2/blktrace)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 724e4435c1374e97309b122429ad9291744966c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 11 20:02:05 2007 +0200

    Add --readonly option
    
    Suggested by Valerie Henson. It can be used as an extra safety guard
    against accidentically turning on a write setting. See README.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 81887d5dcd608492e59ed3fb2ac8fcb463223120
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 7 20:36:08 2007 +0200

    splice: update to new vmsplice-to-user interface
    
    I changed the kernel bits (they aren't merged yet), so update
    the fio splice engine to reflect that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e7823a941468e807c381fac4c5f7d41329ef0c1d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Sep 7 20:33:33 2007 +0200

    Add display of major and minor faults
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d16d4e09352f618c266d1efe27cbb25a95df6e86
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Sep 6 16:16:44 2007 +0200

    Verify handlers should return Exxx error, not just 1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a26fc7c568964658aa2b98610ebd9054e2477456
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Sep 5 18:10:11 2007 +0200

    Fix splice engine compile
    
    We need to move the splice_unmap_io_u() function.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bb446c117849b39ece795602774c3716eef6064a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 4 15:19:59 2007 +0200

    splice engine: add unmapping for vmsplice-to-user
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 061c86982ea02651cab2239b12983dd382019f26
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 4 15:17:09 2007 +0200

    Add unmap hook that belongs to the IO engines
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bdda7d79187a260c097de2ef3ffd90e022a3387b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 4 15:16:39 2007 +0200

    Type in SPLICE_F_UNMAP ifdef
    
    Should be an ifndef obviously, not ifdef.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0dd8377ff92f2cfb6670061782e28fd52d89a52f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Sep 4 12:38:28 2007 +0200

    Fix eta for pure read workload with verify enabled
    
    Verify doubles the expected IO count, but that is only true if
    we are first writing a file and then reading it back to verify.
    If the workload running is just reading back data to verify it,
    the IO count is already correct.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6203e9e73039537d41810e91e3dfe6abeb919d9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Sep 3 10:26:54 2007 +0200

    Fio 1.17.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ea966f8188915643670fd0a13d1bf37d45936da5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Sep 3 10:09:37 2007 +0200

    Fix ETA display for iolog replay
    
    Valerie Henson reported (and supplied a patch) to fix the issue with
    ETA display not being anywhere near correct when replaying an iolog.
    Fix this by ensuring that td->total_io_size is always set correctly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f627d8ae4dca9de8a72928a7928cf2903e81ad41
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Aug 24 10:24:09 2007 +0200

    Adjust file layout printf
    
    Make it file(s) not files, there may be 1 or many.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4764aec9fe5988281bdc114c13ac771fb16713cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 23 09:03:38 2007 +0200

    Style fixup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3f72c5e0a029a928a09a8ab0fc9ca2dbcf08ae1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 23 09:03:26 2007 +0200

    blktrace: skip notify traces
    
    Fio will not interpret them correctly, resulting in weird behaviour
    (like replaying that seems to hang, but is merely just waiting for a
    very long time).
    
    Fixes the issue reported by Joshua Root.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9309cb10119155c8cbf7369c807b9ae08bcd67c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 16 13:07:46 2007 +0200

    clat/slat display improvements
    
    If the avg and min are small, we'll display in usec. But that can make
    the max hard to read, so convert min/max to strings like we do for
    other values.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4661f3d026f11dad1b369f5cf4d1109b7e320cd5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Aug 15 09:32:21 2007 +0200

    README: correct command line description
    
    You can do anything on the command line, it's not limited.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 436885758c1b859392b80c616c338f9cfe9a9dfb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 14 13:43:05 2007 +0200

    splice: automatically detect whether vmsplice-to-user works
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b753feb720a8f0b1fbb692f915b7878e74e69ae2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Aug 14 10:23:44 2007 +0200

    Fio 1.17
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d78ee463665c7eb710e5ee5070b7873bee6dc611
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Aug 10 14:03:20 2007 +0200

    Allow upper-case 'X' for hexidecimal in parser
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bfb41d98f63cb9fb72cb7c82618be10bc6d52c33
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Aug 10 13:56:08 2007 +0200

    Remove verify_pattern option, replace with verify=pattern:x
    
    Integrate the pattern verification with the other verify types,
    it's much cleaner that way.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 68e1f29afafe560d96ef25267743708e883bea44
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Aug 10 10:32:14 2007 +0200

    Mark do_verify and verify_fatal as booleans
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a12a3b4d8903b9941705067442c2c530a94635f3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 9 10:20:54 2007 +0200

    Add verify_fatal option
    
    Causes fio to exit after a single block verification failure, instead of
    checking the remainder as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f199b01fc9cc7a0f4915db266d7a28bc46e84f0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 9 10:16:31 2007 +0200

    Improve verify pattern failure logging
    
    Show number of bad bits and block offset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 005c565ad012940aa4688de54a49beec26c5b1ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Aug 2 22:21:36 2007 +0200

    Note parent option 'verify' for 'do_verify'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e84c73a89ef19f38e117ed4fae5eb3bd4aee8a81
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Thu Aug 2 22:19:32 2007 +0200

    [PATCH] Add do_verify option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a944e335fac62c75966b417a25ec107c40957cdb
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Thu Aug 2 22:18:29 2007 +0200

    Verify the pattern we've written
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dee6de74152299f2a7df07ae971a53441b971daf
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Thu Aug 2 22:17:52 2007 +0200

    [PATCH] Fix memswp. Its scratch space was too small
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7437ee87e4f6457168e8440f9308b4296ddb9263
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Thu Aug 2 21:05:58 2007 +0200

    [PATCH] Add verify_meta verification type
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 67a1000f49db76ddb18ce9420ba03059af0214b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 31 23:12:16 2007 +0200

    More option help updates
    
    Rearrange some of the entries, and add more parent <-> child links.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fdf287440fa8486f0e96c8597349d5d25e98fb6a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 31 23:06:09 2007 +0200

    Be a little more clever in finding child options
    
    We don't need ->parent_seen, just start from the next option.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ef9aff52b10c71a4cb2b3649deaea270fa3944a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 31 22:56:53 2007 +0200

    Parent options didn't recurse properly
    
    It only displayed the first found. Add a ->parent_seen and
    find all matches.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c83f2df1802e12f0f67beb3d33486082dba7765d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 31 22:51:47 2007 +0200

    Add parent option to 'verifysort'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit afdf935261b23cdf08214e708133318548ddf2c4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jul 31 16:14:34 2007 +0200

    Add parent link to options
    
    Then we can nest display for --cmdhelp=all, to tie options
    together.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a432da1d5f1c6a413671995895becd972c4c3633
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 12:29:37 2007 +0200

    Update non-linux Makefiles
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eef6eea1b935a67f1ae26b38e06a69d4410a12aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 12:27:58 2007 +0200

    Move checksumming files to seperate directory
    
    Too many of them now, move them out-of-sight. They will rarely
    be modified anyway.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 546dfd9ff99eec4af5d1c6c2ca702b7cf9656334
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 12:23:05 2007 +0200

    Seperate verify_header from the checksum type
    
    If using one of the leaner checksums, we potentially have almost
    128 more bytes of real data in a block.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8767783245faac99a7e1c330a1d6536e579c8402
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 12:08:14 2007 +0200

    Prepare for splitting the verify_header from the checksum header
    
    Some of the checksums carry a lot of data. We unionize the checksum
    header right now inside the verify header, causing a lot of wasted
    space for the leaner variants.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cd14cc1079771ece34fce5b30d47c7b273ee56e5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 10:59:33 2007 +0200

    Add sha256 and sha512 checksums
    
    That should suffice...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 61f821f16cf27d8742e09b3a137c933cd0085e9b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 10:18:06 2007 +0200

    Properly initialize md5 hash seed
    
    We started from 0, that's not entirely correct.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 86739fcc2fec07b5acd42004fea038e0c3179732
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 09:50:13 2007 +0200

    Remove .maxval from verify_pattern
    
    Let the parser handle it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 90059d65bde4804e4da07401ad6902c1d956b592
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 09:33:12 2007 +0200

    Add verify_pattern option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6d16ecb6890ad4078437414b9a3b514e39a74bf1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 09:08:01 2007 +0200

    Document parser int taking hex input
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a61bdfd8846317f431c318e0fe1fb841084ca9ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 09:07:04 2007 +0200

    Parser: make check_int() accept hex input if prefixed with 0x
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a59e170d683f9ccbaa45648d7ae9a13b70e3822c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 30 08:53:27 2007 +0200

    Rename header_offset and header_interval options
    
    Header doesn't really express that this has to do with io verification.
    So rename the options to verify_offset and verify_interval.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fd00954ca87b3b083ec6987e593a16ff01913fe8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jul 29 20:59:01 2007 +0200

    Fix bug in md5 calculation
    
    Commit 8c432325c3df2075a77b27eab8a87704cf7b48ee introduced a bug for
    smaller sizes. Just basically revert the optimization, safer to stay
    with a 'reference' implementation than skip a memset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c9b3fdf3828fe15cfdcaace7c84ad96e90e24a46
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jul 29 08:49:16 2007 +0200

    Fix md5 verify
    
    The header_interval/offset changes introduced a bug, doing sizeof
    on a pointer where it should have been the array. So we didn't compare
    the full md5, just the first sizeof(pointer) bytes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 819a968068aae65bca68ddc7805c01669707b880
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 28 21:30:31 2007 +0200

    Fix header_interval minimum value
    
    It doesn't make sense to have a value of header size or less, since
    then there's no room for actual data. Fio even crashes with a value
    less than the header size.
    
    Lets just make the minimum twice the header size, seems reasonable...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9f2caf3de3f2ba6f8ecd8a2688e1eb7715bc2aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 28 21:22:03 2007 +0200

    Abstract out the data offset calculation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 95646108f83a34c0486d7f3ed19e99c1d93691e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jul 28 21:17:50 2007 +0200

    Cleanup verify pointer casting
    
    Just make 'p' void *, like io_u->buf.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 546a9142511875524850ac92776184fd9fb7196e
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Sat Jul 28 21:11:37 2007 +0200

    [PATCH] Offset verification header by a user-specified distance
    
    Offset verification header by user specified distance.
    
     - Implementation is somewhat simple and probably not ideal but it works. The
       header is just swapped with the bytes at offset after the chunk has been
       filled during populate. Everything is swapped back before verify.
    
     - Also fixes a bug where we were relying on a moving pointer for increment
       size in populate_verify_io_u (which was working until this patch).
    
     - Also cleans up a couple smalls things from the header_interval patch.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f9f4e2631c4f5d33f125dd71db20c1773d22c91
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Sat Jul 28 21:10:37 2007 +0200

    [PATCH] Allow verification to be done at finer granularity
    
    Allow verification to be done at a finer granularity than blocksize.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d11a531f38b9b612dfb3bd09c89d011dc786f81d
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Fri Jul 27 15:54:10 2007 +0200

    [PATCH] Fix file_size_high
    
    It is generating a size between
    
    [file_size_low, file_size_low+file_size_high]
    
    where it should be
    
    [file_size_low, file_size_high].
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fcca4b5848bddb59a38332bf54fcdcc197aa7fae
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 15:42:00 2007 +0200

    Show md5 as first verify function
    
    It's probably the best/fastest choice.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 17dc34dfb95f238ff8ffff67aea559e2ee5190d9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 15:36:02 2007 +0200

    Add crc7 and crc64 to HOWTO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d77a7af3e718200bbd77d76194725ead4bdb3591
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 15:35:06 2007 +0200

    Add sample crc64 checksum
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bcdedd0ac6e9413258b608ecb3511867b1a9c534
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Fri Jul 27 13:28:26 2007 +0200

    [PATCH] Fix fileoffset option
    
    1. The job file we prepared:
    ----------offset-----------------
    [global]
    filename=./temp/HOWTO
    nrfiles=1
    rw=read
    size=8K
    offset=16k
    bs=1k
    thread
    loops=10
    [offset]
    description="Option 'offset' doesn't work."
    ---------------------------------
    Besides, we copied the file HOWTO to the directory ./temp/.
    So we thought fio would read 8K text sequentially from the point 16K off
    the beginning of HOWTO.
    
    we run fio with gdb to see what was read out after the first io, and we
    got this:
    ---------------------------------
    ... ...
    (gdb) bt
    from /lib/tls/i686/cmov/libpthread.so.0
    (gdb) x/4w io_u->xfer_buf
    0x8073f08:      0x6c626154      0x666f2065      0x6e6f6320
    0x746e6574
    (gdb)
    ---------------------------------
    The above was performed after the first io finished by td_io_queue.
    The contents read out as we can see was the ASCII codes for 'Table of
    content', which was right from the beginning of file HOWTO.
    That means fio read from the beginning but not the point 16K off the
    beginning.Is that right?
    
    2. Reason for the problem:
    It seems the offset is saved in td->o.start_offset. But it isn't passed
    to  f->file_offset.And the setting up of f->io_size doesn't refer to
    f->file_offset.
    
    --------------------------------------------------------
    
    And now we can check it with gdb:
    --------------------------------------------------------
    ... ...
    (gdb) bt
    from /lib/tls/i686/cmov/libpthread.so.0
    (gdb) x/4w io_u->xfer_buf
    0x8073f08:      0x206b636f      0x7420666f      0x66206568
    0x20656c69
    (gdb)
    ---------------------------------------------------------
    After the first io, I got '0x206b636f 0x7420666f 0x66206568 0x20656c69'
    read out.And they represent the string 'ock of the file '.Then i search
    the string in HOWTO and got only one line containing the string:
    'norandommap Normally fio will cover every block of the file when doing'
    I removed the text following that line in HOWTO, and then I found that
    the size of the rest text in HOWTO was 16K, which equaled to the offset
    we set in job file.
    So I think the option 'offset' does work after the changes.
    
    In fact, I am not sure of the fix, but i do hope it can help.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2298290eabbe1017421a6ba0f5de93d8c2b048ad
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Fri Jul 27 13:21:28 2007 +0200

    [PATCH] Fix size given larger than filesize given
    
    1. The mission is defined like this:
    ----------filesize----------------
    [global]
    directory=./temp
    nrfiles=2
    rw=randread
    filesize=32k
    size=96k
    thread
    [filesize]
    description="Filesize less than size."
    ----------------------------------
    
    This job file caused another non-stop thread, which was asked to read
    96K but only provided two files of 32K each. The running information
    kept looking like this:
    ---------------------------------
    nonggia@nonggia-desktop:~/fio$ fio --version
    fio 1.16.9
    nonggia@nonggia-desktop:~/fio$ fio filesize
    filesize: (g=0): rw=randread, bs=4K-4K/4K-4K, ioengine=sync, iodepth=1
    Starting 1 thread
    Jobs: 1 (f=2): [r] [66.7% done] [     0/     0 kb/s] [eta 00m:51s]
    ---------------------------------
    
    2. The reason:
    After having covered both the two files, the thread still had 32K to
    issued, while there were already no available files on hand.
    I agree that it is far from a bug.Maybe it was the job file that we
    should blame. It was wrong written from the beginning.But why not make
    it more gentle if we can?
    
    3. Fix suggestion:
    So what about change it like this?
    Just limit the max td->o.size with the total_size that all the files can
    provide.
    ---------------------------------
    diff -Nraup fio-7.25/filesetup.c fio-7.25-filesize/filesetup.c
    --- fio-7.25/filesetup.c 2007-07-25 14:25:05.000000000 +0800
    +++ fio-7.25-filesize/filesetup.c 2007-07-27 14:17:39.000000000 +0800
    @@ -414,7 +414,7 @@ int setup_files(struct thread_data *td)
    }
    }
    
    - if (!td->o.size)
    + if (!td->o.size || td->o.size > total_size)
    td->o.size = total_size;
    
    /*
    ---------------------------------
    
    Now it behaves like this, just finishes as much job as it can and comes
    to the end:
    ---------------------------------
    nonggia@nonggia-desktop:~/fio$ ./filesize_fio filesize
    filesize: (g=0): rw=randread, bs=4K-4K/4K-4K, ioengine=sync, iodepth=1
    Starting 1 thread
    
    filesize: (groupid=0, jobs=1): err= 0: pid=8045
      Description  : ["Filesize less than size."]
      read : io=64KiB, bw=32768KiB/s, iops=8000, runt=     2msec
        clat (usec): min=   72, max=  907, avg=167.56, stdev=210.90
      cpu          : usr=0.00%, sys=0.00%, ctx=1
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=16/0, short=0/0
         lat (usec): 100=62.50%, 250=25.00%, 500=6.25%, 1000=6.25%
    
    Run status group 0 (all jobs):
       READ: io=64KiB, aggrb=32768KiB/s, minb=32768KiB/s, maxb=32768KiB/s,
    mint=2msec, maxt=2msec
    
    Disk stats (read/write):
      sda: ios=16/0, merge=0/0, ticks=0/0, in_queue=0, util=0.00%
    nonggia@nonggia-desktop:~/fio$
    ---------------------------------
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8c432325c3df2075a77b27eab8a87704cf7b48ee
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 13:16:24 2007 +0200

    Speed up md5 hash filling/verifying by 20%
    
    Get rid of the on-stack hash copies, hash directly into the buffer.
    We need to 'fix' md5 to just initially clear a/b/c/d in md5_update().
    Tested, works, generates same checksums.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a3ff21e3875887a28a40eb246e5c8f0c01cf96cd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 12:59:25 2007 +0200

    Clean up verify_io_u()
    
    Use a switch statement, like in the pre-io filler.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit baefa9beacca430b8e3275c07d2f46ef14654468
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 12:57:25 2007 +0200

    Speed up verify fill
    
    It's silly to fill an on-stack header, and then copy it to the io_u.
    Just map the pointer to the buffer start.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1f24ea44c8d8bf40e05608b48ef342a345d75ee8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 09:53:14 2007 +0200

    Type in crc16 verify failure
    
    Should dump crc16, not crc32.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e154bdbf14a1d352117aea057035235b66f0381
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 09:52:40 2007 +0200

    Add crc7 verify type
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 969f7ed32353ade93ea30542a4993b75b94e3f8a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 27 09:07:17 2007 +0200

    Add crc16 verify type
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1dcc049824b840df1ee0ef5d019fffa4037e1bb0
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Fri Jul 27 08:02:45 2007 +0200

    [PATCH] Only verify_io_u on reads
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c6c3b28a257258895eabe127d3cf784cd93bc851
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 26 13:19:57 2007 +0200

    Add data integrity example to netio sample job file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dc372f07b450e3b4c758d7a7fdaaca6c21843398
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 26 13:13:49 2007 +0200

    Missed FIO_UNIDIR io ops flags on net engine
    
    Inadvertenly only set it on the netsplice engine, not net.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b67740d3620aee7c753987cdcf750fa28d871fcf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 26 12:22:30 2007 +0200

    IO verification improvements
    
    - Add a FIO_UNIDIR io ops flag. This like networked IO can't be read/write,
      so verify only makes sense for data summed by another writer.
    - Allow a read workload to verify previously written data.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4c5946c6606abc87ba7e2bfc57a5030d19b6d4d5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 26 11:55:10 2007 +0200

    Fix verify random bytes filling
    
    Shawn Lewis <shawnlewis@google.com> reports:
    
    ---
    
    verify.c: fill_random_bytes() doesn't work as intended.
    
    drand48 on linux returns a double whose value is evenly distributed between
    0.0 and 0.1. This is not the same as having an 8-byte value where each bit
    has the same chance of being 0 as it does of being 1.
    
    I'd fix this but it should probably be done in a cross-platformish way and
    I'm not quite sure how to do it. Maybe just use smaller randoms? Have an
    os_random_uint32?
    
    ---
    
    I just got rid of os_random_double() and used os_random_long(),
    truncating that to an unsigned integer.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 47f0cc48db34b37d81540b31bf6adf11bb7b578d
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Thu Jul 26 11:00:29 2007 +0200

    [PATCH] empty result
    
    1. The job file looks like this:
    ---------runtime------------
    [global]
    directory=./temp
    nrfiles=1
    rw=randread
    size=32k
    thread
    [runtime]
    description="Too tiny a mission using less than 1sec."
    ----------------------------
    
    Most of the time,it seems like no io has been performed:
    ----------------------------
    nonggia@nonggia-desktop:~/fio$ fio runtime
    runtime: (g=0): rw=randread, bs=4K-4K/4K-4K, ioengine=sync, iodepth=1
    Starting 1 thread
    
    runtime: (groupid=0, jobs=1): err= 0: pid=7155
      Description  : ["Too tiny a mission using less than 1sec."]
      cpu          : usr=0.00%, sys=0.00%, ctx=1
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=8/0, short=0/0
         lat (usec): 100=87.50%, 250=12.50%
    
    Run status group 0 (all jobs):
    
    Disk stats (read/write):
      sda: ios=8/0, merge=0/0, ticks=0/0, in_queue=0, util=0.00%
    nonggia@nonggia-desktop:~/fio$
    ----------------------------
    
    2. Reason for the problem:
    It is so tiny a job that it may cost less than one second to finish.And
    the runtime is rounded down to 0.Just like the io never happened.
    We agree that the problem is really trifle, but for testing purpose, we
    think it maybe while the fixing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0c3d768a44543dd6c23337eafc726e7f88dc3076
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Thu Jul 26 10:59:25 2007 +0200

    [PATCH] non-stop thread
    
    1. The job file causing the problem:
    -------------------rw-------------------
    [global]
    directory=./temp
    nrfiles=1
    rw=randread:8
    norandommap
    size=32k
    bs=2k
    thread
    [rw]
    description="Offset over real file size."
    -----------------------------------------
    
    The job file can keep fio running with the eta increasing and the
    progress pausing like this:
    ----------------------------------------
    rw: (g=0): rw=randread, bs=2K-2K/2K-2K, ioengine=sync, iodepth=1
    Starting 1 thread
    Jobs: 1 (f=1): [r] [92.3% done] [     0/     0 kb/s] [eta 00m:01s]]
    
    ----------------------------------------
    
    If we force it to stop, it prints like this:
    --------------------------------------------
    fio: terminating on signal 2
    
    rw: (groupid=0, jobs=1): err= 0: pid=6124
      Description  : ["Offset over real file size."]
      read : io=28KiB, bw=0KiB/s, iops=0, runt= 61900msec
        clat (usec): min=    5, max=  436, avg=87.79, stdev=123.71
      cpu          : usr=2.01%, sys=93.48%, ctx=13644
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=14/0, short=0/0
         lat (usec): 10=42.86%, 100=35.71%, 250=7.14%, 500=14.29%
    
    Run status group 0 (all jobs):
       READ: io=28KiB, aggrb=0KiB/s, minb=0KiB/s, maxb=0KiB/s,
    mint=61900msec, maxt=61900msec
    
    Disk stats (read/write):
      sda: ios=8/45, merge=0/40, ticks=4/368, in_queue=372, util=0.27%
    --------------------------------------------
    >From above we can see an uncompleted job with a io 28KiB less than what
    is specified by 'size'.
    
    2. Reason for problem:
    After looking into the source codes,We guess the problem comes from the
    function get_next_offset().If the io reaches the end of the file, the
    function fails, and the file will be marked as DONE.We wonder if that is
    the planned behavior.Isn't it very common to reach the file's end when
    doing a random io?
    
    3. Fix suggestion:
    Here is the patch:
    -----------------------------------------------------
    diff -Nraup fio-7.25/io_u.c fio-7.25-rw/io_u.c
    --- fio-7.25/io_u.c     2007-07-25 14:25:05.000000000 +0800
    +++ fio-7.25-rw/io_u.c 2007-07-26 09:55:22.000000000 +0800
    @@ -162,10 +162,12 @@ static int get_next_offset(struct thread
    if (get_next_rand_offset(td, f, ddir, &b))
    return 1;
    } else {
    - if (f->last_pos >= f->real_file_size)
    - return 1;
    -
    - b = f->last_pos / td->o.min_bs[ddir];
    + if (f->last_pos >= f->real_file_size) {
    + if (!td_random(td) || get_next_rand_offset(td, f, ddir, &b))
    + return 1;
    + } else {
    + b = f->last_pos / td->o.min_bs[ddir];
    + }
    }
    
    io_u->offset = (b * td->o.min_bs[ddir]) + f->file_offset;
    ------------------------------------------------------
    
    After applying that, we got the job file run to the end normally:
    -------------------------------------------------------
    nonggia@nonggia-desktop:~/fio$ ./rw_fio rw
    rw: (g=0): rw=randread, bs=2K-2K/2K-2K, ioengine=sync, iodepth=1
    Starting 1 thread
    
    rw: (groupid=0, jobs=1): err= 0: pid=6519
      Description  : ["Offset over real file size."]
      read : io=32KiB, bw=1560KiB/s, iops=761, runt=    21msec
        clat (usec): min=    5, max=14251, avg=1293.50, stdev=3510.37
      cpu          : usr=0.00%, sys=19.05%, ctx=7
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=16/0, short=0/0
         lat (usec): 10=37.50%, 20=12.50%, 250=12.50%, 750=6.25%, 1000=6.25%
         lat (msec): 2=18.75%, 20=6.25%
    
    Run status group 0 (all jobs):
       READ: io=32KiB, aggrb=1560KiB/s, minb=1560KiB/s, maxb=1560KiB/s,
    mint=21msec, maxt=21msec
    
    Disk stats (read/write):
      sda: ios=8/0, merge=0/0, ticks=20/0, in_queue=20, util=13.89%
    -------------------------------------------------------
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b6a4c7d152075209ba84ca05c32154427cbcd275
Author: ljzhang,Yaxin Hu,Jianchao Tang <nonggia@sjtu.edu.cn>
Date:   Thu Jul 26 10:51:46 2007 +0200

    [PATCH] Random map block coverage
    
    1. The job file causing the problem:
    ----------cover-------------------
    [global]
    directory=./temp
    nrfiles=1
    rw=randread
    size=256K
    bsrange=4k-16k
    thread
    [cover]
    description="Not covering every block."
    -----------------------------------------
    
    According to HOWTO,the job file will makes fio to cover every block of
    the 256k file.But running that, we sometimes got a io gross more than
    256k:
    ----------------------------------------
    nonggia@nonggia-desktop:~$ fio --version
    fio 1.16.9
    nonggia@nonggia-desktop:~/fio$ fio cover
    cover: (g=0): rw=randread, bs=4K-16K/4K-4K, ioengine=sync, iodepth=1
    Starting 1 thread
    
    cover: (groupid=0, jobs=1): err= 0: pid=6969
      Description  : ["Not covering every block."]
      read : io=264KiB, bw=90112KiB/s, iops=7666, runt=     3msec
        clat (usec): min=   66, max=  438, avg=151.00, stdev=88.90
      cpu          : usr=0.00%, sys=133.33%, ctx=0
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=23/0, short=0/0
         lat (usec): 100=34.78%, 250=56.52%, 500=8.70%
    
    Run status group 0 (all jobs):
       READ: io=264KiB, aggrb=90112KiB/s, minb=90112KiB/s, maxb=90112KiB/s,
    mint=3msec, maxt=3msec
    
    Disk stats (read/write):
      sda: ios=49/0, merge=0/0, ticks=4/0, in_queue=4, util=2.86%
    --------------------------------------------
    
    It seems fio doesn't cover every block.And using gdb we can see it in
    detail:
    --------------------------------------------
    (gdb) where
    from /lib/tls/i686/cmov/libpthread.so.0
    (gdb) p td->files[0].num_maps
    $1 = 2
    (gdb) x/2w td->files[0].file_map
    0x8073ff0:      0x00000000      0x00000000
    (gdb) finish
    Run till exit from #0  do_io (td=0xb7bec000) at fio.c:423
    thread_main (data=0xb7bec000) at fio.c:875    0 kb/s] [eta 00m:00s]
    875                     clear_state = 1;
    (gdb) x/2w td->files[0].file_map
    0x8073ff0:      0xffffeffd      0x7ce2df47
    (gdb) c
    Continuing.
    [Thread -1212236896 (LWP 7099) exited]
    
    cover: (groupid=0, jobs=1): err= 0: pid=7098
      Description  : ["Not covering every block."]
      read : io=264KiB, bw=7KiB/s, iops=0, runt= 37522msec
        clat (usec): min=   67, max=  347, avg=143.28, stdev=67.59
        bw (KiB/s) : min=    0, max=    0, per=0.00%, avg= 0.00, stdev= 0.00
      cpu          : usr=0.00%, sys=0.01%, ctx=13
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=29/0, short=0/0
         lat (usec): 100=31.03%, 250=62.07%, 500=6.90%
    
    Run status group 0 (all jobs):
       READ: io=264KiB, aggrb=7KiB/s, minb=7KiB/s, maxb=7KiB/s,
    mint=37522msec, maxt=37522msec
    
    Disk stats (read/write):
      sda: ios=50/23, merge=0/32, ticks=0/160, in_queue=160, util=0.13%
    
    Program exited normally.
    --------------------------------------------------
    
    2. Reason for problem:
    We think when there is no 'norandommap' in the job file, and no ':int'
    appended with 'rw',just like the job file above, fio is meant to use
    only the blocks not covered yet.
    But it seems in the function mark_random_map(), the condition before
    calling random_map_free() will never be satisfied.
    
    3. Fix suggestion:
    Here is the patch:
    -----------------------------------------------------
    diff -Nraup fio-7.25/io_u.c fio-7.25-cover/io_u.c
    --- fio-7.25/io_u.c     2007-07-25 14:25:05.000000000 +0800
    +++ fio-7.25-cover/io_u.c       2007-07-25 20:43:58.000000000 +0800
    @@ -55,7 +55,7 @@ static void mark_random_map(struct threa
                     * If we have a mixed random workload, we may
                     * encounter blocks we already did IO to.
                     */
    -               if (!td->o.ddir_nr && !random_map_free(td, f, block))
    +               if (td->o.ddir_nr==1 && !random_map_free(td, f, block))
                            break;
    
                    idx = RAND_MAP_IDX(td, f, block);
    ------------------------------------------------------
    
    After that, we check it with gdb:
    ----------------------------------------------------
    (gdb) where
    from /lib/tls/i686/cmov/libpthread.so.0
    (gdb) p td->files[0].num_maps
    $2 = 2
    (gdb) x/2w td->files[0].file_map
    0x8073ff0:      0x00000000      0x00000000
    (gdb) finish
    Run till exit from #0  do_io (td=0xb7c48000) at fio.c:423
    thread_main (data=0xb7c48000) at fio.c:875    0 kb/s] [eta 00m:00s]
    875                     clear_state = 1;
    (gdb) x/2w td->files[0].file_map
    0x8073ff0:      0xffffffff      0xffffffff
    (gdb) c
    Continuing.
    [Thread -1212073056 (LWP 7443) exited] 5/     0 kb/s] [eta 00m:00s]
    
    cover: (groupid=0, jobs=1): err= 0: pid=7442
      Description  : ["Not covering every block."]
      read : io=256KiB, bw=5KiB/s, iops=0, runt= 46612msec
        clat (usec): min=   62, max=  522, avg=119.50, stdev=88.07
        bw (KiB/s) : min=    0, max=    0, per=0.00%, avg= 0.00, stdev= 0.00
      cpu          : usr=0.00%, sys=0.01%, ctx=11
      IO depths    : 1=100.0%, 2=0.0%, 4=0.0%, 8=0.0%, 16=0.0%, 32=0.0%,
    >=64=0.0%
         issued r/w: total=38/0, short=0/0
         lat (usec): 100=55.26%, 250=39.47%, 500=2.63%, 750=2.63%
    
    Run status group 0 (all jobs):
       READ: io=256KiB, aggrb=5KiB/s, minb=5KiB/s, maxb=5KiB/s,
    mint=46612msec, maxt=46612msec
    
    Disk stats (read/write):
      sda: ios=64/45, merge=0/62, ticks=8/476, in_queue=484, util=0.19%
    
    Program exited normally.
    (gdb)
    ---------------------------------------------------------
    Now we can see the expected '0xffffffff 0xffffffff' and the 'io=256KiB'.
    By the way, we tested this both on a 32bit machine and a 64bit one.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6a5e688425bb394946ef27134aa0f3de928c6a1f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 26 10:47:51 2007 +0200

    Fix problem with io_u being beyond EOF
    
    Bug report from "ljzhang,Yaxin Hu,Jianchao Tang" <nonggia@sjtu.edu.cn> :
    
    1. The job file causing the problem:
    ----------ranmap-------------------
    [global]
    directory=./temp
    nrfiles=1
    rw=randread
    size=64K
    bsrange=1k-32k
    thread
    [ranmap]
    description="Over-bounded in mark_random_map()."
    -----------------------------------------
    
    Running the job file, we have a high possibility to get a core dump like
    this:
    ----------------------------------------
    nonggia@nonggia-desktop:~/fio$ fio --version
    fio 1.16.9
    nonggia@nonggia-desktop:~/fio$ fio ranmap
    ranmap: (g=0): rw=randread, bs=1K-32K/4K-4K, ioengine=sync, iodepth=1
    Starting 1 thread
    file:io_u.c:64, assert idx < f->num_maps failed
    Segmentation fault (core dumped)
    nonggia@nonggia-desktop:~/fio$ gdb fio core.6135
    ... ...
    Core was generated by `fio ranmap'.
    Program terminated with signal 11, Segmentation fault.
    io_u.c:64
    64                      fio_assert(td, idx < f->num_maps);
    (gdb) bt
    io_u.c:64
    io_u.c:348
    io_u.c:588
    from /lib/tls/i686/cmov/libpthread.so.0
    (gdb) p io_u->offset
    $1 = 41984
    (gdb) p io_u->buflen
    $2 = 27648
    (gdb) p io_u->file->real_file_size
    $3 = 65536
    
    2. Reason for the core dump:
    The io_u->offset+io_u->buflen was too large to be map in the map file.
    They just produced an idx out of the file_map's range.
    
    The fix I produced made sure that get_next_buflen() doesn't go
    beyond the real file size, by shrinking the buflen.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 09c6cb22aa0a0b179d428bfb6cda0dfb11367b13
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Thu Jul 26 07:36:14 2007 +0200

    [PATCH] Don't hide pthread_mutex_setpshared in os-linux.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d8947de2b50578a4f6290be567cb5de5bf46776
Author: Shawn Lewis <shawnlewis@google.com>
Date:   Wed Jul 25 07:51:58 2007 +0200

    Fix headers for building with some older libs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 20e354ef1243541ea196619772b83a962d7cb4df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 14:36:16 2007 +0200

    Add ->done variable to force exit when we know we are done
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7172cfe8e0e918cc279eb501986f6ec78cc7aad9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 14:36:00 2007 +0200

    Only do the root warning once per thread
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4539ed73159735c20cf6c2808eea84d0cc25a608
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 14:21:17 2007 +0200

    Missing carriage return in latency print
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4dced40768378754a156bb3327b10df53cf7eb8c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 14:16:55 2007 +0200

    Only warn once for blktrace log open failure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 21bd2987dc5d82a18af485cd1e7841e94137fc0c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 11:26:27 2007 +0200

    One more fio_ddir fixup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 53fa9b69d69b4d108cb132d7186b3f623eb22389
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 11:25:39 2007 +0200

    ddir is of type enum fio_ddir
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b3f4b4f51e05b019ee9e5fddb9232975cf15ce93
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 11:23:26 2007 +0200

    Remove gotos from read_iolog_get()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 429f6675446eec26652b010b0c715d8bb6bc32e1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 10:38:43 2007 +0200

    IO log fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f29b25a370598d387e539c3dcae126274c6cbf4d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jul 23 08:56:43 2007 +0200

    Add version 2 of the iolog format
    
    The old format had some short comings - notably not supporting > 1
    file workloads. So add a new format that defines adding/open/close
    of files. Fio will still load the older format iologs, but the new
    ones wont work on older fio versions.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2135abc4f63c54e213abe0e9469eeba7a58815fc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 20 16:08:28 2007 +0200

    Fio 1.16.9
    
    Lots of good bug reporting from Erwan Velu, so lets celebrate
    those fixes with a new release.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c3edbdba748e25eb14f3efc648ac0678995f3432
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 20 14:25:31 2007 +0200

    Set minimum value allowed for some options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 48f5abd393cc614e1984391b28ba491ef9b26f5e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 20 13:25:04 2007 +0200

    Fix disk zone test case
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c9f60304a5eb7c3f3d2cdcba5a5a42edf6ce97ff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 20 12:43:05 2007 +0200

    Mention what the [ xxx / xxx kb/s ] means in the status output
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b3f378e90231ecb2082ec565bafb3f721c4f1902
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 20 12:39:22 2007 +0200

    Don't align memory unless using raw io
    
    If it's not raw io, we didn't align the buffer size. So we cannot
    align.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4b43f54ed7dece502350658bee10eba551aeb4a4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 21:38:35 2007 +0200

    Default stdev to 0.0, not -1.0
    
    If we only have a single sample, then the deviation is by definition 0.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9cc7c135a927811117930ac74aa83189d3c9d19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 15:08:54 2007 +0200

    Fio 1.16.8
    
    1.16.7 was rather short lived, as it had a stupid bug for
    the ordinary malloc() backed buffers.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d87612ac34a3cf1ac94a9ddc0cada672b6541b3c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 15:06:57 2007 +0200

    malloc memory still needs to be aligned, if we are doing direct IO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 088b42076dcbadf4d61367e19e49cb0d12aaadd1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 14:53:01 2007 +0200

    Treat option outside of job section as fatal and quit
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7f7e6e59f48bbd754847c825075a9c46962e0116
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 14:50:05 2007 +0200

    Fix memory overflow bugs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f7150a9194e407f9b6a00bdf42038b0233a5ed44
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 14:22:50 2007 +0200

    Fio 1.16.7
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 244e170ebd309303d124c57cde7bf7a3b40d09e7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 14:21:08 2007 +0200

    Make a note of Mandriva package availability
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c39906450ba553a65545c90863addde0152a465e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 10:17:09 2007 +0200

    Fix bad alignment in buffer size allocation
    
    We typically end up allocating a block more than we need. Usually
    not a problem for normal memory, but when we are dealing with
    scarce resources such as hugepages, it can be problematic. For many
    threads the memory waste could also be a problem.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c7173db634637926296ba8a9201bc8edcddbc1a3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 10:09:45 2007 +0200

    Add clue for ENOMEM hugepage allocation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 886b878aed5decd6fdc6c61d2f11aa5b960b4f1c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 10:01:03 2007 +0200

    Fix typo in shmhuge commit
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d8602dd08170e11fb91dccde945bc527dbba57aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jul 19 10:00:05 2007 +0200

    Detect and print when the OS doesn't support huge pages
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6b3eccb158d1f4cebc2924fc6abf84c1bf59d002
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jul 18 13:51:19 2007 +0200

    git:// url location change
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 542ff8c4f03a4c38e04f48bb01524db4ec4686b5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 6 14:24:19 2007 +0200

    Fio 1.16.6
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a9a18a3f1b341c7025e63b47f706663cbf19836a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jul 6 14:09:49 2007 +0200

    Fix bug with FIO_IO_U_M/U_NR being transposed
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 72711fb74534e2caa15a1a775ff8d5e531fb8fef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jun 24 22:41:27 2007 +0200

    Guard __must_check ifdef
    
    Some systems seem to pick up the kernel definitions, so check
    if __must_check is defined before (potentially) redefining it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cd963e18de21e08ebb2ed86366f07347b4c58e3d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jun 24 21:41:46 2007 +0200

    net engine: cleanup the splice handling
    
    The splice and vmsplice bits were largely duplicated, so abstract
    the stuff out so it's clearer to see what is going on.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 64b24cd8a5ea87bccec60e0236d93071480201e7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jun 24 21:28:39 2007 +0200

    net engine: fix listenfd/pipe fd leaks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d94c275d2344b9231d9dc4585bd42b8e9fb7794
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 22 20:41:27 2007 +0200

    netsplice: use zero-copy if possible
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f657a2fbbb0deaf455edc478d73b664929bcb766
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 22 20:40:10 2007 +0200

    netsplice: fix a few typos
    
    It actually works now.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9cce02e89e01984a5bf58e730fb9311dc5273554
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 22 15:42:21 2007 +0200

    Support for 'netsplice' engine
    
    This IO engine does network transfers, but uses splice() to move data
    to/from a socket to a pipe and vmsplice() to move that data to/from
    user space.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ffa59cea1c50ad3c6500efcb9c065ee1325f37ed
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 14:25:46 2007 +0200

    guasi engine: remove STFU_GCC()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1d2e2718a98ca85f9b4234d524e6cfad8057387e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 12:49:52 2007 +0200

    Fio 1.16.5
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 04a0feae73ca50d05914cc3c425b2a6949523204
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 12:48:41 2007 +0200

    Adaptive io latency distrobution "histogram"
    
    Log ranges all the way down to microseconds, and display the most
    appropriate values for those ranges.
    
    This makes the latency usable for sub-milisecond devices as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8a35c71ea954894b26cb1af52f4089a228e1e68e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 09:53:31 2007 +0200

    HOWTO: note that clat/slat can be in micro or mili seconds
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a783e61aadbdd51ea69b8c62a3cbe0897b739123
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 09:50:28 2007 +0200

    io_u_mark_depth: just set index, don't fall through
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ea2accc50fe911f7c24f08e62db55de4d2386b71
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jun 19 09:48:44 2007 +0200

    Cleanup msec <-> usec lat conversion
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7d059f88c869f89a1456e492e0e4f11b3e2578ff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 18 09:48:57 2007 +0200

    libaio engine: print warning for depth > 1 and buffered IO
    
    Linux aio doesn't support queued buffered IO, it has to be
    O_DIRECT. So print a warning to that effect, so that users
    of fio don't get bad results by mistake.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d85f5118c41a112c3b8a58cc6908d00294bfb78d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jun 18 09:41:23 2007 +0200

    Make completion and submission latency use appropriate time base
    
    It's hardcoded as msecs right now, switch the accounting to usecs
    and print out the appropriate base determined by the value range.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2e268b09bc8ab95af81e5636608dcd93f40e4c1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 15 10:33:49 2007 +0200

    Add cpus_allowed option
    
    cpumask can be cumbersome to use, since it requires you to calculate
    a decimal mask to pass to fio. So add a cpus_allowed option that
    takes a text list of allowed cpus, ala: cpus_allowed=1,3,8 will set
    the affinity mask for CPUS 1, 3, and 8.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6b6fa9c83a4418b49f4a296b82f83bbecd8d59c4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jun 14 08:17:08 2007 +0200

    Fio 1.16.4
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a08bc17f470c3ae3abbc90f9ca77c37866ad0028
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 13 21:00:46 2007 +0200

    HOWTO: expand the cpumask explanation a bit
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dd19ee6d101147473a02e2ed965459cfa3fbfe59
Merge: e600f7f ba9321e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 13 20:58:09 2007 +0200

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit e600f7f122d344358493f90e9114f9354c63fdfe
Author: Gough, Corey D <corey.d.gough@intel.com>
Date:   Wed Jun 13 20:58:01 2007 +0200

    Fix cpu mask setting
    
    Fio passed the mask by value, not by reference. So when
    fill_cpu_mask() was done setting the valid CPUs, it was
    only on the local value.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ba9321ea8ebf0793487a6ee6b5c899f169d4f988
Merge: f24254e 495ee9b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 13 19:04:20 2007 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit f24254e1d142e80dc76d1f2e316da12f6ec125ee
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jun 13 19:04:16 2007 +0200

    splice engine: support for vmsplice to user space
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 495ee9b632c5629e79a46d1074cacf4eda965e13
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jun 8 11:24:58 2007 +0200

    splice flags are unsigned int, not unsigned long
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7616cafe9c2c76451e518eafe5cc37db460c8b1e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri May 25 09:26:05 2007 +0200

    Documentation update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 163be7e4813e139652c52bf333ff9ad488cd121f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 24 10:34:30 2007 +0200

    Fio 1.16.3
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 492158cf6a2e81886c43a6e696b17d7160ec5540
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu May 24 10:32:47 2007 +0200

    Tweak meaning of size option
    
    Consider it the full amount of IO to be done, even if the
    files used are smaller. Then we'll just restart the workload
    until we reach the desired number of bytes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 281f9b6363ff7ca9fdcc93c600faa8c907ba3010
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 23 09:34:42 2007 +0200

    Fix bug with time_based run
    
    We need to clear the FIO_FILE_DONE flag and the number of
    files done, to avoid do_io() exiting quickly for a re-run.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f9c843e87dc804530780f40714d70eadadb239e4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 17:07:44 2007 +0200

    Fio 1.16.2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c8f025f8a33e05b10fe928d5899ac4e948847eb6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 17:06:24 2007 +0200

    Add comment in os/os-linux.h wrt glibc-2.3.2
    
    It was a broken release wrt cpu affinity, they removed the
    size argument from the set/get functions. If you want to
    compile on such an ancient glibc, manually define GLIBC_2_3_2.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c69aa91fa88fe1f0372afe2a56c4e79c62fc49e0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 15:51:50 2007 +0200

    Fix build on older systems
    
    Avoid conflict with MINOR/MAJOR.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e62c22a669c7a8c03b7871852cf85ad6d355980
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 13:27:30 2007 +0200

    Fix build/compile for non-blktrace platforms
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97af62cec418cd722fb43c6010d6430534e12353
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 11:12:13 2007 +0200

    IO verification needs to open and grab a reference to a file
    
    Otherwise it can disappear in midair.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 16d55aae770b8b1a966d4b4a814918ce49a76ba3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 09:21:37 2007 +0200

    Fix bug with random IO and network connections
    
    It isn't a supported configuration.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7dbb6eba84b38be2d3d10cd4d6cc145d939c5745
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 09:13:31 2007 +0200

    Update HOWTO on cpumask setting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 375b2695693f56987e23deef3ded8e5b06ef6797
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 22 09:13:02 2007 +0200

    Fix cpumask setting/getting on older kernels
    
    Don't call into the affinity functions, unless the user has
    specified a mask.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c97d8369f04e562383f50a77a2b0e2abb102df75
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 21 14:52:43 2007 +0200

    mmap engine: fix open-for-size check
    
    Don't call into mmap() yet, since we didn't setup ->io_size.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2bfe24bdd9ce313e5323d947952067b1475dd2cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 21 14:27:32 2007 +0200

    Attempt to work-around possible time warp
    
    A theory - we see gettimeofday() going backwards on some
    systems, try and correct for that by just returning 0
    for time passed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43c63a78d3f902b4bf941841579834bbfabd5c62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 21 13:23:30 2007 +0200

    Improve random pattern without norandommap
    
    Using the random map, random workloads have a natural tendency to
    get less random at the end of the run, due to failures to find a
    new unused random offset.
    
    Improve the logic to avoid this problem.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b12ebc65e82de1cc6174b65c79266dd0f0a4fbf3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon May 21 11:42:33 2007 +0200

    Rename ffz() function to fio_ffz() to avoid conflicts
    
    Newer gcc/glibc include an ffz function. Lets just do the easy
    thing and rename ours to fio_ffz(), then we can look into reusing
    a provided one later if necessary.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eeb9c2aa5439dd6615ad69324f402f774173f6e5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 18:28:47 2007 +0200

    blktrace support: major/minor fixups
    
    We get passed the kernel variant, so we need a bit of manual
    support to untangle it (major() and minor() wont cut it).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5e6c20673be9f46332f47ede0e3b657b2cc35ec4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 14:40:29 2007 +0200

    blktrace support: support for looking up a device
    
    We can get the device number out of the trace, turn that into
    a major/minor pair and look it up in /dev.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f3d36166670a447679b308559c681293eb2b857
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 12:29:06 2007 +0200

    blktrace support: discard notify messages
    
    They are not interesting to us (they contain things like timestamps
    and process information).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f12b323f5d5ca40cd966ebbcfbbfcdf0a1fc229e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 12:16:44 2007 +0200

    blktrace support: fixups/cleanups/improvements
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 104bc4bdf55bd79c2b3f9087601c3df4aa884b2a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 11:54:43 2007 +0200

    fifo updates

commit 0db2679750e4cc8f38af7af135f1ba8481d6def6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 08:59:27 2007 +0200

    Fix timeout on 64-bit BE archs
    
    We stored the timeout in an unsigned long long pointer, but
    the value was really unsigned long.

commit 38470f85fa4acddab4339db9c8805a19bc87578e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 09:26:23 2007 +0200

    Fix fifo leak
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e28875637094451a3c5ec4071f964c1a02dd8f5b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 09:25:09 2007 +0200

    blktrace support: speedup reading of data
    
    We used to read in data in really small chunks (48 bytes at the time,
    the size of the trace). This is really slow for large traces, so
    add a fifo frontend to refill the cache in much larger sizes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d84f8d4931be0c7519bd9f97f9914b07578a9854
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed May 16 08:47:46 2007 +0200

    blktrace support: adjust largest io_u buffer size to match trace
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a61eddecca21d19f3f4c297400d6c5d93dc29259
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 14:29:58 2007 +0200

    blktrace replay: delay support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6df8adaaadb71340b47f2c3e971297b656082ca5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 13:23:19 2007 +0200

    blktrace fixup + documentation
    
    Add a little documentation on using blktrace data files.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a2eea81b53fc1a71b91b20d82bcadffdd4ecb6cd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 13:10:41 2007 +0200

    blktrace support now works
    
    One little buglet - the blktrace offset is the sector, not the
    byte offset. For now it's hardcoded at 512, should really get
    the value from the device.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8c1fdf044083522504685e3009e356c70d003ef0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 11:54:21 2007 +0200

    blktrace support update
    
    This should essentially work, except that it will not delay between
    io but just issue the entries as fast as it can. Missing bits:
    
    - Utilize the ipo->delay to suitably delay issuing an io
    - Extract device name from blktrace file
    - Document it
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36361ebb75a8f543aa49ff4f3ee49274261da074
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 11:12:19 2007 +0200

    iolog bug: TD_DDIR_READ should be TD_DDIR_WRITE
    
    It's a typo, if we don't have reads stored but writes, then the
    global direction should naturally be TD_DDIR_WRITE.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e7a7d70b476cbb613c031224d8bf4a5c7b7a0acf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 10:13:04 2007 +0200

    Fix typo in blktrace code
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fdefd987d7ba284c7a9e101911c4b8e72fe326ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 10:12:26 2007 +0200

    Some more bits of blktrace support
    
    Basic read/write is there. Still need to extract device name from
    the trace, and check time delays to wait appropriately.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb7b71a3c99b7ead2055439bfea421579aae2691
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue May 15 08:44:04 2007 +0200

    Initial blktrace support
    
    This doesn't work yet, just committing what little bits I did as not
    to lose them.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3deb310183aa83bd74d6d98fbe8974af94451b85
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 26 15:24:20 2007 +0200

    Log error on io buffer allocation
    
    Currently it just exits silently.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit db1cd90b90d4d5c49db90d5afeb79ea3a3b034d1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 26 13:47:07 2007 +0200

    Allow termination during io_u building
    
    If we are setting up gigabytes of io buffers, it can take many seconds
    for that operation to complete. If the user wishes to abort, fio wont
    honor that request. Fix that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 019b18e81e3b129bcf1a3e1bb10d172498f3cd2f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 26 10:22:16 2007 +0200

    Fio 1.16.1
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2dbdab7e8fb0205c471f72effab1b2ae5f19bfac
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 26 10:21:15 2007 +0200

    Fix bug with file references
    
    This could cause premature exit of fio with an error at the end of
    the run.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0a839f308177e95c4c45c41ee1d4fa2b8f231f24
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 26 09:02:34 2007 +0200

    Disk stat improvements
    
    Add an option to disable the disk stats. And only dump the disk
    stat header, if we actually have stats to show.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 733ed597a79e118bc2480974a4dc4676f2edede1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 25 14:24:12 2007 +0200

    More iolog fixes
    
    - Warn if nrfiles > 1, so that the user knows it's not supported
    - Need to clear ipo on malloc, or ->file could be some random value.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fcb11708806c026566f2af58833ea919419a066d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 25 14:11:18 2007 +0200

    Fix read_iolog
    
    Caveat - it only works with 1 file, unfortunately. Will need a format
    change to get that right.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b680c54e8736ef11387f20ebf3da2fa3141bac99
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 25 08:41:04 2007 +0200

    Fio 1.16
    
    Mainly minor bug fixes, but also a few features.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97f049c942b4fe40da0a352386c2b08aca1ab380
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 23 18:54:55 2007 +0200

    Fio is also available over http://
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a9b7b3052b35c20e82b8fc909cd546a5fe1ff293
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 19 16:31:16 2007 +0200

    Fix file unlinking
    
    We never set FIO_FILE_UNLINK. Just unlink if it's a regular
    file and unlink=1 was given.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3106f220e1710d7e53cb7bd0dbc7dac4584af463
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 19 09:53:28 2007 +0200

    Fix command line parsing bug
    
    The first parameters are for the global job, if no --name section
    has been seen yet. We don't require a --name=global section to appear
    first.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 097b2991ace8e069dbfb0c2286d31da714247573
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 19 09:41:45 2007 +0200

    Fix --showcmd bug
    
    Only append 'fio' if this is the first time we see a [] section.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6cefbe338b159edc9417da5840383765acbd92c7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 18 12:46:56 2007 +0200

    Mask in BE ioprio class as default
    
    We can't just set the ioprio value, we always have to set a class
    as well. If no class is given, just assume it's the default best
    effort class we want.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7a93ab190e5fea78edb21affeb0189a9d61a2cd8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 18 12:25:41 2007 +0200

    Revert "We do need to send a SIGQUIT to a process/thread, even if it is running"
    
    This reverts commit ef5fffa591e583de26c6ce14f9448104d6dfbe79.
    
    The problem with the commit is that if we SIGQUIT a thread, it
    gets exited without updating runtime/etc info. And then we
    don't get a new status display on exit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 90a87d4ba3acb26cb54e9b15adf9f39aea02818b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 18 09:02:32 2007 +0200

    Have the job set ->terminate when runtime is exceeded
    
    Then we don't have to do a seperate check for time_based exit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cf4464ca60ce75ac241c621bc70a2500beeb782f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 20:14:42 2007 +0200

    Add time_based option
    
    This allows fio to keep running, even if the workload has completed.
    It will simply restart the workload over and over, for as long as the
    runtime setting allows.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 210f43b3ebb754d911b90ac18005720125c71760
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 19:52:18 2007 +0200

    Replace random constant with the symbolic name (GR prime)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b6f9676ef7077c9c6d60a9f63c3c1e3d44a625a1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 19:48:46 2007 +0200

    IO buffer allocation cleanup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9459e5a14b577ead39d666c051c7ce4db12bc75
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 15:46:32 2007 +0200

    Add zero_buffers option
    
    This option will cause all IO buffers to be initialized to all zeroes.
    The default is to fill them with random data.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 660a1cb5fb9843ec09a04337714e78d63cd557e7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 15:37:47 2007 +0200

    Reduntant write bit checks
    
    No point in checking for td_rw(td) || td_write(), since td_write()
    will also be true for td_rw().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ef5fffa591e583de26c6ce14f9448104d6dfbe79
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 13:42:47 2007 +0200

    We do need to send a SIGQUIT to a process/thread, even if it is running
    
    It could be stuck in a syscall, and not abort on its own.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 30061b974a501c5cdfd84ab21b98d990455c84f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 13:31:34 2007 +0200

    Log and dump short ios
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ce98fa663bb7c157b0db45791731d4795d6208a5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 13:27:32 2007 +0200

    If writing to stdout, move stat output to stderr
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8cc7afa91ddc5a0980b9d2dbfdd66e1511a0d4b1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 09:06:43 2007 +0200

    Better checks for disk util init
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d424d4dd657eaf4aeb8ffb07a550a5f64940f41a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 17 09:05:10 2007 +0200

    No need to check for type before doing fsync()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 661598287ecc3b8987f312cf8403936552ce686a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 16 21:54:24 2007 +0200

    Add support for using '-' as filename for stdin/stdout
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d460eb318f784876812bedfed382afb00e57c62a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 16 21:39:33 2007 +0200

    Fix problem with f->last_completed_pos not being correct on requeues
    
    This causes an unnecessary seek. Usually this is just noise, but if
    the device isn't seekable, it becomes a real problem.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b5605e9ded4188ed91faae1a43ecd333a9856f62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 16 20:42:33 2007 +0200

    Add check for pipe/fifo files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cbf5c1d7a2286fa1cf548c0678b3b0bf13bcda7e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 16 12:56:00 2007 +0200

    Warn more gently if the kernel is too old for io scheduler switching
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 13fbfd8d34579ea448db820eb80d12587e094c55
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 16 09:48:53 2007 +0200

    Fio 1.15.2
    
    Fixes:
    
    - Segfault on stonewall option issues
    - Disk utilization on raw devices on Linux
    - Parsing fixes (blank at front/end, comments)
    - --showcmd option, turning a job file into a command line
    - Update to work with newest GUASI
    - File creation problem.
    - disk-less IO engine init clean
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07eb79dfa0e3801875d1c2907cfdb5da7c9d2cb3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 12 13:02:38 2007 +0200

    Put the ->real_file_size handling into fio
    
    Then we can remove it from the io engines, where the disk-less IO
    engines provided a ->setup() hook just to set that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b284075ab5414220496f396dff038003e57e3047
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Apr 12 12:57:27 2007 +0200

    A ->close_file() operation isn't strictly needed
    
    So be sure to check the pointer before calling it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f4e62a5f3640dfe2d2119bbe1e40bf57747f6564
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 11 21:20:03 2007 +0200

    For non-file engines, set ->real_file_size if total size is known
    
    Fixes a segfault with rand* directions.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e48676baa53074b429460c71fb2c9e0ac7ac7d8c
Author: gurudas pai <gurudas.pai@oracle.com>
Date:   Wed Apr 11 12:44:27 2007 +0200

    Fix bug with stonewall option causing segfault
    
    fio core dumped , with stonewall,
    
    [global]
    ioengine=libaio
    direct=1
    bs=8k
    iodepth=1024
    iodepth_batch=60
    randrepeat=1
    size=1024m
    directory=/home/oracle
    [job1]
    rw=randread
    filename=file1
    [job2]
    rw=randwrite
    filename=file1
    
    stonewall
    
    [job3]
    rw=randread
    filename=file1
    [job4]
    rw=randwrite
    filename=file1
    
     >fio myjob
    job1: (g=0): rw=randread, bs=8K-8K/8K-8K, ioengine=libaio, iodepth=1024
    job2: (g=1): rw=randwrite, bs=8K-8K/8K-8K, ioengine=libaio, iodepth=1024
    job3: (g=1): rw=randread, bs=8K-8K/8K-8K, ioengine=libaio, iodepth=1024
    job4: (g=1): rw=randwrite, bs=8K-8K/8K-8K, ioengine=libaio, iodepth=1024
    Starting 4 processes
    Quit (core dumped)PP] [99.3% done] [  1298/     0 kb/s] [eta 00m:03s]
    
    (gdb) bt
    t_rate=0xfeeee790, m_rate=0xfeeee794) at fio.c:1011
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 40b44f4aac3fa9c00ef1573ad73bfc62f760cc2c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 11 12:43:35 2007 +0200

    Fix problem with treating ENOENT as an error
    
    It's just a zero-sized file, as far as get_file_sizes() is concerned.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0798ba36674a7a244e8bc10877e322973a5ca938
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Tue Apr 10 22:29:29 2007 +0200

    GUASI API change
    
    There's been an API change in the latest GUASI library, and this fixes it
    inside FIO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cca73aa73328c3cb4d78adf1e54345701eff29fd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 4 11:09:19 2007 +0200

    Add a '--showcmd' option for dumping a job file
    
    It effectively shows what the equivelant command line string would be.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4b472fa373d45fef6b33ebfc8ede745c55b20e89
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 4 11:04:34 2007 +0200

    Let parse_options() decide on when parsing failed
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 523bfadbd46b375012eb5f3898201455b057a1c4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Apr 4 11:04:06 2007 +0200

    Have strip_blank_end() also strip off any comments
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e11c410cbd60400c10d92d0115880c6e5728aa4e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Apr 3 16:33:04 2007 -0700

    Fix sysfs_root assignment with multiple identical devices
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 317b95d07d4921d2594a1be6e014c9c2d062fe75
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 21:36:44 2007 +0200

    Move os/arch/compiler headers into directories
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9f8f2064bcb196c10c9d3a2b64b951d796af22b5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 15:08:01 2007 +0200

    Seperate disk util code out of fio.c
    
    It's only used if FIO_HAVE_DISK_UTIL is set.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07e5b2646f673a56c05a53c6a84bf5d0c949d290
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 14:46:07 2007 +0200

    Fix disk utilization and ioscheduler switch on raw devices
    
    Add a method for mapping a raw device to the real block device,
    so our sysfs lookup stuff works as expected.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 12b8a831438e8b2f701bfff930242bcafcc6a9ee
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 11:11:34 2007 +0200

    Fio 1.15.1
    
    Minor bug fixes, do a maintenance release.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 946ff86535e86f9b1be618bd4b8ae925343f1df3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 11:04:47 2007 +0200

    sg engine: fix old comment
    
    We don't even need to set f to files[0], the loop sets up
    the poll appropriately.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15ba640a7a17e8efb1b6d73a8edf0ed18d25431b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 10:51:10 2007 +0200

    sg engine: do type check only when sd has been setup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a05bd42ddbe73c726d062829c3295e7e315ee653
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 10:42:33 2007 +0200

    sg engine: errno return value fixes
    
    It was a little all-over-the-place, unify it - return -1 for error,
    let the caller look at errno for the specific error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b4ba5f302c467dc10c8b89459a8cb97d2958f359
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 10:36:59 2007 +0200

    splice engine: return negative for error
    
    Otherwise fio_splice_queue() will think it has handle errno number
    of bytes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bab3fd58530027a67df288783f4a70759b3c84b7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Apr 2 10:34:18 2007 +0200

    Log and return error in early file open checks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ef11d7376273302d22c7d013bb9c296ee27f4082
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 15:36:29 2007 +0200

    Save a division, if delta is non-zero.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ea443657ce85860b7a0dd2f39f2572d4a09fc885
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 14:52:13 2007 +0200

    Unlink a writeable file, if overwrite isn't set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 99cbac76e5b14ea29163f6ea08c3ab807f5e5b19
Merge: 6c7c7da 76f58b9
Author: root <root@centera.home.kernel.dk>
Date:   Thu Mar 29 14:13:10 2007 -0800

    Merge branch 'master' of axboe@router:/data/git/fio

commit 6c7c7da18aa2ab744b9485482e64acd30f31da6d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 14:12:57 2007 -0800

    Warn when seeing a job option outside of a job section
    
    Otherwise it's easy to screw up because fio will have ignored
    a number of options. This has happened to me with bad pasting
    of job files before, missing the starting '[' bracket.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0f62ba37546928d3b35b391b7465c6bf8cfe9c5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 12:55:58 2007 -0800

    Increase latency histogram resolution
    
    Currently it was at one decimal, but that can cause us to lose
    precision. Always ensure to round up for higher entries of they
    get rounded to 0.0 for print.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 76f58b92e927ed69f05262d67df5fe099e6bdcb0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 13:26:17 2007 +0200

    syslet engine: fix segfault if syslets are not available
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1020a139beff50faf1bb18f761b024b664a09e14
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 11:15:06 2007 +0200

    Fix loop with multiple files
    
    The random lookup would loop infinitely, if no files were
    open. So check for that and check for number of files
    done.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0401bca6b35ee32681462713ce9bc0cc2accbbf2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 11:00:43 2007 +0200

    Fix memory overflow with > 64 byte options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e8be2ad711db813537a1f2a6a6939c42909ba5cc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 10:31:51 2007 +0200

    Only use posix_fallocate(), if we are overwriting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cdc7f1936e07f3b51aaa96c589e43abd7fea0051
Author: gurudas pai <gurudas.pai@oracle.com>
Date:   Thu Mar 29 10:10:56 2007 +0200

    Fix parsing of job section with preceeding space
    
    We need to strip the blank spaces from the front.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 993cca043fddf1bf674ddd19f7896db87934ce0f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 09:35:35 2007 +0200

    compiler.h needs to define __must_check if not set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 73e07acd0cca391585aae10cfdeb7fc1fa18e7ed
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 09:33:46 2007 +0200

    Fix typo in previous compiler patch for gcc 3.x
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4fee8096bff598ab565ac1d258d584d584433341
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 29 09:33:03 2007 +0200

    Fix __must_check compile on older compilers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d651dad4b3ee17a9be223fc1c0489cd4e304f65
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 19:34:53 2007 +0200

    Fix bug with stripping white space at the front of an option
    
    After advancing the passed in pointer, the destination never
    got set.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97cc1a8cc97b0caf5edbca0042edacf617cdad71
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 12:14:06 2007 +0200

    Fio version 1.15
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36afc119b60491fb0e26249f04ed7d43172cc9a5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 11:31:01 2007 +0200

    Fix typo in the netio example
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8400d9b26a4f24f3b56cc9dad02be65791b58a83
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 11:10:09 2007 +0200

    Fix short IO handling for verifies as well
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5a7c56804dafab5770797044a4f1d259fe708dfb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 11:07:20 2007 +0200

    Handle short read at the end of file
    
    Currently we don't issue an io operation if offset + buflen
    is larger than the file size, but that means we don't reach
    the last bit of a file if the size isn't block size aligned.
    Instead handle a short read properly. It actually cleans up
    the code as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 92c1d41f9cb4da2513ad261552f92511d69f6b8e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 10:04:08 2007 +0200

    Don't inherit new_group for sub-jobs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 409b3417e46cc3ce7041f042bcc26c3feb46e9e9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 09:57:01 2007 +0200

    Fix size setting on raw devices
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d5ed68ea91e3f6a6b366cc2dcf2b1e7b9ce2b8d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 09:33:43 2007 +0200

    Fix infinite loop in get_next_file_rr()
    
    We need to clear f to NULL before doing a continue on FIO_FILE_DONE.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb0480b138f5e7e59047a238200675eaa1bdad1d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 28 09:16:08 2007 +0200

    Add a REPORTING-BUGS file
    
    Often people forget the fio version, job file, or parameters.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 059e63c02b947085d28ec7c6450b51d5fb2e8d05
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 20:34:47 2007 +0200

    Better check for not doing a file twice
    
    Mark it as done when we close it, so we don't open the same
    one again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43063a1c8288d987eb9c14e2736b3b857836def6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 20:21:24 2007 +0200

    Fix bug with not noticing end of file
    
    We repeatedly re-read the last end of a file, instead of skipping
    to a new one. The problem was that the offset got turned into a
    block number for comparison, so we would screw up if size % bs.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6e41602c9725f811160f244b8ec5ecaa4912f45
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 20:20:36 2007 +0200

    Print number of open files in eta dump
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 22d662132577b9950753369c94c2662c64ad7385
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 20:06:25 2007 +0200

    Don't free the string options
    
    We need at least ->name, just leave them all alone.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 541d66d70b8fbe9860b31307c0760e6d5f4c78a8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 19:50:11 2007 +0200

    Use clear_error() instead of clearing the error manually
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9bf27b4530fca07088ab978aea47be79a3d48879
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 19:49:31 2007 +0200

    Auto limit open files if we get EMFILE
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0ddb270c21adffa45cd9d215f29aafd8a9c5b15a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 19:43:53 2007 +0200

    'opendir' fixes
    
    - Don't dive into a directory if it isn't a directory
    - Dump info on how many files added
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2c187c0fcaab8a4c6d1ba67d2ad2460b5fb42109
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 15:57:19 2007 +0200

    Update fio io engine version
    
    The interface didn't really change, but if the engine is using
    ->setup() then it needs updating. Generally it just needs to
    remove any code other than the part setting ->real_file_size.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 000b080395e45cbe0ce54e75f0e993addbdc8676
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 15:56:10 2007 +0200

    No need to return an error from get_file_sizes()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 507a702f6a61fa461c2566d01dcc46380ee7dffa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 15:52:46 2007 +0200

    Only overwrite in layout if needed
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 413d669320995eaef092c58e67cdb7b500134551
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 15:38:21 2007 +0200

    Do the invalidate/advise hinting in td_open_file()
    
    Then we only do it once per file, not twice.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7bb48f84ac78cac1f90e3e04d0220d90d6a64a6b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 15:30:28 2007 +0200

    Revamp the file creation code
    
    This was long overdue, it's much simpler now and hopefully
    less bug prone. Probably a few stray bugs here and there
    that needs straightening out, but the end result should
    be a lot better.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 148cf6a95f738d6d9afd62bc63ba40b64bd647bd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 13:10:00 2007 +0200

    Cleanup generic_file_open()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7e0e25c924d51f23196b3e0ea83b79178fc46823
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 12:49:56 2007 +0200

    Don't completely fail for block device flushing failure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1d56dfee7857b91d1805d90396f36d62ad30e186
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 12:45:34 2007 +0200

    Make sure to set io size on non-files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 88c46b66d60db5a498487e22b32124cb6bf8576a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 11:09:40 2007 +0200

    Trim the rbtree stuff fio doesn't use
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3902866c68af7f7a31d0eed71180a396c0edf07c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 11:03:28 2007 +0200

    Remove kernel headers from rbtree.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0725726350094b2f8ff558d6ee470e3835512063
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 11:04:59 2007 +0200

    GUASI engine: should use log_err() during runtime
    
    stderr may be redirected somewhere else.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 160b966d83adace2629de10f85ed269ab2e587f5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 10:59:49 2007 +0200

    Improve random verify block sorting
    
    Add an option to control it and also check the nosort flag in file
    layout to further catch a case where sorting isn't needed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8de8f047bd025f12d23cfc3fc1793434c6d8ff94
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 10:36:12 2007 +0200

    Avoid using the rbtree if we don't have to
    
    Basically reinstate the old logic of not sorting when it's
    not a win for reading the data back.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bb5d7d0b5bde867690590aaa61d77307d773107f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 10:21:25 2007 +0200

    Fix problems with rb code
    
    If the offset match, we must not break. Instead follow the left branch
    and things will work as expected.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 44b5374f4d64a066643afbc91d7f3f03bb0b71f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 10:16:21 2007 +0200

    Update rbtree code
    
    Grab from the later kernels, they embed the color in the pointer
    to save some space.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 64b18e125219430fbfe69e61642dbcaa1861434e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 10:03:09 2007 +0200

    Remove redundant double casts in time functions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed8bd849b04b336b8f666a547aafa2661b0d8c89
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 09:56:08 2007 +0200

    NULL engine: ->commit() has side effects, make sure it always works
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c38e946828472daf5cd0450401a7aba06cda7f60
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 08:48:48 2007 +0200

    Include syncs in the stored io log
    
    We want to replay those as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8fd15a9a8d64deae4c2f13b02e1df7e23ea3cafb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 08:46:33 2007 +0200

    Remove !td->o.read_io_log test that is always true
    
    We test it further up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 41128405394ccb8dc43080c50288a86b5faa1486
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 27 08:32:48 2007 +0200

    Only call into log_io_piece() when verify is set
    
    Don't know why it currently always logs the IO, it's pretty
    pointless.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8999fe9a2a21de218b92a9e993f756ca9700eef9
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Tue Mar 27 08:14:13 2007 +0200

    GUASI engine: free lingering requests from the buffer on cleanup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97c26cbe7f73f423ee8feceb9ec4369bfe442646
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Mon Mar 26 12:20:49 2007 +0200

    GUASI update
    
    The GUASI library has been changed to avoid using pthread defaults stacks
    (that burns 8MB of VM area for each thread). Also, a new paramter has been
    added to guasi_create(), to allow the caller to specify a stack size.
    I noticed a different behaviour of FIO in randrw mode, from GUASI to libaio.
    In GUASI, the amount of data read is about the same +-2-3% of the amount
    of data written. Whereas in libaio, there can be a huge difference between
    the two (up to 2-3 times the other). This is consistent.
    Besides that, GUASI performance follows pretty much the libaio one, up to
    an io-depth of 1000-1500, after that shows about 10-15% less performance.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9cc3d1506b9f7ce0a9dba38c32c418e54ea0b573
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 26 10:32:30 2007 +0200

    No need to fill random bytes for VERIFY_NULL
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36690c9b5b50736cec1fcd53100f01fd1181fdf4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 26 10:23:34 2007 +0200

    Add 'null' verify option
    
    For testing purposes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fafdba3c553305dd8c6b24f8d5ba95a55dee4d48
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 26 10:09:12 2007 +0200

    ->ddir_nr must be 1 by default, otherwise we'll do sequential IO
    if no :foo postfix is appended.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4b87898e8d76aaf05baec83077a11311c1447397
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 26 09:32:22 2007 +0200

    Fix io piece logging to not have O(n) runtime
    
    Use an rbtree for that log instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 171e38ab2b03683a9d559ee9fffcbe052484baba
Merge: d3eb7d7 d23bb32
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 18:31:49 2007 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit d23bb327374520295509bbd98912c8091b701a3e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 15:57:56 2007 +0100

    Free/alloc every FIO_OPT_STR_STORE string
    
    Makes ownership clear, though the freeing is a bit anal.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cade3ef44669c5c962d7ed18ca0e361116ee44ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 15:29:45 2007 +0100

    Make sure the ->files array is job private
    
    Otherwise we introduce differences between threads and processes,
    we don't want to do that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fa1da8653e2177b3cc31a91e963c389f079d4172
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 15:20:54 2007 +0100

    Fix file unlinking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bd0ee748e96338ace7b22b6f0ac1f8934d3385c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 14:26:23 2007 +0100

    Fix bug with numjobs > 1, directory and filename given
    
    Reported by gurudas pai <gurudas.pai@oracle.com>
    
    If numjobs > 1, add_job() will append the directory name
    several times. Fix this by doing the directory append in
    add_file() instead, it cleans up the code as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d3eb7d7ccd126c45c67f8aacc9634e7705e98037
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 08:23:51 2007 +0100

    Print help info on huge page shmget() returning EINVAL
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb25df61fbe19065b41bee131d19335d615c676b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 08:23:30 2007 +0100

    Move the huge page size defines into arch code
    
    It's 2MB on x86-64 by default, and 4MB on x86.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec4015da5b2abd814a23913db2aa2385a2b13495
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 23 08:04:27 2007 +0100

    Cleanup get_next_offset()
    
    Split into two parts, one for generation a random offset, and one
    for just setting a new sequential offset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2f3ac3592a5674fefa082cb439cc72355d2fed0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 22 19:24:09 2007 +0100

    Add option to disable fadvise() hints
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a3dc65e515943b3a292261ba95d643457863d93d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 22 19:04:24 2007 +0100

    Leftover debug printf()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e3d53acf28f1b61222eec244a67fad42f9a060d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 22 19:01:48 2007 +0100

    Improve mixed random append option
    
    If we set ->ddir_nr to o.ddir_nr initally, we can remove the double
    else in get_next_offset().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 211097b2aa664b8c157692a1e2fe656ed4a3488c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 22 18:56:45 2007 +0100

    Add support for mixing a random IO workload a bit
    
    Now you can append a number to randread/randwrite (and others) to
    specify only getting a random offset for every X number of ios.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d6c6810f335af8a5117013f63903a215a2f802e5
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Thu Mar 22 07:43:55 2007 +0100

    Add few debug statements and limit thread usage.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d06a3384c0bf34d217fa942d85dc70dfc282da9
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Thu Mar 22 07:43:50 2007 +0100

    Avoid "ts" going out of scope.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 46eaa15798658d1585a0827996b2c3b336b9bdf2
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Thu Mar 22 07:43:07 2007 +0100

    Adapth guasi.c to the new FIO strctures, and free the requests.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4cf6b5d30eebf225391d6d6ccbf2f7aa3994a0ca
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Thu Mar 22 07:42:57 2007 +0100

    Introduce EXTFLAGS and EXTLIBS in Makefile.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 38d77caebcb6f9cb33f247a341c162c0185bf604
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 14:20:20 2007 +0100

    Improve data direction runtime logging
    
    If we cut a data direction short, log that time so we don't
    account the full runtime.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e47f799f567508835b60675ed659c97f78e7cc94
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 14:05:39 2007 +0100

    Improve rwmix states
    
    We didn't use to look at the previous bytes done for the
    data directions, which skewed the mix for buffered IO.
    Fix that up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e4e33258637e55550a0fac59eb3350e8bf06f8e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 13:07:54 2007 +0100

    Dump actual filename in failure to open
    
    Helpful for debugging.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2b4ce34fac9f3031dc8606d6cd640c61a74d7df7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 10:32:54 2007 +0100

    Catch too large memory allocations that cause size_t to wrap
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 66b83d9a9b86e21ccfad845897ae3040b95e83dc
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Wed Mar 21 09:15:13 2007 +0100

    Update to guasi 0.5 diff
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9a1806f4ca6a7d177e65842f95dabef7c9d669c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 08:51:56 2007 +0100

    Mention GUASI in the HOWTO for the ioengine= option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b8c82a464aa31d847dad7fad924840d0e55d82b3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 21 08:48:26 2007 +0100

    Expose guasi IO engine in ioengine=
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 609342ff4b7e5ada29d348079ec343d07fae6727
Author: Davide Libenzi <davidel@xmailserver.org>
Date:   Wed Mar 21 08:46:18 2007 +0100

    GUASI IO engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3f344202f614ef3275e7000738d998ca85ebb9cf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 14:38:11 2007 +0100

    Fix divide-by-zero
    
    Another file creation crap out, this really needs a rewrite and
    soon.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0f3e35efd9f63ad1a504a7d09fdf12bb3ece13f9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 14:28:34 2007 +0100

    Warn if default value is given for string option without value
    
    That would not make sense, as the option would then always be set
    and there would be no way to unset it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b3d62a759a58bfce1822787874ea6ec8d2a0cb7f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 14:23:26 2007 +0100

    'new_group' option
    
    By default, jobs in a file are part of the same reporting group
    unless seperated by a stone wall or if they define a group by
    themselves (numjobs=x is used). Inserting a 'new_group' parameter
    in a job description, will mark the start of a new reporting group.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c343981b9874179009a92e4d29eae95cf341843a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 13:54:53 2007 +0100

    Clear ->file_map after free()
    
    Just in case...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5bb76972f68b81fd99bb97599fe732382bb6da58
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 13:53:39 2007 +0100

    Sometimes we allocated too little memory for buffers
    
    Fix it by adding page_mask to the allocation size, then the
    alignment is guarenteed to fit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eeb121607c2a7f36b0fac17649cb8081d6fd853b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 10:47:45 2007 +0100

    Print clue to reduce queue depth if engine init fails
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c1db2dced4750f2f506cf4df232dcc75ae05b950
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 10:42:07 2007 +0100

    libaio engine: queue init error handling
    
    It fails for repeated large io depths, so make sure we retrieve the
    error and log it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4afbf66fd5fb867217e4cc6b8259fd97ba0d0e8d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 10:33:11 2007 +0100

    Always make sure buffer sizes are aligned for allocation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ee3dcd9519760e0f8fb1488fdbb2b6d00af638df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 10:11:07 2007 +0100

    File creation fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 72fbda2ac0b5fe8e9f3920ec7b2fd69989e50a56
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 20 10:02:06 2007 +0100

    'dev' is 'stdev' in the print out now
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5d4a35e1c90938710f8d3ef99d30bfbc23ebc4c6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 14:00:54 2007 +0100

    Make sure mmaphuge file backed file is the size we need
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f085737f15364ba194e5582b19a71eb35d4b8d11
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 13:15:23 2007 +0100

    Sort option possible value map
    
    We need to match longest option first, since we have to use
    strncmp() to avoid fiddling with postfix options.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 37c8cdfeb2a551cadb59cee6e116cd543503a453
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 13:14:03 2007 +0100

    Revert b370e46b370e46... Put longest options first
    
    This reverts commit b370e46abdd2bfe764e28efb41c4caadc632b937.
    
    We should not have to do this, and the commit was even buggy since
    it mistakenly put mmap inside the mmaphuge ifdef section. Just make
    parse sort the posval entries.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6b56baf5c8c544194e82a45999391de155cd94a3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 11:36:36 2007 +0100

    Helpful indication to run as root
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9b33b4794b621b28347e8ca8fb425b918052434c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 11:32:46 2007 +0100

    No need to use perror() after td_verror()
    
    That'll just result in the error being displayed twice.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b370e46abdd2bfe764e28efb41c4caadc632b937
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 10:51:49 2007 +0100

    Put longest options first
    
    We need to have things like shmhuge before shm, otherwise the parser
    will match shm. The parser needs to be fixed, this is just a quick fix.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ee0e0a718f069fae189be800c2a6e2f5c28ff9f0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 19 10:50:47 2007 +0100

    We can't stringify something the parser doesn't handle
    
    The size needs to be written out in full.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit afe24a5a66350a3828e8965f7b189fc95b8bbf6c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 16 20:27:27 2007 +0100

    Improve rwmix buffered split
    
    For buffered IO, the rwmix split can often be grossly unfair
    towards reads, because dirtying tons of memory is done much
    faster than reading data. Improve the split for such workloads
    by not only looking at time.
    
    Note that it'll still be somewhat unfair, there's only so much
    we can reliably do. But it's better.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ac71feb12023e3fadb793cc30636af1c982ce106
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 16 10:24:07 2007 +0100

    If the rate setting is based on IOPS, reflect that in eta output
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 687270767de17dbad53c50e03e5d73d52505405c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 20:49:25 2007 +0100

    Untangle the file creation mess
    
    Still needs a lot of work, will do a rewrite of this soonish. At
    least it should work now.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15506d09caa78df3e36a6bab05cdf12092f2d507
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 15:04:43 2007 +0100

    Compile error with FIO_USE_TIMEOUT defined
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2dc1bbeb58edc85f2829eed6729862c438ea2353
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 15:01:33 2007 +0100

    Move thread options into a seperate structure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d3aad8f28b9e214fccfce5e3a406dec723f57a62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 14:12:05 2007 +0100

    Add some more options for commands
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2bb7fea83d27baaa26fe99d8d1652e3496af70a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 14:11:38 2007 +0100

    Show alias in command help
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 467d1b6b3ebbfcb7cc0545a882ba8a93ea66752b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 14:11:10 2007 +0100

    Style cleanup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7f9348f80b8734e0f00d7f4b14e58d2255d46ee7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 14:09:28 2007 +0100

    Command help match also on aliases
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 127f686514ef8b1d9ab6ed702971b205454974e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 12:09:57 2007 +0100

    Move setup_rate() out of log.c
    
    Dunno why it ended up in there, doesn't make any sense.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a998c869545503e733f4ff0f2bf6fc1e2dceec6c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 12:09:39 2007 +0100

    Improve rate accounting
    
    Don't assume usec_sleep() is extremely precise.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4e991c23d2d06484f581eb5e2105bc102cb35941
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 11:41:11 2007 +0100

    Support for setting rated based on IOPS
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a16211bb932067978f74606eb5d3f92e5227eee2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 11:35:33 2007 +0100

    blockdev_invalidate_cache(): return -1 for error
    
    This follows the normal system calls, and makes fio pickup errno
    appropriately.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 205927a3cfc25baeb318e3aedf3ac29d16bf4be9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 11:06:32 2007 +0100

    Failure to put job in add_job() failure case
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 214e1ecae844a32bf8f66d19132f4948d922dcee
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 10:48:13 2007 +0100

    Split option handling out of init.c
    
    It grew way too large.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e8be395bcbc7428eea88d0db0d2144b8596d3511
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:35:56 2007 +0100

    More file creation improvements
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f4c4f4d74bf101a685f3f9839144c52c4ed29e30
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:33:15 2007 +0100

    Remember to account for existing files in size setup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6d86144dd10b05e8b82e9b895c35dd778e5e71ab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:22:23 2007 +0100

    Use log_info() throughout
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43159d1843b0a3d0aed029fdaeab4671a138c4db
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:15:51 2007 +0100

    siint range parsing HOWTO update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b486f76ad31b593caded74f42468ea9adbdc21a7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:15:12 2007 +0100

    Accept '-' as siint delimter as well.
    
    Hope this doesn't break any parsing...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c60ce649d3f976d196709d4399bb7c540ce97b5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 15 09:14:47 2007 +0100

    Add 'filesize' option
    
    Allows the user to define the range of file sizes generated.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1760e679cfb99d95e783ba1c0a936b88c8a3d706
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 20:41:42 2007 +0100

    Fix build on x86-64 distros without __NR_pread64/pwrite64
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b88463549773a2ec369985866b04affcf439776d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 14:29:16 2007 +0100

    Fix build of syslet engine on x86-64
    
    Broke on some distros, apparently. Reported by
    gurudas pai <gurudas.pai@oracle.com>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 54592a37327e73362c7001714630fe5198def707
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 14:24:11 2007 +0100

    Fio 1.14a
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e132cbae2cf26736af86fede134c14d41dae4a5a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 14:23:54 2007 +0100

    Fixup new and wrong file name behaviour
    
    We used to default to using the jobname as the filename,
    if it wasn't a regular existing file. So do that again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 808a63b8d2d5f6d3a4ec83e718495f09588aef7e
Merge: 3f34431 9d6d019
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 14:15:45 2007 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 3f344316b3200143f413c9a4a8fd6476ca5899cf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 14:14:48 2007 +0100

    posixaio engine: better handling of partial completions
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b6b37d7f60e29fbccc9a03dafac04645579f80b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 13:58:54 2007 +0100

    Don't free ->files
    
    It may be shared.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9d6d019b47963fd1e79c0b045bb3197ab595dab5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 13:28:31 2007 +0100

    Help update
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7837213b66e20a8d91e7069f5823852f42c41440
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 13:24:07 2007 +0100

    Add suboption help texts
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c167dedce798151c8aa8a59be45ce57a5260b1aa
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 13:02:53 2007 +0100

    Left justify help output
    
    The right justification may look prettier, but it's harder
    to read and find the option.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 48946b4c03a31750c76175046a9d590686d80023
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 11:37:39 2007 +0100

    Fio version 1.14
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e407bec29fa8252f7809b2e9f88b95e619cd468b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 11:21:27 2007 +0100

    New/old file mix fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit da751ca9665bcdeca56d2eec5b629a0953c07662
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 10:59:33 2007 +0100

    Update io engine comments
    
    Some were plain wrong, mainly because they were born through
    copying an existing engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cfc99db7b9e806e7739b360dfa005360d0fe8837
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 10:34:47 2007 +0100

    mmap engine: make sure that page unaligned syncs work
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e85b2b83e39b64ba5cb73fbfddbf3902b6e84925
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 09:39:06 2007 +0100

    recurse_dir(): Move . and .. check earlier
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 96d32d518a0743a6c050057bc1562e4883e51c5d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 09:16:09 2007 +0100

    Better handling of file creation vs existing files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2393acbabe0f290da2d8f02c6ac0c1edf6ddb08a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 09:15:42 2007 +0100

    Fix for bs shrinkage
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4981d2de251698ebbe78451bfe4615e0d09a5296
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Mar 14 08:50:49 2007 +0100

    When opening a new file, check file limit not total number
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e291dc123a8a6eaaa6a45b52aed947dfa80834f2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 21:50:34 2007 +0100

    Fix double io_u free in error path
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8ab538730857ce3a29c5f00fb55b967468751ec9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 21:41:38 2007 +0100

    Print informative error when we hit the max number of files open
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bbf6b5401cdc0b20c405a064356ab0abb27c52d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 15:28:55 2007 +0100

    Add 'opendir' option
    
    This option adds all files from a directory and downward in the
    filesystem hierarchy.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3d7b485f9478ed5d291ec58a16a40781ae3ab4ae
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 14:50:28 2007 +0100

    Check for open files on io operations
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ebb1415f729c123b8a13bcbd667bf4b4cc95b4d4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 14:42:15 2007 +0100

    Add 'fsync_on_close' option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5afa0d9b2e14194d34001a24007d96536608e651
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 14:16:08 2007 +0100

    Obscure file randommap fix
    
    If file size < block and no size is given, we could be generating
    a random offset within -1 and deref ->file_map[] beyond its size.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9f9214f243701626a04b4a0f9aceec03b8b40e0f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 14:02:16 2007 +0100

    nr_files conflict with filename
    
    If nr_files is larger than the given number of files, it has
    to be lowered. Assume that if the user gives a set of filenames
    that this is the number he wants, otherwise he should use not
    use a filename setting.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cbcd1062e2351b87321f91f1f266ba2c8d9c90a7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 13:30:40 2007 +0100

    Total file size handling fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1c17818009ced8e78e9fee47fd9aaef29e708b41
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 13:25:18 2007 +0100

    Improve handling of nr_files != open_files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7b4e4fe5e6fa26f82f9169c18ec70c08d0805ca9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 12:51:40 2007 +0100

    Init stat for all files, not just current range
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 55bc7fc003004510d2bd19080668fc3fbea517d5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 12:28:40 2007 +0100

    Make disk_util() account for all files
    
    Now we can have files all over the place, so we need to loop
    over td->files[] to setup disk util stats.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1549441cdfecb2c1a4a8b8d494253859d67b4344
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:52:47 2007 +0100

    Normal vs special files fixups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1315a68a091816d284c5f46b28e419349aa821d8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:25:07 2007 +0100

    One more f->file_name typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e3bab463d4397e3378d8c7437e31de8aaf861a4f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:22:09 2007 +0100

    td->filename vs f->filename typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e13363ebdb9d676f2fcb6e8673335557e6ce8782
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:18:57 2007 +0100

    Strip blank end/front of filenames
    
    We do this for other options.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7b05a215c8c39b8c878297b90eba112fe9176542
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:17:07 2007 +0100

    If we use jobname as file, only append job/file numer for nrfiles > 1
    
    Otherwise we break the abillity to do [/dev/sda] for /dev/sda and
    so on.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cae61953cd7ee0dfc0d8b736553979f10ede7cd9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:12:14 2007 +0100

    Don't stack allocate file name
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0ad920e7f85db1fdc26649be6bc7e584e8c7fdc9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 11:06:45 2007 +0100

    Add file reference counting
    
    We must not close a file, while io is in progress to it. That
    will make the queuing engines barf.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f11bd94d50d5995a64682f74b5f0f7509bf2c550
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 10:16:34 2007 +0100

    Turn file ->open and ->unlink into flags
    
    We'll need more flags in the next commits, so do this as a
    preparatory patch.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit af52b3455ad892322aab2791282b6bd4efdfdbf3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 10:07:47 2007 +0100

    Allow explicit setting of a number of files
    
    We currently only allow filename=foo for one file, add the possibility
    to specify any number of files by seperating with a colon.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6612a27b284aec20c137e3e6b267685b8a4c824c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 08:54:06 2007 +0100

    An option need not include ->posval[] entries
    
    So only fail if we actually looked over some entries.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 62d984e2c12579361ee620b0a309c540cff9b09d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 13 08:15:18 2007 +0100

    [PATCH] disk_util: Allow an engine to turn off disk_util specifically
    
    Originally from Joel Becker <Joel.Becker@oracle.com>
    
    An engine may support disks, but be unable to work with disk_util (as
    there is no fd).  Add a flag to turn off disk_util from the engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 656395b6dfc16faf75c802ac82b78a5fdeaf439d
Author: Joel Becker <Joel.Becker@oracle.com>
Date:   Tue Mar 13 08:10:14 2007 +0100

    init.c: Fix non-regular-file booboo
    
    If a filename is given, and that filename is a device file, fio will
    ignore the filename, using the job name.  Then it tries to open the job
    name instead of the filename.  Whoops.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7abd0e3a872b000aefb740028f777aae1fa6f77d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 15:24:43 2007 +0100

    Group reporting fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c5df6fa2259c12fd6a7beb9a3521dec76d12dd2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 15:09:24 2007 +0100

    Improve job grouping
    
    Group jobs as follows:
    
    - Jobs before or after a stonewall have different groupids
    - Jobs grouped with numjobs have a private groupid
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 762e595063e15559ba125fa5ac4b496ee69f4d23
Merge: b360506 9f8eb80
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 14:20:58 2007 +0100

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit b3605062146bce0136918763bb8eb584478ae042
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 14:19:47 2007 +0100

    Show IOPS as well as bw numbers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9f8eb807908bcef7f2ecc598c2c311308a13143d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 13:22:05 2007 +0100

    pointer -> int conversion warning
    
    It doesn't matter, but silence the warning.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5be84f23ed3788176d557d9d80a81d4cb1901b22
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 12:42:21 2007 +0100

    One more missed s/td->filename/fn_given
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 01ef57cef61251bdc9941404f853a89326917e25
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 12:40:26 2007 +0100

    File name generation fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1907dbc6c0c9e1b663156e64c64c172aaf04ae8a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 11:44:28 2007 +0100

    Add nr parameter to file_service_type
    
    Right now we switch for every IO, add a postfix that allows to switch
    for every 'x' number of ios.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9cedf16704b71cec33138bb4cf524d3fc9ad338a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 11:29:30 2007 +0100

    Note process vs thread in output
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bda4fd9e23d30cf89e17753180eab9062e8bc1e7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 11:21:48 2007 +0100

    OOM fixes
    
    Hit this with many threads running.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c8bb6faf52ea8079e98df17cd2c5a029d3f33057
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 11:03:04 2007 +0100

    Quit on thread creation failure
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 80be24f4671164d597463e4b5c794d4cbd0a4537
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 11:01:25 2007 +0100

    If filename not given, use jobname
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a7dfe862c2e3fe72b8db6a6e67302048d3731c6d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 10:05:08 2007 +0100

    Return EIO for verification failure
    
    We passed back 1, where we need some sort of symbolic error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e2e679121ec5b16486fe190dad334107941e05a5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 09:43:05 2007 +0100

    syslet engine: residual fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9e9d164e7847aba2ce88bf77f9d1778d15d772e5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 09:37:46 2007 +0100

    If residual count == full count, fail the io
    
    We always do blocking io, so regard nothing read/written as an error
    condition.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cf3d609747c3e070001173b17ea95e9d6f46b15c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 09:32:47 2007 +0100

    Overwrite fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0263882a95b9213d3afe285ae8adb5d0310d5039
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 09:25:55 2007 +0100

    File truncation and extend fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d7d3b49b31ad55218c8865d0185d6b5552306fbc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 12 08:02:10 2007 +0100

    Clear ->rate_bytes on do_io() loop
    
    We don't do rates across loops, so remember to clear ->rate_bytes
    when we start a new loop.
    
    Problem report from "Ananiev, Leonid I" <leonid.i.ananiev@intel.com>
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ba0fbe1029bae1de08d66a72b6d0b2505c67c438
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 14:34:23 2007 +0100

    Turn the CPU burner into a real io engine
    
    This removes the special casing in fio.c for the cpu engine, and
    also gets rid of FIO_CPUIO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7401c088106ba35dcfba62ec753b6b20b72ad0e2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 13:45:11 2007 +0100

    null engine: fix queue bug with repeated commit() calls before event retrieval
    
    Don't return anything if min_events == 0. This exposed a bug in
    the commit handler, it needs to add to ->events, not set it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 65afa5f2146ee010b7129934f68e691faee54982
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 13:23:14 2007 +0100

    null engine: update to support queuing
    
    Useful for queue testing.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 390b1537a0b5a25ee002e6ec4b7749e7e2527777
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 13:03:00 2007 +0100

    Document 'openfiles' option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b3dc7f075b85e004f8c681ebb8566475017696f3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 12:52:15 2007 +0100

    Fix ->file_map leak
    
    Just to appease valgrind.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 37f56873d5f521d4fc1bc2ef6ea718a91e3570a6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 12:42:35 2007 +0100

    Remove ->mutex after last use, not on job exit
    
    Frees up that file descriptor.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f7c9e00eee87dc4eb24fc6e6ad68af38ba2bbe98
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 12:40:02 2007 +0100

    Shrink the semaphores a little
    
    The downside is that they hold the fd open, so it steals one
    possible file open per-file. Will fix that in the next commit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 09629a90d5b68b220e3fb98318e2dcd019943eda
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 9 09:00:06 2007 +0100

    Make sure each job loads a private io engine
    
    Threads got it shared, breaks for obvious reasons. Also gets rid
    of the free hack in ioengine unload.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e53bd0b3eb06e02b991d4ee05e6d0c427bbc20a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 20:29:11 2007 +0100

    mutex error handling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2f79d99c3abfd95d21996559e4493ea7ac356d2b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 20:27:21 2007 +0100

    Add mutex object file to other Makefile's
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07739b57f09886b41323c605b0dbda7d2c12522b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 20:25:46 2007 +0100

    Add a real semaphore implemtation
    
    I've seen races where job N+1 got started before N, this breaks
    for dependent jobs. So give up and implement a real semaphore
    in mmap'ed shared storage.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit de64df05bb69d38b7ecf548d9e15573b9010704a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 19:09:49 2007 +0100

    Use DDIR_WRITE symbolic value instead of a hard coded 2
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 197574e43bea5ac00f7b64d4731173c177041de0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 15:35:11 2007 +0100

    A few more stat fixes and cleanups
    
    Mostly cleanups, but also one group status index that was
    hardcoded as READ when it should be 'i' for either read or write.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 94370ac42ddee6572c434073d3c1840a513bc8f4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 15:28:10 2007 +0100

    Fixup reporting for !runtime data directions
    
    Got broken with the group reporting, the minimum time and bw
    should only be accounted for data directions where actual
    work has happened. Otherwise they are pretty much guarenteed
    to be 0.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a978ba684deb758465a0ccb18a008797636e8054
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 14:29:03 2007 +0100

    Get rid of reopen_files()
    
    Move the full file state clear into td_io_open_file(), so a
    reopen is a plain close/open of that file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 640e94218b780e3d7b15758c760e59f3511f0933
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 14:09:59 2007 +0100

    null engine: don't dup() stdin anymore
    
    We can now track fd independently of ->fd, so don't open
    a file we don't have to use.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 860a3044085c676632f9832a78133cd9847cbe62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 14:09:18 2007 +0100

    Add ->open to struct fio_file
    
    Don't use ->fd == -1 to check for the file being open or not,
    an io engine could be non-fd based.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6433576b85eb28d32fe099b38ea64ac006b4b74
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 14:02:42 2007 +0100

    get_next_offset() number of loops change
    
    Commit b5af82930ccfd7dda6a1b11794efb452eb76d8dc inadvertently
    changed this, revert.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 76579cae25b7e2cdf931f909725665ec45404f2a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 13:33:36 2007 +0100

    file_service_type=random fix
    
    It generated 0..n-1, where we wanted 0..n.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d16b88e20152be4d811ed2e0051f0b19cce1d5bf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 13:23:10 2007 +0100

    Engines should not touch nr_open_files anymore
    
    Leftover fix, should have been included with the ->open_file()
    addition.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0f14fef318f38a285a04097636a65a997596e821
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 13:08:24 2007 +0100

    openfiles fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit da86ccb633a8eac058c7f1a74d2d74a073e51b41
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 12:49:37 2007 +0100

    Fix invalidate cache typo
    
    The odirect check was reversed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b5af82930ccfd7dda6a1b11794efb452eb76d8dc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 8 12:43:13 2007 +0100

    Revamp file open/close handling
    
    Some IO engines need special handling for opening and closing
    files, and this has complicated the fio filesetup.c file. Instead
    have the io engine provide hooks for file open/close. This also
    greatly cleans up the flags (we can get rid of SELFOPEN and MMAPIO)
    and moves private knowledge into the engines where it belongs.
    
    This potentially destabilizes fio somewhat, so testing is needed.
    The new openfiles option that is introduced with this change isn't
    verified working yet, hence it isn't documented.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7bdce1bde82e37c8876270853840c1d09d760b67
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 20:01:13 2007 +0100

    Move description text
    
    It was dangling at the bottom.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6af019c992eb5fc5e502341d653977909184cc82
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 19:50:58 2007 +0100

    Terse output change
    
    - Missing a comma.
    - Change comma to semicolon, less confusion over floating point numbers.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6586ee8992b30e81334d83d10480bdc4f6c8cc1a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 19:46:09 2007 +0100

    Show how many jobs are in a group
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2270890cef8d98ab97f87d348d16dce6454e631f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 17:05:32 2007 +0100

    Update terse output
    
    Several additions to the verbose output have been added since the
    terse format was introduced, update it to match.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 130fe6161f5e6d2bb98537affdc1573f676e2764
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 16:53:26 2007 +0100

    Default to using gettimeofday()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6660cc67cb72b70d1ea0ab8c465976d715fcb976
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:48:38 2007 +0100

    stat.c: Superflous n
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2dc84ba74186eb9ef4dde0f08dc20571c62e001e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:46:33 2007 +0100

    Be sure to pick up any group error with group_reporting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fa28c85af43eae161f0e06f4a7a959371f79bd62
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:40:49 2007 +0100

    Document the 'group_reporting' option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c39cced652676a2b1dd76a98ca54f23b1f844cc5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:37:00 2007 +0100

    Stat summation fixup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d59d31aff657005e63b48807230bbe42b464e537
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:32:33 2007 +0100

    td vs ts typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 756867bd127cfa1fb27ae2d4ba973af8cb341f13
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 15:19:24 2007 +0100

    Add group reporting
    
    Still needs some testing, so the option isn't documented yet. The
    standard deviation averaging also isn't mathematically sound.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b2560f3ca4677e2908fc4111f4d04fae5df3b229
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Mar 6 12:43:03 2007 +0100

    One step closer to group reporting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c1302d44dd1720bebe5308f976b59d879d994fd3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 20:18:31 2007 +0100

    Don't kill() running threads
    
    Just let them exit nicely.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 21ab9d1d05055893ee0b1bed35e55e87b88b422b
Merge: a68594c 1178680
Author: Jens Axboe <axboe@carl.home.kernel.dk>
Date:   Mon Mar 5 19:23:19 2007 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 117868024939609aebd94fff5afacfd29b2f9a6f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 18:33:22 2007 +0100

    Cleanup requeue handling
    
    Clear ->resid automatically, and get rid of the goto construct.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a68594cb3c3435541d049b2ef694487862c21263
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 12:37:54 2007 +0100

    Include location for RH related distros.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 390c40e2cc8a523d06f8dad6a1040fe9a64f3905
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 12:35:29 2007 +0100

    Forced kill is not used anymore.
    
    So remove the parameter from terminate_thread()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d92449411c3846ae1f6f70d6ffbe113b74a9418e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 12:32:32 2007 +0100

    Gently prod children with a SIGQUIT on terminate
    
    This should unstuck most loops.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5451792ecc9ec3507c222da00d90a8829013ed50
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Mar 5 10:06:06 2007 +0100

    Improve error logging and handling
    
    If we see an IO anomaly, make sure we dump as much info about the
    filename, size, offset, etc.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fdf3de27417d9a673466041851266ffb5c88cab8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Mar 3 12:21:34 2007 +0100

    Fio 1.13
    
    A few silly bugs in the 1.12 release, since it was a bigger change
    from 1.11. So do a 1.13 maintenance release.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7ff1c14bfb97c170c9654c8db5696764779ec4c9
Author: Joel Becker <Joel.Becker@oracle.com>
Date:   Sat Mar 3 12:03:29 2007 +0100

    fio.h: Fix TD_DDIR_RANDWRITE
    
    A typeo had set DDIR_RANDWRITE to be "WRITE | READ" instead of
    "WRITE | RAND".  Correct it.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e531487b1f0cc72db9c94b435cd4b19427d6177
Merge: 34403fb 4db4e3d
Author: Jens Axboe <axboe@carl.home.kernel.dk>
Date:   Fri Mar 2 21:43:30 2007 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit 34403fb14ba48d708fdfd2934583506bb5caac05
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 21:43:25 2007 +0100

    Spelling fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4db4e3d7a52c4561e10af27650a6518e49ecfa7a
Merge: 480936d fd1ff8e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 21:23:12 2007 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit 480936dd2270baa028a8ad8ab20719caa0429968
Author: Joel Becker <Joel.Becker@oracle.com>
Date:   Fri Mar 2 21:23:00 2007 +0100

    fio.h: Grow td->verror
    
    td->verror was 80 bytes.  This truncates some error messages when the
    filename or function name is long.  Grow it to a round 128B.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fd1ff8ed8d2b62c07c6117dfd0e53467ca71662a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 19:42:37 2007 +0100

    posixaio engine: residual data count
    
    If the io was cancelled, residual is the full data buffer length.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 37e974a5eed8aafc6fc865b57e803837eebd3509
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 15:16:45 2007 +0100

    io_u completion error propagation
    
    Make sure we definitely signal an endio error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f423479dad8916c758792308863dcd833a1a36c8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 15:16:03 2007 +0100

    libaio engine: proper return value checking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b9448b92bead64e3b4162418e65354a56047221e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 08:58:05 2007 +0100

    Add example network io job file
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9bec88e15aad76c16ac65048270ecac8b5956a61
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 08:55:48 2007 +0100

    Net engine: move connection setup into ->init()
    
    Then it happens in the process own context, which means we can
    define full send/receive jobs in a single job file and run them
    from a single fio instance.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b58cf3dc6945d661bd5c40c0856a99e0f9c8a9e6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 08:47:18 2007 +0100

    Net engine: missing ->nr_open_files for clients
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2fd233b7302603fb6fd9b7098994d2a155cf7a22
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 08:44:25 2007 +0100

    Convert null io engine to use ->setup()
    
    Then we can get rid of the NULLIO flags hack
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4f45320a29179d802073b392fd7e10bf0975d6bc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Mar 2 08:00:23 2007 +0100

    Net engine: need to set ->nr_open_files
    
    It is marked as SELFOPEN, so it opens it's own files. So it also
    needs to increment the open file count as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0be06ea2c87ecf1751a01ed528a2d3170bdca543
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 14:23:28 2007 +0100

    Accept -foo as well as --foo for options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0e9f7fac2a501f2baeedd11446e9fe102720c27d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 14:05:30 2007 +0100

    Improve friendliness of --cmdhelp
    
    If no match is found, print the closest. Quite handy when
    you can't quite remember the exact option name.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 320beefe2d0c5f05f24b4e0c1d13fcb2f1286a78
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 10:44:12 2007 +0100

    Don't require 'all' argument to --cmdhelp to dump all options
    
    If an argument isn't given, just dump all commands. This has the
    downside that one MUST use --cmdhelp=option to get option help,
    where as before --cmdhelp option worked as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5af1c6f3b46b40ef6b7021a34fd38889226e137f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 10:06:10 2007 +0100

    Document file_service_type option
    
    It's now tested, so add it to the list of options in HOWTO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c83c089a9b8bd742f788157ac47a5af363adb19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 10:04:15 2007 +0100

    Fix for file_service_type=random
    
    We need to retrieve a new random offset if the file is closed,
    obviously.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bdb4e2e99d4a87e5d3677cc09aa1ce92135125a9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 09:54:57 2007 +0100

    Better management of open files
    
    This is a first step to properly supporting dynamic open/close of
    new files, differently sized files, etc.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9bf2061e2b76a396936c5fe70060574a6c96b8f8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 09:33:57 2007 +0100

    Excessive passing around of struct fio_file
    
    It's already set before calling fill_io_u(), no point in passing
    it around and overwriting it with the same value later.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 138502a97c7957d9be7599d9fde94b5317e8c24b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Mar 1 08:27:42 2007 +0100

    Only check FIO_DISKLESSIO in stat.c
    
    Just make the null engine set that flag as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a9defc9abb4a3013335d3aeeb132fd90900cac85
Author: Joel Becker <joel.becker@oracle.com>
Date:   Thu Mar 1 08:26:38 2007 +0100

    [PATCH] ioengine flags: Replace FIO_NETIO with real flags that map the
    behavior
    
    The FIO_NETIO ioengine flag created two behaviors.  First, open_files()
    would not open any files - this was handled in engines/net:setup().
    Second, init_disk_util() would ignore the files and not try to locate
    their disk.
    
    Other engines might want one of these behaviors but not the other.  If
    an engine opens its own files, it doesn't want open_files() to do anything,
    even if the files are eventually disk-based.  An engine might want to
    prevent init_disk_util() from running.
    
    The FIO_NETIO flag is split into two flags.
    
    FIO_SELFOPEN states that the engine will do its own open(), whether it
    is a real open(2) or something internal to the engine.
    
    FIO_DISKLESSIO states that init_disk_util() is should not be run.  fio
    should treat the engine's files as if they are not part of a disk.
    
    Finally, engines/net.c is changed to use these two flags.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9728ce37ea4348d4bdb2eefbaafee75ad651758c
Author: Joel Becker <joel.becker@oracle.com>
Date:   Thu Mar 1 08:24:39 2007 +0100

    [PATCH] init.c: Expose f_out and f_err to loaded libraries via dlsym()
    
    Loaded ioengines would like to use the logging functions but can't, as
    they can't see f_out and f_err.  Create get_f_{out,err}() so that
    the libraries can dlsym() them.  Compile fio with -rdynamic so dlopen()
    works.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ad231bc4f41a9756871455c69d05ea91f1adf727
Author: Joel Becker <joel.becker@oracle.com>
Date:   Thu Mar 1 08:22:42 2007 +0100

    [PATCH] parse.c: Make FIO_OPT_STR explicitly one value
    
    The original change had __handle_option() check !first to avoid
    parsing an FIO_OPT_STR a second time.  However, the caller handle_option()
    has a more explicit check.  Excluding FIO_OPT_STR there is much cleaner.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 780bf1a192f494dcbacb9c1fcc75f6c440a7051e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 11:13:49 2007 +0100

    Don't do rate checks, if no ratemin has been specified.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8a7bd8773ceb3202690f2de4a9cd0e738b5a6edc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 11:12:25 2007 +0100

    Document loading external io engines
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7b395ca5d5f38d50f0c9d4c11fb2b51760caf119
Author: Joel Becker <Joel.Becker@oracle.com>
Date:   Wed Feb 28 11:10:58 2007 +0100

    Prefix external io engine loading with 'external'
    
    This is needed because the parser checks the allowed values now,
    which broke ioengine=/some/external/file.o for loading an
    external engine.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 71dc58b8a48edee4b0a749d4723d622ffefde304
Author: Joel Becker <Joel.Becker@oracle.com>
Date:   Wed Feb 28 09:38:39 2007 +0100

    Fix parser bug
    
    	If the option parser sees a ':', it automatically assumes that
    you meant a range.  It will then try to parse the second half of the
    option.  This isn't just my external: option, it happens to mem: as
    well.  That is:
    
        1) Option mem=mmaphuge:/dev/shm/foo
        2) handle_option() notices the ':' and stores off ptr2.
        3) __handle_option() corectly sees the option "mem" and maps
           "mmaphuge" to MEM_MMAPHUGE.  It then calls str_mem_cb(), which
           stores off the "/dev/shm/foo" after the ':'.  Still working
           great.
        4) Control returns to handle_option(), which sees that ptr2 is
           non-NULL.  It calls __handle_option() again, pointing to the
           string after the ':'.
        5) __handle_option() prints an error, as "/dev/shm/foo" is not a
           known option.
    
    Fix it by breaking out early for the 2nd parse round if the option
    type is a string.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bc5b77a8c46aabea554c4a2c8cca37f27f97969a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 09:32:54 2007 +0100

    Duplicate name checks in ioengines.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1ff2a7eb468833dd03ccc2cc27a76c5bc7055297
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 08:57:27 2007 +0100

    syslet: x86_64 support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bcd83c12481d45c8ba2b8759ffa06fd85421fd50
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 08:56:12 2007 +0100

    Style fixup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4667c19e207cc308e32278851857ec0d705fb008
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 28 08:54:37 2007 +0100

    Move syslet check into the arch header, where it belongs
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e77fe33a06fc0aaccb5d14fe6d257b6313cbf2ef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 27 20:38:51 2007 +0100

    Fio version 1.12
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9467b77c9ac41f09a93a8a984d21b94c1f7d515e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 27 19:56:43 2007 +0100

    Temporary iodepth_low work-around for syslets
    
    syslet really wants iodepth_low=1 for sequential workloads,
    otherwise when fio starts issuing a new sequence of io, we'll
    have pending-and-unsubmitted requests from the previous process.
    The results is seeky instead of sequential requests.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a0a930efb970a688c0e21e396755210e1bdd05a9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 27 19:47:13 2007 +0100

    syslet engine: submission latency numbers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eb7c8ae27bc301b77490b3586dd5ccab7c95880a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 14:45:12 2007 +0100

    Move the iodepth_batch into td_io_queue() instead
    
    The previous part in do_io() introduced a bug (overwriting ret),
    and we really need to do it from other locations as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec1aee01a92f2e390d7ca14d26eebf6453780c53
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 13:18:47 2007 +0100

    Extend option name from 16 to 20 bytes
    
    The file_service_type was too long, making the output look
    badly formatted.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c6441dc9e95cba2a31dec63272917fdf496c75c4
Merge: cb5ab51 c084f46
Author: Jens Axboe <axboe@carl.home.kernel.dk>
Date:   Mon Feb 26 12:57:32 2007 +0100

    Merge branch 'master' of ssh://brick.kernel.dk/data/git/fio

commit cb5ab5121ac4fa62e0ca2612b359f19bfdd30f29
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 12:57:09 2007 +0100

    Add iodepth_batch setting
    
    This allows controlling how much IO we submit in one go
    independent of the iodepth set.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c084f46865e7bb0d186b4f31259b21f9d75cc07e
Merge: ad2da60 c01c039
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 12:52:57 2007 +0100

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit c01c03958c2e1d3c231da93f2de8bf7b9b19d143
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 12:43:42 2007 +0100

    Do proper wait for pending IO on clean exit
    
    Only do the cancel if something went wrong and td->error is set,
    otherwise be a good citizen and complete and account for the io
    we submitted.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ad2da605a62faf16887970618b434db19594e17b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 12:33:27 2007 +0100

    No need to do fadvise() on O_DIRECT/raw IO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c0a6b0d8fcf07512fad42ba16613da83ceec4475
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 12:28:58 2007 +0100

    Speedup init_disk_util() when dealing with many jobs
    
    sysfs lookups can take quite a while, so check against last device
    to avoid having to iterate through sysfs again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5b38ee84f35c7cf3a3a804e6dbe3621f8980d3bb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 10:44:22 2007 +0100

    syslet engine: smart batching
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit face81b280ab94ba5d975739578779157c8b54ce
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 10:40:03 2007 +0100

    Move ->commit() call to td_io_getevents()
    
    If we need to complete some events (min > 0), make sure we
    have committed a pending batch.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7756b0d046ef74c32df134c8b716237cc5e16bad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 26 10:22:31 2007 +0100

    syslet v4 support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d2e0f49006af315ec8653008938bc51f2a0ddac
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 24 13:31:57 2007 +0100

    Requeue io_u flags fix
    
    We need to clear IO_U_F_FLIGHT and set IO_U_F_FREE in requeue.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9ff9de69348f3def14e9a5dde7401d5e760e3c7c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 13:21:45 2007 +0100

    First cut at doing sequences of atoms in one commit
    
    Needs error handling and stop conditions, so it's in an experimental
    branch for now.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d7762cf829fd3e44e50e5e2e9889b6449772097c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 12:34:57 2007 +0100

    Move completion handler into the io_u
    
    This is needed for completions that happen outside of fio,
    or more specifically, for syslet to enable completions in
    a ->queue() hook combined with ->commit().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 10cad1aa7af1c47be6655cff0438c46843964294
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 11:23:03 2007 +0100

    Don't include engines we don't have
    
    With the new option scheme, it's easier to just diff out the option
    types we don't support. So do that for the io engines.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 78217dfa392a6a39f018722e91bc179e9d5443df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 11:18:30 2007 +0100

    IO engine callback need not dump possible values
    
    The parser will do this now. Also don't dump the worthless
    "job dropped" message.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0904200b6f113233a28c4c1ddf68f216bd922b78
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 10:56:22 2007 +0100

    Rate must always calculate bytes done
    
    Otherwise rate will never be checked.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c3852ae26bbe6072b2905938bb4fb0f511977cba
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 10:47:46 2007 +0100

    Improve rate usec calculation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b1ec1da670aab645e32303ea5ffaa1e5ca336936
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 10:29:16 2007 +0100

    Move handling of possible values into the option parser
    
    Eliminates the need for a callback for any FIO_OPT_STR type
    option, unless it needs to do something there other than just
    setting the variable.
    
    The possible options are not in an array of value pairs, so we
    can easily match an string option with an integer output value.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 413dd459a7710ba421061e840dd9ac3161c70f20
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 09:26:09 2007 +0100

    Streamline thread_data data direction setting and checking
    
    Currently it's a mess of ->ddir, ->iomix and ->sequential. Add
    a TD_DDIR_* for each of these, so we can store them as one value.
    
    A prerequisite for the next parsing cleanup.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0aabe160c38efc3c42157fac2a9af08e070341c6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 23 08:45:55 2007 +0100

    Add option to select how to service multiple files
    
    Right now we just round robin the open files, but sometimes you
    just want to randomly go through the files. Add a 'file_service'
    option for that, default to round robin still.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5945b9b45474a9a717a3db2310822aa5064fb38b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 20:33:01 2007 +0100

    Dump io_u on timeout
    
    It's still disabled, though.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9d80e114104d43103d6acc920bce69296b647a53
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 19:37:53 2007 +0100

    Correct spelling error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e1161c325f7866bae879e686d1c673ca32ab09ae
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 19:36:48 2007 +0100

    Add more context to the error messages
    
    Errors like:
    
    fio: pid=0, err=22/file:filesetup.c:380, error=Invalid argument
    
    do not give a lot of clue as to what is wrong, unless you
    have a matching source. So add a context relevant info
    message as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 94cd00dd6cf1cec4c593a74aabfbb79f4d80afb6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 14:08:36 2007 +0100

    List syslet-rw as a supported option in the ioengine help dump
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1df341ff45360d5d1a4f942f76862f11a0da8fa6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 14:08:13 2007 +0100

    syslet: syscall still needs void * cast
    
    It avoids the long -> structure pointer cast warning.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fa01d139c558a3788154c5b0f094bfdb5325728f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 14:07:39 2007 +0100

    Don't check st_size for special files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit faf5c880f6ddcd44ff896ba1cf3da38b23fe0f39
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 13:49:36 2007 +0100

    syslet: typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3707f45bf2c99e79fdc0cd77fbb403c36c8f57eb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 12:26:57 2007 +0100

    Further improve thread handling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 19a98c4140020e82652a835faa6e0eac6173fa18
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 12:26:20 2007 +0100

    Fix crash on thread exit
    
    If we had multiple threads, we could corrupt the heap by
    freeing memory we did not alloc.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 50070b5a3b37f013a2b0b968e1b8b34bffff8589
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 12:11:26 2007 +0100

    Thread waitpid() error check
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a2f77c9f5f01186882762264100b6d30ee77a55d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:53:00 2007 +0100

    Improve thread reap handling
    
    It's a bit of a mess currently, streamline and clean it up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 55bc972818cdec46f47633da62758e4dcdb6f3f6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:30:05 2007 +0100

    Disable timeout handling for now
    
    It needs to get some more testing. It appears to work fine, just
    want to be a little cautious.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9310e0557c342edb6849ba5262f338fca5c272f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:24:59 2007 +0100

    Include engines in dependency check
    
    Changing fio.h sometimes didn't trigger rebuild of the IO engines,
    causing weird problems.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 433afcb4fe81e775c15af9d39a6f4db8a53d693a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 10:39:01 2007 +0100

    io_u timeout handling
    
    Further measures to prevent fio getting stuck, even in case of
    engine timeout errors.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0c6e75175bcaf8d05bfa88aa8caa584fbb848b74
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:19:39 2007 +0100

    Track io_u state (free or in-flight)
    
    That way we can catch proper use by fio, so we don't get stuck
    in cleanup_pending_aio() if someone forgot to put_io_u() in an
    error path.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 145dad6d3e1ae4bf44dd49eea9d0c025500b97d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:11:48 2007 +0100

    No need to cast async_exec() syscall to void * anymore
    
    Ingo forward declared the types.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e49499f8738562e014867ad693a999646d5e1bfb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 22 11:08:52 2007 +0100

    syslet engine: style fix and ->queue() error return value fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bf0dc8fae8b21c666a0a927c1d473ad59101e7fd
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Feb 21 23:25:44 2007 +0100

    v3 syslet engine support
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 069c29183fb55f467ba841959ba6731f3e4f2132
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 23:02:39 2007 +0100

    Still need to put io_u on early exit
    
    The previous fix was too drastic, if we don't put the io_u on early
    exit, cleanup_pending_aio() will stall forever waiting for it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 49db69aa2e89afde2c5e2a768a464302af96b6cb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 20:28:14 2007 +0100

    Correct io_u_*_complete() return checking
    
    An error is < 0, not any non-zero value... This unbreaks verify again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 19abcd3d54b1a9c16a9042f07e937b2e35d9c6bc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 20:14:33 2007 +0100

    Don't overwrite error
    
    The first error is usually the most interesting, so don't overwrite
    in __td_verror().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f692a7677e025a274ad08ecfa6a3001e61b1232d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 20:10:42 2007 +0100

    Fix double io_u free on error in do_verify()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 43d768074375795e8d9565ba75cfd00228cc61df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 16:35:29 2007 +0100

    64-bit compile warnings
    
    Just some ptr -> int error casts, nothing critical.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8abdce6686bfcaa211e7eb75a69ec07e980bd96e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 10:22:55 2007 +0100

    Change IO latency histogram to be in power-of-10
    
    Power of 2 is just confusing for latencies, make the series
    more natural by doing 1, 2, 4, 10, 20, 50, etc.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e4dd8a093ce7f13094460feead61d83c0c04f0ce
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 21 10:07:40 2007 +0100

    Makefile: libdir is not used anymore
    
    We link in the io engines.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 72cb971b019945a0eb7528384338f0410373484f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 20:54:45 2007 +0100

    More __must_check annotations
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b2fdda43cf0699f60e711429c778ff1685e30062
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 20:52:51 2007 +0100

    Static error value checking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 948f9b2eed7aeee6367957ea30be7a2da94d5b1b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 19:49:57 2007 +0100

    mmap IO engine cannot extend a file
    
    We need to ftruncate it to the wanted size first, or the mmap
    write will terminate with SIGBUS.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6c23570dd5458d8f7c7086fb86675ce7b424d4fd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 19:41:08 2007 +0100

    Leftover debug message
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e916b390684ec1ca6247f98138fa9c1682701d29
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 14:37:26 2007 +0100

    Add low water mark for queuing depth
    
    Current fio will attempt to keep the queue full at all times,
    but sometimes that's not what you want. Add iodepth_low to
    indicate a low water mark for queuing depth, so that when we
    see a FIO_Q_BUSY or run out of free requests, let the queue
    drain down to the iodepth_low setting before building it up
    again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 079ad09b1ef22fa0d47c2cd2673908c5619aa41a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 13:58:20 2007 +0100

    First step for group reporting
    
    Put most of the stats into a dedicated structure, so we can
    later share such a structure between threads.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5aeb77df5d75d1065b339c47afbd882a3c04702e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 11:34:54 2007 +0100

    Fix sync engine completion latency
    
    td_io_queue() needs to differentiate between the sync and async
    engines wrt setting issue_time.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e7e6cfb4f22b19de03aa5a0b031d4844dd8b1ebe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 10:58:34 2007 +0100

    Update io_u.c comments
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7e77dd026d85253936aef432ba8f3e89b96b805c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 10:57:34 2007 +0100

    Improve submission latency calculation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 00de55ef85f01f3c56fac5397aca92eef0c73762
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 10:45:57 2007 +0100

    Use 0 timeout for command completion peek
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 65db0851e8cd98c61e029e64db7038f92ad9ae02
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 20 10:22:01 2007 +0100

    Update documentation wrt comment
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5cc2da300b3fc30e00b79b4ddb3f372df3b2fe93
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Feb 20 10:19:44 2007 +0100

    fio: allow '#' comments
    
    allow script-type comment's:
    
    # comment
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit ad18c1ecc367c55e4d10acb05790be2c946053e2
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Feb 20 10:19:41 2007 +0100

    fio: syslet.h build fix
    
    update syslet.h to build fine even if __user is not defined.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 77f392bf28b1eafbece08df6c066440a838499a1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 20:13:09 2007 +0100

    Be safe and re-prep requeue io_u's
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c1324df14320c37fbe0f08e3b9f9a9af00e23ec4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 19:06:41 2007 +0100

    Missing clear of some IO state
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6bb1c841e213b922f621d8ab50e8641e0ab10923
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 16:01:32 2007 +0100

    Clean core files on make clean
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit afab5e46cf0a984a87426329b3157e38d9a419a4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 16:00:42 2007 +0100

    Fix busy looping for io_u_queued_complete()
    
    If min_events > 0, don't set a 0 timeout or we'll end up
    busy looping in the io engine getevents handler.
    
    Just disable the timeout for now, perhaps we'll reuse it
    in the future to prevent a thread from stalling too long
    there.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2d7fa53c18f1fc3fb89f3fe20df9b39986bde72
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 13:21:35 2007 +0100

    Verify requeue handling
    
    If file is already filled, it's a requeue. In that case, don't grab
    a new io_piece, we already filled the offsets in the io_u.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3d7c391dbdc56f261447b2d8ab65e74a42a20c41
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 13:16:12 2007 +0100

    Retrieve next file to service in get_io_u()
    
    This improves requeue handling, we don't want to inadvertently
    skip a file because we requeue an io_u.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 755200a326a33e5e19b16dfd5e013dd98bcf1916
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 13:08:12 2007 +0100

    Add support for queuing > 1 command at the time
    
    For the async engines, we currently do queuing by issuing one
    command at the the time. Improve this by adding a ->commit()
    hook to complement the ->queue() hook. When ->queue() returns
    FIO_Q_BUSY, call ->commit() to actually send off the io to the
    kernel.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9978463287982c2f73f171ec9a79979939dee47a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 19 10:06:17 2007 +0100

    Differentiate between bool error return and real error value
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97601024a53586d77a368763f08be9ee483fdc9c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 18 12:47:29 2007 +0100

    Cleanup end IO handling
    
    Abstract out the end IO handling, so that callers don't have to
    keep track of completion details. Then we can make the
    io_completion_data structure private to io_u, and just provide to
    functions to end io - one for sync completes, one for queued completes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 22819ec237297fc39435ed566bee01a4225bfb39
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 18 07:47:14 2007 +0100

    Unify and fixup error handling
    
    First step in getting ->queue() and ->getevents() handled in
    a more sane fashion.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3af6ef399a9df324ffe4a8c8e03b52a42f587229
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 18 06:57:43 2007 +0100

    Fully parallellize io_u verification
    
    Keep a full queue whenever possible, do verifications while
    io is in progress.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36167d82e5f49dee91c6d2cd426068edee90e36f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 18 05:41:31 2007 +0100

    Change IO engine queuing
    
    Instead of always pretending to be async, let the IO engines
    return FIO_Q_COMPLETED or FIO_Q_QUEUED to signal async or
    sync completions regardless of their nature. This cleans up
    the queuing model quite a bit.
    
    Also fixed a verification error spotted while doing this
    transformation.
    
    The main intent of this is to allow queuing more than 1 piece
    of IO at the time, that will come in a later changeset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 48097d5c61aa1718e6dd4b3b647ea2eb6f00fcfb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 06:30:44 2007 +0100

    [PATCH] Add thinktime_spin parameter
    
    If you specify thinktime currently, fio will sleep for the duration.
    Apps will typically do some data processing before sleeping, so add
    a thinktime_spin parameter to control how much CPU to burn before
    sleeping.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 73170f19408559ed7e318f93b21e5cbbf13725bd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 06:20:19 2007 +0100

    [PATCH] Don't check status if ret < 0
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fab6aa719b7fa80a720f716dc1660165c2f844e9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 06:19:24 2007 +0100

    [PATCH] Catch processes/threads that unexpectedly exited
    
    Fio will no longer stall waiting for dead children.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a64181472b3556b6e7b95443d94869f6b61ca7ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 04:47:18 2007 +0100

    [PATCH] Further improve child exit reaping
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e26f8f7a38365148ba1f345391da8596a8f7269e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 04:39:54 2007 +0100

    [PATCH] file descriptor is int
    
    This was mistakenly turned into a long, revert.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec1183049478cfc03ec3cc513ae07b7ca9a48140
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 04:38:20 2007 +0100

    [PATCH] IO completion time histograms
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2f073b09812255edca0f5854d36720418db88912
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 02:09:01 2007 +0100

    [PATCH] Fix random seed for numjobs > 1
    
    If you had numjobs larger than 1, then each shared job would get the
    same random seed, resulting in the exact same io pattern. Multiply
    the seed with the thread number, that will still get repeatable
    patterns but only per-thread/process.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5bf13a5a5f01986c5b87db26f0cadf95af133188
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 01:51:47 2007 +0100

    [PATCH] Fixup client error exit
    
    Sometimes we just quit without dumping the client error info, fix
    that up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 890df538b3645d9310a3527513195773130d1d7f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 17 01:51:13 2007 +0100

    [PATCH] Fixup file type recognition
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 429ca0735f71961ffe52c5ac102b0a14ee1b2c4c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 23:49:58 2007 +0100

    [PATCH] Defer engine ops verification check
    
    Just register the engine to avoid complicating the code, but
    don't allow it to be loaded.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b6959b55efa7f464dbb7e7f2021dd67d297219bd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 21:40:27 2007 +0000

    [PATCH] Make fio compile on non-x86 again
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7d44a745ced0cd50c31a68d680601c66db99b96b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 17:32:08 2007 +0100

    [PATCH] syslet: code cleanup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7f059a76061ea676419d91fe4c5270d817f283a1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 08:53:11 2007 +0100

    [PATCH] syslet: fix leak of ring and ahu
    
    Clean it in async_unregister()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2ca50be45bcacd652e2cefb6a69837e051cb297a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 08:31:15 2007 +0100

    [PATCH] syslet: async_head_user struct should be permanent
    
    It's passed back in for async exit. This doesn't matter now, but
    may in the future.
    
    Spotted by Ingo Molnar.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a2e1b08afa641078832d69871ae5e404db3e4fc1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 08:06:19 2007 +0100

    [PATCH] syslet engine: use pread instead lseek+read
    
    And similar for write. Saves executing an atom.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit db64e9bc34d621647a255c918a5b7416ca0b6076
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 02:10:59 2007 +0100

    [PATCH] Let the syslet ioengine register check supportability
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f3502ba2dd72d846a388c774a01c6bb833871248
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 01:27:09 2007 +0100

    [PATCH] Exabytes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0ff85dfc86a8c62807ba0f6faa8e04cca64bcb8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 01:19:41 2007 +0100

    [PATCH] Document syslet-rw engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a4f4fdd7c9e46a50bc33ecef44d9f06036580ad4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 14 01:16:39 2007 +0100

    [PATCH] First cut syslet async io support
    
    Doesn't seem to perform as well as expected, needs investigation.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 340fd243a168d881dd80b45f2ffb424287db8b7e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 13 20:09:10 2007 +0100

    [PATCH] Make fio_assert() core dump the job
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a4a81712f0bd76cbde8898c0b87faedbaa1d2da1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 13 20:07:26 2007 +0100

    [PATCH] Random map needs to use ->real_file_size, not ->file_size
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 437c9b71527b14a8e872c03cd821179eba351474
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 13 18:20:37 2007 +0100

    [PATCH] Make the exit value meaningfull
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e9fbdd74f6ac24d93824177a8858c028305c9900
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 13 17:42:35 2007 +0100

    [PATCH] Woops, left debug clear in there
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0032bf9fdccc4491e779a0c581c9bcb714b012f7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 13 17:39:56 2007 +0100

    [PATCH] Add fio_assert()
    
    A job must not call assert(), as it wont exit and set thread
    state properly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 07e4b620ecb7f64dc75ac288928f073fb42f4441
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 12 20:18:42 2007 +0100

    [PATCH] Fix buflen trimming
    
    It's ok to trim to the minimum block size for RAWIO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3951414db33cb12656d218156274d619271421f9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 12 18:49:58 2007 +0100

    [PATCH] Total io is the sum of READ and WRITE
    
    Was broken for mixed read/write workloads.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bca4ed4de445a07af393ac8bfcb9dd6aad09e5df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 12 05:13:23 2007 +0100

    [PATCH] One more round of random map fixes
    
    The last fixes made sure that we don't generate a block >= file size,
    but for io_u's that contain multiple blocks, it could still happen.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c8c51efdfb621275c23ab74b385d80702b7a30d0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 05:02:48 2007 +0100

    [PATCH] Sign warning
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0c09442b26216aed16f758712f744a2c54726cdb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 04:44:02 2007 +0100

    [PATCH] Network engine poll() paranoia
    
    A little defensive programming never hurt anyone.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1c9e06ee5cd492b4750b11d34d41c609eabecee0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 04:07:57 2007 +0100

    [PATCH] Document/comment fio.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5fdd124a3b811993542825847f207587d5f4661e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 04:00:37 2007 +0100

    [PATCH] Make ctrl-c work with network io and accept loop
    
    We don't get SIGINT breaking accept(), so use poll() to poll
    for incoming connects.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 95bcd815e5ce55d6cdd8eb83bda5ee411f37bdc9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 01:01:57 2007 +0100

    [PATCH] Move td_verror() into io_ops->queue() hook
    
    Shows where the error occured, not where it got noticed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6d663077379b40e1ec6e2321fe8a731087777d32
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 00:57:13 2007 +0100

    [PATCH] Allow thread/group dump regardless of error state
    
    Just because the thread ended in error, doesn't mean the
    stats aren't interesting. So dump everything and make sure
    the error and verror are visible.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2eaa41cee91925db713b19ea2975dcc511648b48
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 00:51:30 2007 +0100

    [PATCH] Fix stack overflow
    
    Observed an overflow of eta_sec[32], bump it to 128 bytes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 46fda8d0fe3332c17ef845da6de9e3241b8cb77a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 00:49:30 2007 +0100

    [PATCH] Separate bandwidth log and rate display
    
    We used to dump status each second, but this got modified sometime in the past
    to follow bw_avg_time. We don't need 250msec displays, so change it back to
    use 1 second delays.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dbe1125e9c53b2a0b1fc2fd9c6cfd0b3fbddda8b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Feb 11 00:19:51 2007 +0100

    [PATCH] Pretty up stat output
    
    Always convert numbers to a known base. We could have byte range values
    or gigabyte range values, reading huge numbers can be difficult.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 24868cabfee01b938a708337ac2087470490b665
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 21:36:40 2007 +0100

    [PATCH] Kill redundant header files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c685b5b2912bfbd3cdc8729d16a98438b1ff7593
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 20:02:28 2007 +0100

    [PATCH] More random map fixes
    
    Several optimizations and fixes:
    
    - Add ->last_free_lookup as a cache for get_next_free_offset(). No point
      in iterating known full blocks.
    - Reduce number of random loops to 5 for random map lookups, fallback to
      next free block instead of wasting cpu cycles. Was 50.
    - get_next_free_block() needs to take file offset into account.
    - Reverse order of retrieving buflen and offset, so we can trim
      and mark properly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit afdbe580a4c173cb90b079dc266229c6d4257911
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 19:01:57 2007 +0100

    [PATCH] Random map fix
    
    mark_random_map() would give up too soon, causing an infinite loop
    in the block allocation.
    
    Reported by Randy Dunlap.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 675de85a183099071a56b9b2ecd196569f10236a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 19:01:07 2007 +0100

    [PATCH] Size parse should use strtoll()
    
    It's a 64-bit quantity, found out when the size= option quit too early
    for large non-postfixed values.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f4ee22ca72da53e0e891693d16358296b703a684
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 18:57:18 2007 +0100

    [PATCH] File size fix on NULL io engines
    
    Just set the file sizes to the size given, it's pretend anyway.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 16edf25dba269ee9e8239130e75b690440b1e120
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 14:59:22 2007 +0100

    [PATCH] Catch and print if directory= doesn't exist
    
    Currently we fail in an odd way, make it more explicit why we fail.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 311b84aeb3f8eba70191353b4b9fe0a2576f9d95
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 14:49:02 2007 +0100

    [PATCH] Make the libaio fsync fallback really work
    
    This time it's tested :-)
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8d714a60ae956c5758fe4b5a75aa6cc31ce7e9eb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 12:59:48 2007 +0100

    [PATCH] libaio engine: fake work-around for sync issue
    
    Needed to make the fsync() fallback work.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e5c40aabb82b796e34f2ea7a184a3f72f5fb41e5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Feb 10 12:57:55 2007 +0100

    [PATCH] Fix libaio engine SYNC
    
    io_prep_fsync() isn't supported at all in Linux currently, so
    fall back to fsync() if we get an -EINVAL return value.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ab5d675e9f5a805a21f51b553c49268401f19402
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 9 09:31:05 2007 +0100

    [PATCH] CFLAGS: -fstack-protector doesn't work on older compilers
    
    Just remove it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 85eb1d4492ab4ee961b2a2276192298b2009584f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Feb 9 09:30:25 2007 +0100

    [PATCH] Net engine typo
    
    READ -> DDIR_READ
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dc0deca2b89bea896e8eb8133961cec68c4ba8b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 8 20:59:31 2007 +0100

    [PATCH] SG IO engine: reduce allocations and memory leaks
    
    We currently do 3 allocations and frees in the queued getevents
    handler, we can easily reduce that to 0 by statically allocating
    the buffers at init time.
    
    The cleanup handler didn't free any of the currently allocated
    structures, fix that up.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6ab9e267d0a48de95c86875ba93fe17203163bb0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 8 20:29:41 2007 +0100

    [PATCH] SG IO engine: remember to set io_u->file in init
    
    It's now mandatory, since it supports multiple files now.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit adee86c56189017f7e11fc3e2d5e074674333d60
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 8 13:04:36 2007 +0100

    [PATCH] SG io engine: better handling of multiple files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d4f12dd05cfb2e8e7a72604cd870e10f2394914e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Feb 8 12:59:02 2007 +0100

    [PATCH] Network engine cleanups and comments
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a37bded35c66229ea830990ab313ca531fb94d4f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 14:03:07 2007 +0100

    [PATCH] Improve dependency checking on builds
    
    From the similar fix for blktrace, from Vasily Tarasov <vtaras@openvz.org>.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 13ddcb2b0b4db9d86fb859ad93f50d89a3f9f61a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 13:59:21 2007 +0100

    [PATCH] Enable _FORTIFY_SOURCE and stack protector checking
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 69cfd7e07ff2fdc8ff4c94bb277e0b241d66ace0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 13:58:53 2007 +0100

    [PATCH] We should check system() return value
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97b601c1ef3520e87e26fe2eea2446076ae1eab3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 13:55:38 2007 +0100

    [PATCH] Remove SIGSEGV handler
    
    We don't catch segfaults anymore, so remove that bit from the signal handler.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d8cc4733da33d408e72897a5eb8cbb199a636cc7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 13:51:22 2007 +0100

    [PATCH] aio example should use O_DIRECT IO
    
    Otherwise it isn't async. Since fio defaults to buffered IO now, we need
    to correct this example.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d9345ae968ca92ace3dab06c25a9b73159cb329
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 13:14:57 2007 +0100

    [PATCH] Don't create files for engines that don't need them
    
    Introduce FIO_NULLIO as a way to control that from the io engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 165faf16657c17b924a84e5601e17a516c76c135
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 11:30:37 2007 +0100

    [PATCH] Misc fixes
    
    - Change the hour/day eta display to be more clever.
    - Style
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6bedbfafcffbc7202b5bb621ac5886aafdc0f362
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 09:54:40 2007 +0100

    [PATCH] Network engine fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7a6499dada619928267d26b4629b0c8623dc423a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Feb 7 09:35:29 2007 +0100

    [PATCH] Network io engine updates
    
    - Use recv/send
    - Set MSG_MORE on send if we are going to transmit more data
    - Cleanups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e2a26d2c2a75861494f6fc4046a37a71874bd59a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 20:17:21 2007 +0100

    [PATCH] Document ->queue() in the skeleton engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cec6b55da1c282b5b91ad346c7804171fccf151e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 20:15:38 2007 +0100

    [PATCH] Support residual io counts from io engines
    
    We need this for requeuing support, the network engine makes this
    pretty apparent (it's not unusual to see short tranfers there).
    
    Basically we add an xfer_buf and xfer_buflen member to the io_u,
    and these are the fields that the io engine MUST use. That allows
    fio to increment and reset these appropriately, and simply requeue
    the io_u for service of the next part of it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2fc2698113c087352c1851bf5ebfcad6adb53932
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 19:27:27 2007 +0100

    [PATCH] Support for > 1 network connection
    
    Now the net ioengine also supports the nrfiles option to open
    multiple connections.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e01547d2b8bf79c3abe14e03c72398cf8998eb1e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 19:16:01 2007 +0100

    [PATCH] Network engine updates
    
    A few comments, pass down port short instead of buffer.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ed92ac0ce9ce1cc64697272d307d4fa7d18ed64c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 14:43:52 2007 +0100

    [PATCH] Simple support for networked IO
    
    Adds a new ioengine, net. Use with ioengine=net, it supports only strict
    reading or writing (no mixed reads/writes) to/from a single host.
    The filename given must contain the host and port to connect to (or
    listen from).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f8fe35e8c9e88dd681ea151251d75f6116a958b4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 13:29:55 2007 +0100

    [PATCH] Rename io engines
    
    Typing fio-engine-foo is annoying, just rename them to their type. They
    already reside in a private directory, no point in putting the fio-engine
    prefix on the files.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29d610e110cf1e6326185d2c50c846813152fe21
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Feb 6 13:25:33 2007 +0100

    [PATCH] Fix buffer alignment on non-4kb archs
    
    Retrieve page size through sysconf.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 61697c37566a211ad3fd70f46397d9b7675b0fc2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 5 15:04:46 2007 +0100

    [PATCH] Add 'description' option
    
    Can help provide a textual description of a job, if it's submitted
    to someone for run/review.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7d6c5283afe6fb5187d2e2a330376ad65f472537
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 5 10:52:10 2007 +0100

    [PATCH] Fix sg ioengine
    
    We need to do the ->init() call after having opened the file,
    otherwise sg doesn't know what file type it is dealing with.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e8b8c9f1f406862e01cdfc0852a6d2ca9b308302
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Feb 5 10:47:48 2007 +0100

    [PATCH] Fix double free in sg engine error path
    
    We need to clear td->io_ops->data if we free the structure,
    otherwise the ->cleanup() handler will try to free it again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3404cefcb23db812b3f3a164ef773b37d53355ab
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 24 09:21:31 2007 +0100

    [PATCH] Fix typo
    
    WRITE -> DDIR_WRITE
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ae4020f762a87c428a430ffff1c10dd2a3644e98
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 17 17:42:30 2007 +1100

    [PATCH] Only generate global bandwidth log if write_bw_log set
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bb3884d855100fa8fa6a1d2aac79e867dfd47bf9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 17 17:23:11 2007 +1100

    [PATCH] Add support for writing aggregate bandwidth log
    
    This is the same that is shown while fio is running, it can be useful
    for graphing purposes as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eff6861d99c1e20ef24d5ab9eef1ac0bbfa655d3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jan 14 05:56:44 2007 +0100

    [PATCH] Unlink write file if !overwrite and it exists
    
    Repeatability across runs, unlink the file so that the job
    runs like it wasn't there to begin with.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e545a6ce0f0f3e6881e997bf2af8969fc6dd7082
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sun Jan 14 00:00:29 2007 +0100

    [PATCH] Don't make file unlink the default
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5d4580774d8df3393fc4264c71caed16201821de
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 23:59:00 2007 +0100

    [PATCH] The last io depth entry is actually >= 64, not > 32
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 71619dc28506f7b7b40905b942e992b02f0d5b96
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 23:56:33 2007 +0100

    [PATCH] Include io depth distribution statistics
    
    Calculate the distribution of io depths for the job run.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7e326f3bbc7e6f23f2b4c99282f73a7948d02637
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 15:17:22 2007 +0100

    [PATCH] Remove the time init check
    
    We cannot control constructor ordering easily, hence the check
    code was also in fio_gettime().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2cb8d960e8abedb0702e0e53fbebbbd649147646
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 15:15:47 2007 +0100

    [PATCH] Shorten 'commitrate' to 'CR'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb44a18f1bd81b26c3d483c79f5707085bda24dc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 12:29:13 2007 +0100

    [PATCH] Fixup rate usec cycle calculation for small values
    
    If someone set rate to 2KiB/sec or something low in that range,
    we would integer divide by zero. Do calculation in reads per msec
    instead of full seconds and fix the zero division.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fd841467ce4a5875dba2d21da6851936b46fdb08
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Sat Jan 13 12:20:30 2007 +0100

    [PATCH] Improve rate functionality
    
    usec_sleep() now takes into account the granularity of nanosleep().
    Also stop using the remainder returned by nanosleep(), it doesn't
    appear to always be accurate. Instead just check the elapsed time
    manually.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6ce15a32b28f359b3753ef65d883ab2d824e19f2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Jan 12 09:04:41 2007 +0100

    [PATCH] Properly shutdown in case of serious errors
    
    Introduce fio_abort to do a forced shutdown of everything for things
    like segfaults.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 73c8b0823e071c6606689b3f939708a9a347d776
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 19:25:52 2007 +0100

    [PATCH] Update HOWTO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d56cbab065c01e1a177bc1b8d85a8f5d78df1548
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 19:24:55 2007 +0100

    [PATCH] Cleanup some output code
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 10cb47faf7283fe8c5b7da70078d96f447b5d62e
Merge: 0c9baf9 5fa0f81
Author: Jens Axboe <axboe@nelson.home.kernel.dk>
Date:   Thu Jan 11 15:59:35 2007 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit 0c9baf913d6d251973798048d29c60507f486ee6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 15:59:26 2007 +0100

    [PATCH] Update irange documentation
    
    Also allow ':' as the range delimeter, and '/' as the
    direction delimeter.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5fa0f817d41211f45c04809dfe6c324f916fbcb4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:06:35 2007 +0100

    [PATCH] Help: thinktime is in microseconds
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 70df2f19d2a456224fee54e17066298b307c3667
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:04:47 2007 +0100

    [PATCH] Abort early for bad option given to --cmdhelp
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 380cf265b2ae035fc346718f30c3d01a18e4640f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:01:27 2007 +0100

    [PATCH] Really fixup disk util init
    
    Include disk io ticks, if the job itself creates the file. Don't
    include it, if we create the file before running the job.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8da99b32a71f8b7edcb94d9fd42a605129ffa414
Author: Jens Axboe <axboe@g5.home.kernel.dk>
Date:   Thu Jan 11 13:58:32 2007 +0100

    Revert "[PATCH] Move disk utilization setup to thread itself"
    
    This reverts commit d52fb0c44567cf4fdc2a2c307c32672cc5a57170.

commit d52fb0c44567cf4fdc2a2c307c32672cc5a57170
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:44:40 2007 +0100

    [PATCH] Move disk utilization setup to thread itself
    
    We don't want it to include potential file creation before the job runs.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5b0a8880e2a0dafbdd12cabcb82f8fe728937e65
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:40:27 2007 +0100

    [PATCH] Warn if both option variable offset and callback given
    
    If the callback is present, it is preferred to the offsets. So
    giving offsets with a callback specified doesn't make sense.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4945ba127a43cad1424ebc75164b7a16a8160933
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:36:56 2007 +0100

    [PATCH] Pretty up option looping
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6104ddb6b14be6f3d97bf0faa5b7e06dea22f5f4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 14:24:29 2007 +0100

    [PATCH] Change output dev= to stdev=
    
    It's really standard deviation, so make it a little easier to
    understand.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 76a43db448f9fd5e9f1397428a433466d98e0d5d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 13:24:44 2007 +0100

    [PATCH] Change O_DIRECT vs buffered setup
    
    Change the default from O_DIRECT IO to normal buffered IO. That makes
    more sense, as O_DIRECT is a special case and should be manually
    enabled as such.
    
    Do this by adding a option negate switch, so we don't need two sets
    of parameters to control these options.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 03b74b3ec5268e731ed7fcaef31c8c0655acd530
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Jan 11 11:04:31 2007 +0100

    [PATCH] Change timeout to runtime and rearrange option entries
    
    Runtime is a more descriptive name - the documentation is updated
    as well, however the parsing has added an alias functionality to
    support older names as well. So 'timeout' still works.
    
    Also rearrange option entries, now they matter because the --cmdhelp
    option will print them in order.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9bb3b809d80cc3226d1c603e87fc90b6680320b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 20:30:53 2007 +0100

    [PATCH] Thread option didn't work
    
    We stored to the wrong location, woops.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 687040842bf56502d33b6c0cb5d2af6da27d080c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 19:56:37 2007 +0100

    [PATCH] Implement a better mean and standard deviation calculation
    
    Based on Knuth's, volume 2.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cda866caa9b9f6598e264d24a8997d24f3c2b1c7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 16:02:32 2007 +0100

    [PATCH] strtoul() -> strtol() conversion
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7e75f648444ce3ee1694792134826ee89c7a29eb
Merge: ddf4a69 db8e016
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 15:41:07 2007 +0100

    Merge branch 'master' of ssh://git.kernel.dk/data/git/fio

commit ddf4a69b083416fa0e626f591b3b425085656531
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 15:39:51 2007 +0100

    [PATCH] Fix standard deviation calculation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit db8e0165bd86c5a4e9909b846acdbd5b22d263b1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 13:41:26 2007 +0100

    [PATCH] Be strict in checking option ranges
    
    Fail if given value falls outside of range instead of adjusting
    it automatically.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 63f29372bc1bd69b66816c96d88b9c0bd8f3d8b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 13:20:09 2007 +0100

    [PATCH] Option minval should be signed
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 13335ddb0e304efa0fc96593dd1fd995ec6f68d7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 13:14:02 2007 +0100

    [PATCH] Introduce bool option type
    
    We can automatically flag those with min/max values.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 15f7918ff432d5da2b2abc84a50c685bde5e72ef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 12:26:18 2007 +0100

    [PATCH] Show allowed option values for string matching
    
    Helpful to avoid looking in the documentation.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit facba0e53b7108d70f34e3eb01b54c2efd73f5f4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 11:41:11 2007 +0100

    [PATCH] Pretty up command help output
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 25309a33aa949413e8c69fd879b5964758de8c38
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 11:33:14 2007 +0100

    [PATCH] Reversed order of thinktime_blocks modulo operation
    
    We wish to find the remainder of block count vs thinktime_blocks,
    not the other way around. This makes thinktime_blocks work correctly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6da1fa7f0a8d7e588dc0ea40a5e175edded9a8ac
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 11:27:48 2007 +0100

    [PATCH] Fixup ratecycle option
    
    It set .name twice, the last one was supposed to be .help instead.
    Also kill options->opt_set, it's not used.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ee738499877bb1ee913e839cb4a8d4edad2d52ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 10 11:23:16 2007 +0100

    [PATCH] Add default option values
    
    It's handy for the help text, and it also cleans up init.c by removing
    a bunch of default option defines.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8d7ad8d9d737982f7967f91f00ba9a56402fc60b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 9 21:22:18 2007 +0100

    [PATCH] Move timeout structure where it is used
    
    Also makes sure that it's always initialized to 0's.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 29fc6afe1bfcb97dd7f33d8e58b99b2d93237d47
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 9 21:22:02 2007 +0100

    [PATCH] Complain if bad option given to 'cmdhelp'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fd28ca4948aa67b76585c6c23d7f70a2cdc7a0d5
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 9 21:20:13 2007 +0100

    [PATCH] Add per-option help
    
    It's hard to remember all the options that fio supports, so add a
    'cmdhelp' option that either prints all possible options (if argument
    is 'all'), or specific option help (if argument is the command).
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5cd033bbb08dbdd2241a0eac09ef34a59a5d8f52
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 9 08:19:01 2007 +0100

    [PATCH] Fio version 1.11
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ccbb91cb902f5a1931681248735551815d12c653
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 8 22:27:05 2007 +0100

    [PATCH] Fix busy-looping with aio engine and depth > 1
    
    It's ok for io_getevents() to return 0, if min_nr is 0. Check
    first if io_getevents() returns >= min_nr, if so then just break
    and return.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1188caf84ba7fb6c2b3955ad67f4bf087ede13fd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 8 10:57:27 2007 +0100

    [PATCH] Add extra disk util name check
    
    If it's the same device name, don't print utilization more than once.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f829527633c3ebba26edb4745172d938a8ae4bb6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 8 10:49:38 2007 +0100

    [PATCH] Debug printf
    
    Kill it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8aeebd5570ac4fccbcdd48f2e6f1cf1577f3c08d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 8 10:47:43 2007 +0100

    [PATCH] Unlink and directory fix
    
    Make 'unlink' a bool and fix bug in directory setup.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 745508ddfcb7b89b65d99a9dabc6b957aafb9a57
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Jan 8 10:25:51 2007 +0100

    [PATCH] Non-overwrite random write fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 726f6ff06acd3a70b66c1badbc67cb833709b13c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 3 21:02:41 2007 +0100

    [PATCH] Make note of mailing list address
    
    Yay, there's a list.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1304923a76e2e7f8c283240b3c6eb13ddd71db7a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 3 20:45:09 2007 +0100

    [PATCH] Make sure the fio_options[] members are always zero filled
    
    Make sure the remaining members are cleared, to avoid confusion.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9c1f7434526606fc8a4296190a2dea5de2651266
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 3 20:43:19 2007 +0100

    [PATCH] Add thinktime_blocks
    
    Right now 'thinktime' waits after every IO. This may not be what you
    need, sometimes you want to wait only after 'x' number of ios. This
    options allows you to set the number of ios to complete, before waiting.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ef9c5c40a9f4b0ce3be9f13cedaaf7e2a90d47a6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 3 14:21:13 2007 +0100

    [PATCH] Fix deviation overflow
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e6d276f2c07cc35f3d57210713e8288bb44daf97
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Jan 3 11:10:27 2007 +0100

    [PATCH] Fix division by zero in deviance calculation
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b1610092518cc4e6797525a2f6ca5a3d47383826
Author: Pascal Bleser <guru@unixtech.be>
Date:   Tue Jan 2 09:17:03 2007 +0100

    [PATCH] Split CFLAGS into OPTFLAGS + CFLAGS
    
    Makes it easier to control rpm generation.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 60c641c7b240b2294b611a11848399dc405ee118
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Jan 2 09:15:36 2007 +0100

    [PATCH] Don't create libdir
    
    Since we link in io engines, we don't need to create the libdir anymore.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bde52831e17be20156de1d8670ca9ff582c89412
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 22 21:02:44 2006 +0100

    [PATCH] Don't dump optarg on unknown option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 63c0669889dc4b01537dff35005e72073ac39d32
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 22 20:54:06 2006 +0100

    [PATCH] Version 1.10
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 313cb206ffc6e50c089314d322ebf1c523f37531
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Dec 21 09:50:00 2006 +0100

    [PATCH] Allow mem=mmap to also use a file backing
    
    We have the stuff in place for huge page backed memory, so it's little
    extra code to support io buffers inside mmap file backed memory.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c51074e7f095ad74114d7e0981f2e6f514b0f758
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 20:28:33 2006 +0100

    [PATCH] Warning on hugepage-size setting in HOWTO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 56bb17f297c50b2832c845b0f6cdde5063748b34
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 20:27:36 2006 +0100

    [PATCH] Add hugepage-size option
    
    We default to 4MiB, but export the setting so it can be changed.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5394ae5fc8dabc3a69b7c58550e21926461853ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 20:15:41 2006 +0100

    [PATCH] Document how to setup/use huge pages
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d2324417d8a06b0d0b7c331a0d004155f3a7bd48
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 14:42:17 2006 +0100

    [PATCH] Remove debug fprintfs
    
    Oops, leftover from the mmaphuge commit.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d0bdaf49eb3f4faa941d02274f2bd875a187e7d7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 14:40:44 2006 +0100

    [PATCH] Support for mmap of hugetlb files as memory backing
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e0a223354342cc45a916b669343718b80a20c2ea
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 12:54:25 2006 +0100

    [PATCH] Fix character + O_DIRECT
    
    Just clear ->odirect if it's a character device, it doesn't apply.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0268b8ba7b2c79c669323cb1fcc0b045b84313f1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 12:48:23 2006 +0100

    [PATCH] Fix hugetlb problems
    
    Alignment was bad, and we need to check the shmhuge string before shm,
    otherwise it'll match the latter.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ee88470c001012d08ae37bfc31741a935be2e7a1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Dec 20 10:58:07 2006 +0100

    [PATCH] Must use ->real_file_size
    
    ->file_size is the size of the file from offset, while ->real_file_size
    is the total size of the file. So when comparing EOF, we should look
    at ->real_file_size against the offset.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 74b025b071b5bfbffa7ad7682b66b749e8d1f955
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 19 15:18:14 2006 +0100

    [PATCH] Support for hugetlb backed shared memory
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9b031dc82192e884c1d6da9c86f047ecb9ef5c3a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 15 16:01:54 2006 +0100

    [PATCH] Only unlink for created files
    
    If the file was already there, don't unlink it.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 178d11f29ffc50c46d907129ee81c3b41f48c926
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Dec 15 13:11:24 2006 +0100

    [PATCH] Make unlink and overwrite the default
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 871c0fc7c3af41dea5879dec5308ab095cf10c82
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 5 11:56:56 2006 +0100

    [PATCH] Fix FreeBSD/Solaris linkage
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 1e97cce9f5a87a67293a05ec4533ed6968698b2e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Dec 5 11:44:16 2006 +0100

    [PATCH] Fix warnings from icc
    
    icc spewed a bunch of warnings on building fio, but it did actually build
    and work. Some of them are real bugs, most are just "helpful" warnings.
    
    icc doesn't like pointer arithmetic, however these are not fixed up. It
    works as-is, just ignore those class of warnings.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 36dff96650e663e972d7f4318710d5730adaeb90
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 13:29:20 2006 +0100

    [PATCH] rusage stat
    
    Sum up total over all loops, not for each one.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 690089990d051d86b4ef2b6fd5c1972c0dd4897b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 13:12:56 2006 +0100

    [PATCH] Improve time accounting for a job
    
    We need to account loop time in usecs, or the null io engine can
    get the timing wrong. For the system usage stats, don't use summed
    up loop counts, but calculate end-start time instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 08aae9a0d5f3d24152abd7515984439bbfd3c05d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 12:43:49 2006 +0100

    [PATCH] Update ioengine help text
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a94ea28b13429c38036546c36bcfd7355dc1441d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 12:37:34 2006 +0100

    [PATCH] 'null' ioengine
    
    Add a null io engine, which can be used to exercise and test/debug fio
    itself. It doesn't transfer any data, just pretends to.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bdc7211e190482f0c17c109a0d90834a6611be1c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 10:54:06 2006 +0100

    [PATCH] Fix time debug compile
    
    If FIO_TIME_DEBUG gets enabled, we need hash.h.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f5cc024a0ab9f51b1cb9fcd980b85199bdf011b0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 10:47:40 2006 +0100

    [PATCH] Comment typo
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 02bcaa8c31feb93c61b701d143a7eea3efd2124d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 24 10:42:00 2006 +0100

    [PATCH] Time and seek optimizations
    
    We did too many gettimeofday() calls, this patch cuts the number by
    40%. Use clock_gettime() MONOTONIC instead, it is faster on my system
    at least.
    
    This patch also optimizes calling lseek() only when necessary for the
    sync io engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c11883f748f8f192fc6b4b0ec25add8781a8f4a8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 23 15:11:53 2006 +0100

    [PATCH] Get rid of FIO_INST_PREFIX
    
    We don't need it anymore, since we link in known io engines and unknown
    ones have to be given with a full path.
    
    Also fixup Makefiles for Solaris and FreeBSD, they were a bit outdated.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7abf833d25ab6cc866308fe37483dfe2fde28efc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 23 15:01:19 2006 +0100

    [PATCH] Close files on error
    
    The error path doesn't close already opened files. Also set
    O_SYNC regardless of file type.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 21972cdef7db6b557c2d56138f8434658a9d1e49
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 23 12:39:16 2006 +0100

    [PATCH] Always open the files from the job itself
    
    This way we don't fork or spawn threads and make them inherit the open
    file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 132ad46d22bcf12da95ad69e03c1b6f23f5e60a9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 23 12:23:12 2006 +0100

    [PATCH] File close fix
    
    We should unlink and invalidate a closed file, to less impact on
    other threads or pending jobs.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 4d2413c685796b016ab076337ddc5545c3f6ab5b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 23 11:58:59 2006 +0100

    [PATCH] fsync and stonewall fix
    
    We should not terminate threads that haven't been started yet.
    The fsync check was bad, it should look at td->error.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 08e26e3579fdae51cc9aafc71a80c638563bf2cd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 21 13:15:10 2006 +0100

    [PATCH] Don't segfault on missing argument data
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f697125ab9003d358a37186d610e09799afd190f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 15 10:00:31 2006 +0100

    [PATCH] nrfiles > 1 random fix
    
    We should only generate a block within the specific file size, not
    the total io size.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 245142ff7554290cf666e3ef6b7b57512bf17d75
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 8 12:49:21 2006 +0100

    [PATCH] Fix signedness issue
    
    Don't compare standard char to -1.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 830a78b057d23f64f96732835940f454fb307b1e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 8 09:58:59 2006 +0100

    [PATCH] Improve skeleton example
    
    Fill out stub functions and comments. Mark required vs not required
    io_engine hooks.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit da51c0505c753f64ad5f65808377b8f67b445828
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 16:02:11 2006 +0100

    [PATCH] Add skeleton external io engine
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f350952eff89948bfbf1eb6ac4d3d08a9109581
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 15:20:59 2006 +0100

    [PATCH] Link in known io engines
    
    No real point in using dlopen() to find engines we know about. We still
    support loading external modules, just give the name as the full path
    to such a file.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit be67e2de7961e849d5ad82e8c9206377c325b7c8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 14:33:15 2006 +0100

    [PATCH] Version 1.9
    
    A few stupid problems with 1.8, so release 1.9.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 92b586f8ec428c23a88eea838afadc00331d4bb4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 14:29:17 2006 +0100

    [PATCH] Fix options with no parameters
    
    Got broken yesterday, with the addition of the comma separated entries.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 98aa62d863d78aaa725c37f2588aba415f5b224c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 14:16:19 2006 +0100

    [PATCH] Remove rate_quit remnants
    
    The option was lost in the option unification, and it can be handled
    equally well with 'exitall'.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb781c758e5df7ff4c6f655c1e4f9df3043a4be9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 14:02:48 2006 +0100

    [PATCH] Missing memset and free-on-error in io engines
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 3c9b60c1fb144950ca51220ffa18f485672c3ba6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Nov 7 08:36:14 2006 +0100

    [PATCH] Warn on writable strings
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5c1014b7aed20dcb4af602239d8f5f53d1e3160e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 14:51:58 2006 +0100

    [PATCH] Forgot to include 'M' as a unit postfix
    
    We skipped from K to G, forgetting 'M' in between...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c3054f90aa0d7f258eccbdd91c21c9fd8f81736a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 14:21:49 2006 +0100

    [PATCH] Version 1.8
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f8977ee606bc51138a77f6a1b653df00faa77742
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 14:03:03 2006 +0100

    [PATCH] Print pretty bs values
    
    Convert 1024 to 1K and so on.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 787f7e95a3fb3bbe88431da53337bb9551d2357c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 13:26:29 2006 +0100

    [PATCH] Allow leading , in multi setting parameter
    
    Allow only setting of the write end of the sizes by having an empty
    text for the read side - example, use bs=,8k to just set the write
    side and leave the read side with the default value.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 17abbe89b8d3a4c7a4deab00a7cc98fbd215f1ef
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 11:23:10 2006 +0100

    [PATCH] Cleanup 2nd argument set parsing/setting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f90eff5a414f6e8c16a51c3a7d9b5e077ab49aac
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Nov 6 11:08:21 2006 +0100

    [PATCH] bs= and bsrange= takes both read and write sizes
    
    Get rid of read_bs/write_bs and read_bsrange/write_bsrange. It was ugly
    and too complicated. Instead support giving both values in a single bs=
    or bsrange= seperated by a comma.
    
    Example: bs=1k,4k will use 1k blocks for reads, 4k blocks for writes.
    	 bs=32k will use 32k blocks for both reads and writes.
    
    Similar for bsrange=
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6c21976321b14966466cdcd7a1636c303ecf43c0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 3 15:51:45 2006 +0100

    [PATCH] HOWTO spelling fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c7b0818d2a9d1b8597256ea002d9cf9346ea97f3
Merge: 34cfcda 6043c57
Author: Jens Axboe <axboe@nelson.home.kernel.dk>
Date:   Fri Nov 3 14:00:49 2006 +0100

    Merge branch 'master' of ssh://router/data/git/fio

commit 34cfcdafa994a0a75120e498c51eda08bde5df72
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 3 14:00:45 2006 +0100

    [PATCH] Make fio build again on "crippled" platforms
    
    Some time in the future we want a proper configure setup and only
    install the supported io engines, for now install limited versions
    that just complain on initialization.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c06aa240c904becbafb8457ed3b828cf0d38a180
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 3 13:48:49 2006 +0100

    [PATCH] Kill old libaio/posixaio checks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6043c5790f9978814ec25e3ea8f4d574daf6266e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 3 11:37:47 2006 +0100

    [PATCH] Add in-progress io rate
    
    Dumped along with percentage and eta.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb19ce5a38404dcb14334a2c2300fd065958a28e
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Nov 3 11:01:01 2006 +0100

    [PATCH] Makefile update

commit 75e6f36fae06978f29296fce76a7f00ca0df7b56
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Nov 3 08:17:09 2006 +0100

    [PATCH] Fix int vs long problems in parsing some options
    
    The type needs to match strictly, or we get into problems on big
    endian architectures.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a00735e66f9ec42549da94eba3170e543b542904
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Nov 3 08:58:08 2006 +0100

    [PATCH] Add seperate read/write block size options
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c7c280ed2e4f836bd8e9e125d55d097539b70e21
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 20:10:33 2006 +0100

    [PATCH] Fix random_map
    
    If alignment was unlucky, we would underestimate the num_maps entry
    by 1.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6abd53b5bb7755f1031b43eec2716cf044ccc654
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 09:23:19 2006 +0100

    [PATCH] fsx example
    
    write_iolog was just to verify that it worked, remove that again.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0bbab0e789d4d8438d63327da052d64b45f0596a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 09:18:36 2006 +0100

    [PATCH] String copy limiting fixes
    
    Avoid overflows when we can.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b1508cf9ead36dc789a4e289f7522a070e57058c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 09:12:40 2006 +0100

    [PATCH] Improve job/cmd line parsing error logging
    
    Drop jobs when needed and so on.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c7118c7ade7b63d9107ecd5c7168391ce4aaf1a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 08:51:52 2006 +0100

    [PATCH] Add sample fsx job file
    
    It simulates what a "normal" fsx run does. fsx-linux can also do read/write
    or mmap io, change ioengine= to mimic that instead.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5f599d8eae80112b585aabb63b595965689ae4b8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Nov 2 08:45:53 2006 +0100

    [PATCH] Print an error when parsing a job option fails
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 66eeb2963730871049b7d938c685188ef63d865a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Nov 1 08:35:44 2006 +0100

    [PATCH] Signedness warning
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6b9cea23c22c218625b68eca63da38089b299846
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 17:00:24 2006 +0100

    [PATCH] Randomly fill output buffers
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 690adba373bb8c97a365c67da369e265953c4b4c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 15:25:09 2006 +0100

    [PATCH] Add 'bs_unaligned' option
    
    If this is specified with 'bsrange', fio will use any byte size value
    in the bs range for an io unit buffer length. Normally fio defaults to
    using a multiple of the minimum bs size, as that is required for any
    type of raw io.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit bb8895e07c6d6417410545f45d34b1b7916cd90a
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 15:14:48 2006 +0100

    [PATCH] Add 'norandommap' option
    
    With this option given, fio will not keep track of what parts of a file
    has been read/written or not. So for random io, we may read/write a block
    a block more than once (or not at all). Thus this option conflicts with
    doing write verification.
    
    This is a first step for doing truly randomly sized blocks of io.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7c124ac153eebf48bc85f9033ae06fd7152e4216
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 13:36:52 2006 +0100

    [PATCH] Improve job file parsing
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fee3bb48f748afe5cf10f8505e1efd36b87c627e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 13:32:08 2006 +0100

    [PATCH] Potential overflow and unused variable
    
    'tmpbuf' was unused. Limit [name] entry to 255 chars to avoid
    overflowing the buffer.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 16b462aeb47996111ee6aa516c9226708db7c248
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 12:35:18 2006 +0100

    [PATCH] Move the other parameter fixup code into fixup_options()
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 549577a728fc3bacbfea8978c4f514cef5b073dc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 12:23:41 2006 +0100

    [PATCH] Don't put_job() on def_thread
    
    It's not accounted.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 38d0adb0d129e2eef7bf21e85ba4758c3789cb8e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 12:21:25 2006 +0100

    [PATCH] Typo: jobname is 'val', not 'opt'
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c2b1e753ca7abaca7f177cb1ca5087ca3971542b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 30 09:03:13 2006 +0100

    [PATCH] Add support for multiple jobs on the command line
    
    Give --name the special meaning of starting a new job (and adding
    the previous). Now the command line is just as powerful as the
    job files.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b765a37296e6a08b6e06d9186832546a18b0d2d7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 15:00:16 2006 +0200

    [PATCH] Fix modification of const string
    
    Copy 'ptr' to local storage first.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b6e25da4225ca990f6997d2d60fe96a7b51d4661
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 14:36:26 2006 +0200

    [PATCH] FIO_OPT_RANGE breakage
    
    After terminating the first string, remember to reset the pointer to the
    beginning of the string.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 9158d2f7d9cea04a3f0cbe0817c697c0ba6e8b48
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 14:27:39 2006 +0200

    [PATCH] Options must be integer
    
    Make all char options integers, to avoid having to introduce a
    char parse type.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b46928282e0a890f49250e79b81af773a2b7108f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 13:43:22 2006 +0200

    [PATCH] Add full command line parameter support
    
    You may now give full job options on the command line. Makes it easier
    to script fio or for one-off runs, as you don't have to write a job file
    and run that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 33963c6c5f79b89ab93b570e51f68f6abb77c128
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 11:33:01 2006 +0200

    [PATCH] parse cleanups
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f48b467cba78af0843c7320caf841e2bee72fb1e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 11:30:07 2006 +0200

    [PATCH cpu io threads need not have lots of stuff setup
    
    Everything that has to do with io can be skipped.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 076efc7c60c351df783960a646e7fe8fba29dc19
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 11:24:25 2006 +0200

    [PATCH] Improve io logging
    
    write_iolog was broken. Change iolog= to read_iolog= to keep things
    nicely seperated.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dad915e36819e74c4540db19faae488ede963ee4
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 11:10:18 2006 +0200

    [PATCH] Fixup iolog config setting
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e1f365035a952233463d85d659bd960ba78f012e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 10:54:08 2006 +0200

    [PATCH] Abstract option handling
    
    Instead of parsing manually, we abstract out everything so parse.[ch] is
    now a generic config file parser. This is the next step towards unifying
    command and job options.
    
    I'm sure I broke plenty of options in the process...
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eaf09db4239ccf364c251d3fa493ef1cb41009cb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 27 10:45:12 2006 +0200

    [PATCH] libaio sign error
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit cb2c86fdf03241fee32fd2e2caff43af1022403c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 26 13:48:34 2006 +0200

    [PATCH] Split config name parse functions into parse.c
    
    The plan is to add command line options that mirror the config options,
    so fio will be easier to script.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e0da9bc2488b7f02f14c121d2abed58e6a1ca24d
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 25 13:08:57 2006 +0200

    [PATCH] Update HOWTO
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 40f8298cd252157fa15d93f8eb470116a94069a0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 25 11:21:05 2006 +0200

    [PATCH] Use posix_fallocate() to force file layout
    
    Dunno how well this works on all filesystems, but at least it's
    a good hint to send wrt fragmentation and layout.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 71bfa161f13b6fca98ba215ebebbcb5c99003d24
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 25 11:08:19 2006 +0200

    [PATCH] Add HOWTO
    
    This file contains more detailed usage information, and a fuller
    description of the job file parameters.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 353a7e0eb6d80d03016b2ce639f33c554e8546b7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 25 09:16:07 2006 +0200

    [PATCH] ->queue() error handling
    
    We return 1/0 for failure/success and put the error in io_u->error.
    The libaio engine didn't quite do that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 795407caa899ae9b430361ee12543aee41a8e418
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 19:42:44 2006 +0200

    [PATCH] README updates
    
    Put related options closer together.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 6040dabcaaf29ecea9c68735a4d3a6ad6411f573
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 19:38:15 2006 +0200

    [PATCH] Make ->buflen == 0 on SYNC io_u's
    
    It eases the error handling in the splice and sync io engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b50b87559205b4758deba7c547ab07bf6f2e8ff8
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 19:05:53 2006 +0200

    [PATCH] Document filename= option
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8e9fe637622aab409101c90d26670375a50ff4f3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 15:11:09 2006 +0200

    [PATCH] License update
    
    We target GPL v2 exclusively. Also note that this covers all files
    distributed with fio, not just fio.c itself.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 858a3d476060cfb1ea5dfbdffd94ed3108f194eb
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 14:54:44 2006 +0200

    [PATCH] Move td_io_sync()
    
    It's not an io engine operation anymore, so move it to fio.c, make
    it static, and rename it to fio_io_sync().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b907a5b5c708b2620685a866b3b0bcd0d2657e54
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 14:46:13 2006 +0200

    [PATCH] mmap io engine had broken sync
    
    It returned from ->queue() too quickly, it still needs to set the
    last event handler.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 87dc1ab1b4df7b977f60e3d43533a896e2ee665b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 14:41:26 2006 +0200

    [PATCH] Implement file syncing as data direction
    
    Instead of defining a seperate ->sync() operation for the io engine,
    reuse the io_u infrastructure for committing and reaping sync
    events as well. It's a nice cleanup as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit dfd7bc2c24d3a4281982eaf4f83aa1aeb09424de
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 12:17:57 2006 +0200

    [PATCH] Shrink io_u a little
    
    ->index and ->seen can share the same space, they are both io engine
    private.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d55954f4857da597b2620f2417678eec47285666
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 10:31:37 2006 +0200

    [PATCH] f->fileno is not used
    
    Remove it
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c21ac0fff997a382929d1a53cf32d841fc35549f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 10:27:38 2006 +0200

    [PATCH] Only unlink the same file once
    
    If filename= is used, make sure we only do the unlink() once.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 56f9498d8588d42df2a41a7eb7ebcffef013a339
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 09:33:42 2006 +0200

    [PATCH] Revert some of the leak fixes
    
    If the options are given as part of the global thread, the others
    inherit the memory and thus cannot free it. Since it doesn't matter
    a lot (we are talking a few hundred bytes), just leave the memory
    as-is.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 13f8e2d2e3e5ec7d8c18b70fb2a2e2a026190020
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 24 09:29:45 2006 +0200

    [PATCH] Add option to specify the exact file used
    
    Fio typically just makes up a filename for a job, but sometimes you want
    to explicitly reuse the same file for multiple jobs. Add a filename=
    option to cater to that.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit eecf272f1b2d55c1e49aadd7f65b9a433ba04c15
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 14:00:36 2006 +0200

    [PATCH] Plug a few more leaks
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b4a6a59a939f0e6554632de311e7d1d1b7633ccf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 13:54:47 2006 +0200

    [PATCH] Be nicer about cleaning up allocated memory
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 8c16d840377c1e6fb79f479ee60590a2da5b52ee
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 11:48:33 2006 +0200

    [PATCH] Sanity check ops on loaded io engine
    
    We require certain handlers to be there, or fio will either
    malfunction or crash.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit df415585cd9c54472b7aa77b9eca6206ab0cbb4f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 11:41:03 2006 +0200

    [PATCH] Move related code next to each other
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 10ba535a5cbb95b5576e33a6f8af093a6ca3bfd7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 11:39:27 2006 +0200

    [PATCH] Split the io_u io handling out of fio.c
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2f9ade3cb72218eb260f4f5e6914218bdcaa2bcc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 11:25:52 2006 +0200

    [PATCH] Split out the memory handling from fio.c
    
    In the process also fix some bugs in the memory pinning.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2e7964b8f84782afe665d8ae549c2910320e247f
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 11:00:14 2006 +0200

    [PATCH] disk zone example needs write_bw_log
    
    Less confusing now, since you can just run the job file. Before you
    needed to know that -w was needed for the job to be meaningful.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ec94ec567cae47f91fa31a18250c2a7a0029d2ad
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 10:59:19 2006 +0200

    [PATCH] Add bw/lat log as job options
    
    Currently you need to specify -l or -w, make them available as
    a job config option as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0a7eb121ecb2e4279e9eb8178aa1e554dda40191
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 10:36:42 2006 +0200

    [PATCH] More size fixes
    
    Clean it up so that the create/non-create/bdev paths are the same
    to avoid further problems in this area.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f102706350093e60617cc271b128e56c57ab3ce7
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 10:14:01 2006 +0200

    [PATCH] Fixup io size on block devices
    
    Still leftover bugs from the > 1 file per job changes.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 34572e28f8cf45ba4e2601797f2aa4a114601fb2
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 09:33:18 2006 +0200

    [PATCH] Add for_each_td()
    
    Similar to for_each_file(), just iterates over each td we know about.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2953f5751ed8603b2f9ed89231a0dff6716ff151
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 09:20:11 2006 +0200

    [PATCH] Only the posixaio engine needs to link against -lrt
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit fb71fbd73027a2d6202be9b9b1480bb845ea52df
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 09:15:46 2006 +0200

    [PATCH] Cleanup iolog handling
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 841ddd1322abbb48b2afe25712b4303dbf8cc5de
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 20 09:07:46 2006 +0200

    [PATCH] Automatically adjust iodepth for nr_files
    
    If iodepth isn't directly specified, allocate 1 io_u per file to
    avoid serializing the workload. If iodepth is specified, use whatever
    value was given as previously.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 25205e975e6dce6079a4b94d656724011f1aabd0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 19 20:50:14 2006 +0200

    [PATCH] File creation and info fixes
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 74939e38e5164682a57cbe2dfdced09b35cd0259
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 19 20:37:12 2006 +0200

    [PATCH] Total io size / eta fix
    
    Inadvertently the files were counted twice, hence ETA ended at 50%.
    This was also the real bug for the verify ETA fixed a few days ago,
    so reinstate the proper check when doing verifies as well.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 84585003d025a38b91749cb0d68f6b5653d1f1a3
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 19 20:26:22 2006 +0200

    [PATCH] Fix a bunch of bugs
    
    - engines/fio-engine-libaio.o needs to link against -laio and fio need not
      anymore. This caused funky crashes with libaio io engine.
    
    - Fix a few bugs in the libaio engine.
    
    - Only do sync/cleanup in do_io() if we exit without error.
    
    - ->io_ops may be NULL in reap_threads(), if the job exited.
    
    - Allocate io engine, don't reuse the dlopen() object.
    
    - Overlapping sprintf() in init_disk_util().
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 7313b48c3196b4750f4103e8622126039e2231c6
Merge: 7a16dd0 e5b401d
Author: Jens Axboe <axboe@nelson.home.kernel.dk>
Date:   Thu Oct 19 08:48:32 2006 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit 7a16dd027f83d7ff8ff0e72bb6bb12fae046fcbf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 17:21:58 2006 +0200

    [PATCH] Make io engines -W clean
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 0ab8db8943acc6b9ea778735563bfad2a79e8ddd
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 17:16:23 2006 +0200

    [PATCH] Make fio -W clean again
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e5b401d4bf67a1704f28872d3abe09eaf65cdabe
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 16:03:40 2006 +0200

    [PATCH] Sync and invalidate cache prior to running verify
    
    Make sure we re-read the contents from disk, not from memory.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit a9619d44b439ac9c0d292925a5b4fd1b944d1263
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:47:42 2006 +0200

    [PATCH] More verify code move
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e29d1b70a21e29801fb35dfbc1b236b7c8514055
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:43:15 2006 +0200

    [PATCH] Split out the verify io parts
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 263e529f7d90892a610a5b26a519116fe3a675a6
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:37:01 2006 +0200

    [PATCH] Split status/eta code out of fio.c
    
    All in the name of making the code base easier to go through.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 45bee2836ad7d5e2d70ed72cc3341fdfa97c934b
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:26:44 2006 +0200

    [PATCH] Cleanup the io engine methods
    
    Always use td_io_#name so that it's clear that we are calling
    into the io engine.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit e732426492c17fcd3a7a47d90c00eeabf5ea65d9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:14:35 2006 +0200

    [PATCH] Verify eta time fix
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d9257beae0247e694c0d7c286a4088a2ebc53ccf
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 15:06:22 2006 +0200

    [PATCH] mmap: fix bug introduced with the io engine split
    
    We never initialized the mmap area, because it forgot
    to get FIO_MMAPIO.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit f6cbb269c54ff40f3922818d42117f5a8026df36
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 14:16:42 2006 +0200

    [PATCH] Add support for unlinking io files
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b2a151925a91f38aeb298d693687a47269ad4e94
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 14:10:42 2006 +0200

    [PATCH Various fixes
    
    - Multiple files fixes
    - Fix for unaligned io issued for raw io
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 53cdc6864f7471b28cc9b40a5314ab43e5b1cb5e
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Wed Oct 18 11:50:58 2006 +0200

    [PATCH] First cut at supporting > 1 file per job
    
    This is likely very buggy, a simple test works though.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit aad39f4a045ea562c8e4b93db194d65d1e3570db
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Fri Oct 13 09:06:13 2006 +0000

    [PATCH] engines/Makefile should use -g as well
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit df64119de537aba99c85d1dc80190b354589f8b9
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 12 07:55:41 2006 +0200

    [PATCH] Fix segfault if ioengine isn't set
    
    Don't do it in the ioengine_cb callback, it needs to be done
    unconditionally.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit ea2877a4ab0fb047a503ba0d7a0fd5393d0fb099
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Tue Oct 10 08:30:24 2006 +0200

    [PATCH] Allow io engine to do the file setup
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit c1d5725eaad49dbf5b3a05c27b0b3677af69f64c
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 9 19:56:04 2006 +0200

    [PATCH] Don't hardcode ioengine path
    
    Use the prefix in the Makefile, so it can be packaged properly.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 5540fe2e6e8235a6f4d0a0a6857c80749ad7cacc
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 9 16:19:29 2006 +0200

    [PATCH] engines/Makefile had extra LIBS line
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b902ceb53977a12062c615ab529ca0c3422e3cff
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 9 16:11:45 2006 +0200

    [PATCH] Remember to check ioops version in loaded module
    
    It could be for an older version of fio, reject failed version.
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit d4dbaaa821b9d3dd34ca002d1976d4f924a07a47
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 9 16:01:27 2006 +0200

    [PATCH] Fixup failure to load io engine object logging
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 2866c82d598e30604d8a92723c664ee6ced90fb0
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Mon Oct 9 15:57:48 2006 +0200

    [PATCH] Separate io engines into separate loadable objects
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit 97fbdfa1a48a6b535d420e3f53bcb62ed4eff3f1
Author: Jens Axboe <jens.axboe@oracle.com>
Date:   Thu Oct 5 13:44:15 2006 +0200

    [PATCH] Fix compile on hosts that have the splice stuff included
    
    Newer distros (FC6-test3 at least) do have the splice syscall and
    flag definitions, so check for that in os-linux.h
    
    Signed-off-by: Jens Axboe <jens.axboe@oracle.com>

commit b990b5c06801d6d25e3fcc5415efbbe7bb23341e
Author: Jens Axboe <axboe@kernel.dk>
Date:   Thu Sep 14 09:48:22 2006 +0200

    [PATCH] Basic support for a cpu cycle eater job
    
    This will allow you to put some cpu load on the box, while other
    threads are doing IO.

commit aae22ca71e8f5ac94a79f5dee161533a25852f6c
Author: Jens Axboe <axboe@kernel.dk>
Date:   Tue Sep 5 10:46:22 2006 +0200

    [PATCH] email update

commit 774a617767830b5023f6cad4a45609a92ec82d41
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Aug 24 08:44:26 2006 +0200

    [PATCH] Correct command line parsing
    
    It worked if you used -t10, but not -t 10. Correct the idx++ usage to
    just match optind instead, then things just work.
    
    Problem reported by "Randy.Dunlap" <rdunlap@xenotime.net>

commit 40718e3ed151411d9979b9b1c06fd76e5726eae8
Author: Randy.Dunlap <rdunlap@xenotime.net>
Date:   Thu Aug 24 08:39:05 2006 +0200

    [PATCH] Drop "-f jobfile" from usage help

commit 34e95e3b07f44da3bad86e8d5253f4ff71871221
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Aug 16 15:17:21 2006 +0200

    [PATCH] libaio returns long, not int

commit 30521453f2f1913657c30874dcc1c18abff7a46d
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jul 28 15:05:34 2006 +0200

    [PATCH] Only print eta when we have nr_running > 0

commit 3307d653f9cfc05b9c02e4cda91e6b45444dc1b0
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jul 17 18:15:41 2006 +0200

    [PATCH] Use lstat() instead of stat() in sysfs lookup
    
    Otherwise we cannot detect the symlinks, and the directory
    lookup will get into an infinite loop.

commit af959a78acda575cc7d3ffea0a8421e0574d0955
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jul 13 14:36:02 2006 -0700

    [PATCH] Fix timout variable setting
    
    By mistake, it assigned the temporary timeout to ull, but
    set ->timeout to ul1.

commit 1056eaadb88722da0803f4d8a45dae9d5015f5e6
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jul 13 10:33:45 2006 -0700

    [PATCH] Fixup nice() return value and duplicate volatiles

commit ea421790658582e392c5bb562ff461f8f5c71844
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jul 11 09:11:07 2006 +0200

    [PATCH] Get _syscallX() functions from <linux/unistd.h>

commit 2e77841b9bc7f99ffd1caa2c2c84af2a66731658
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 16 10:00:50 2006 +0200

    [PATCH] Remove redundant -f job option
    
    It just confuses the job file setup.

commit 0c7e37a04aa04ba22e812f8de7971fcef46b8191
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 13 14:53:38 2006 +0200

    [PATCH] Stonewalling wasn't properly done in some circumstances
    
    We don't want to stonewall individual jobs in a file, but that
    happened inadvertently with the multi file change. Get it right,
    stonewall the first job in all files except the first.

commit f4866ec5515d8ee329bd904764212489efc8cba2
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 13 09:38:36 2006 +0200

    [PATCH fio-1.5

commit 906c8d75eef9247c02d1f1f6771b6fa2338329fa
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 13 09:37:56 2006 +0200

    [PATCH] Various little fixes and lots of commenting

commit 9cc935a15e2ca54e6bdff4c18bd432dff3fbfaee
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 13 09:11:18 2006 +0200

    [PATCH] Remove last remnants of file extending

commit e4f26f0245491bcb4b10606e50f075c586687f16
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 15:21:44 2006 +0200

    [PATCH] Always create full file, don't extend

commit a71e13bb81c7943d9524e26cbad9534519ca6e2e
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 15:17:03 2006 +0200

    [PATCH] Pass full required size into create_file()

commit c20d25b436e7934a622974de5b20bbd5de24e3f1
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 14:56:43 2006 +0200

    [PATCH] Fix non-overwrite bug

commit c6ae0a5b8123ea9af2ce70319081fbd5d65c8093
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 11:04:44 2006 +0200

    [PATCH] Add option for terse parseable output

commit 727097a1f2a12096075ccfc30785180cf505ec77
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 10:40:03 2006 +0200

    [PATCH] Don't hide submission latency numbers, even if they are 0.

commit 1618495b30517fb10f6e47c052689dc57ff78df7
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 10:28:06 2006 +0200

    [PATCH] Check and error for graph generation if gnuplot isn't available

commit 47623c728080867966cc692ee85308f1b6afc38d
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 10:23:28 2006 +0200

    [PATCH] Update usage() text to match options

commit 9ebc27e1352b905fe3396ce2350a7765fe9c57b8
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 12 10:21:50 2006 +0200

    [PATCH] Remove the old job command line options
    
    It's all possible to specify in the job file.

commit f94819192600fe35d03ebed26a803abdc2b9864c
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 9 11:37:28 2006 +0200

    [PATCH] Make it easier to match up filename and job number

commit 88c6ed8085efd1403fd34072311991cb666a5b9e
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 9 11:28:10 2006 +0200

    [PATCH] Misc: stall progress ouput during file creation, ini_file frees.

commit 972cfd2546081c0397447ca9243ea419b1ff579a
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 9 11:08:56 2006 +0200

    [PATCH] Add support for giving multiple job files

commit 798091133938db311ceb6946ee86f548ed2b3aaa
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 9 10:14:54 2006 +0200

    [PATCH] Documentation updates

commit 3b70d7e51e0b672a8b337c57c8faf865c0b7f415
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 21:48:46 2006 +0200

    [PATCH] When logging to a file, stderr should go both to stderr and file

commit eb8bbf48e79a8c6afd3c84e3d64263d10ee45daa
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 21:40:11 2006 +0200

    [PATCH] Enable output logging to file instead of stdout

commit 71a751cec2d59ceb0e5521e49073eeb8741ab7f2
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 14:48:47 2006 +0200

    [PATCH] Also print pending string if some threads have yet to run

commit f44c1d464a5a6583cd0b6e6068257988b5e5e403
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 14:46:24 2006 +0200

    [PATCH] Improve run_str[] updates and printing

commit 5853e5a89c5af1a05c20698091ade9b7d63bcbec
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 14:41:05 2006 +0200

    [PATCH] Note when thread is fsyncing

commit edffcb960ce2c04716f83f75a4901723dd00e587
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 13:40:18 2006 +0200

    [PATCH] Docu update

commit 7d4247639268fdcc1769fc57564d79791042950d
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 13:26:31 2006 +0200

    [PATCH] Remember to define OS_O_DIRECT to OS type if available

commit 2c0ecd28459b6a1b236c865defb5ef76ce8bfa02
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 13:25:41 2006 +0200

    [PATCH] Compile and works on OpenSolaris (tested on BeleniX)

commit e463f17941b272078e9c3d3e043f486b92c85be9
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 11:03:18 2006 +0200

    [PATCH] Let thread exit cleanup the small allocs
    
    Makes it easier to just inherit the allocations.

commit ddaeaa5ab1e3f1cb6f35a9f4a18ee932151a0ab8
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 8 11:00:58 2006 +0200

    [PATCH] 'parent' is always set in get_new_job()
    
    So just inherit everything with a structure copy, clear/set unrelated
    or allocated fields.

commit 4f693b9de45f8fe4a893bd4c3de7c3dc17979386
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 22:52:28 2006 +0200

    [PATCH] Warn on conflicting read/write iolog

commit c1ee2ca464edd8b1d4513275aeec15dadb9583af
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 22:42:37 2006 +0200

    [PATCH] rwmix seed got broken with random abstraction, fixup

commit af8c0b4f06fa2ebb4eaeb4601b16e2ed08f2b845
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 22:33:17 2006 +0200

    [PATCH] Broken write_iolog option if iolog given
    
    We don't want to reject the option as bad, just ignore it.

commit 6d6f031f036f0cead85b92211751fa9613c81862
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 21:39:13 2006 +0200

    [PATCH] fio.h is missing unistd.h include

commit e9c047a0d8dfc32634b896e1600c6f1aa4174378
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 21:13:04 2006 +0200

    [PATCH] Cleanups and 'td' size reduction

commit bbfd6b00dea4daee05133c8cb991b78d091df9ae
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 19:42:54 2006 +0200

    [PATCH] Easy process shared semaphores
    
    We really need a pshared semaphore, but those aren't always available.
    Just implement a cruddy local semaphore type, fio only really needs
    to signal start/stop conditions.

commit 5c4e1dbc4ec6ee963220c5f4e64a04cd6130dc81
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 14:17:08 2006 +0200

    [PATCH] Final FreeBSD compile fixups
    
    It actually builds now!

commit 6dfd46b99af38cc1e5f702f53c59212129fe615e
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 13:57:06 2006 +0200

    [PATCH] OS abstract out the random seed and value retrieval
    
    This is pretty crappy on FreeBSD, the seed function doesn't seed the
    state we want. But it works, so it'll have to suffice for now...

commit 32cd46a085ac60f4f8b085e2d65ebfc6100bb8c5
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 13:40:40 2006 +0200

    [PATCH] Get closer to FreeBSD compile

commit 22f78b320a8d2ffa32b5736fe754c108a8d21525
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 11:30:07 2006 +0200

    [PATCH] Guard ioscheduler= option with FIO_HAVE_IOSCHED_SWITCH

commit 8914a9d83c67a2ead861ac997a1d4b06d02639bc
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 11:14:56 2006 +0200

    [PATCH] More function moving

commit 45410acb636e526575d62a037f81ade7916b738c
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 11:10:39 2006 +0200

    [PATCH] ini parser user friendliness

commit 072619835aa805f3335dca9d72f4d4eb1009aecd
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 10:51:12 2006 +0200

    [PATCH] Bad option clarifications (dump supported types)

commit 80b9feb08908e0493825043f807fcbea4591e09b
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 10:34:49 2006 +0200

    [PATCH] Convert some options to use check_strstore() if they only dupe the arg

commit 01452055af61d6f5de543575dba3ebb0c9e55fab
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 10:29:47 2006 +0200

    [PATCH] Add name=x option to name jobs
    
    This makes it easier to see what is going on with large job files.

commit 6796209a7e3d39522b0f5599aba277809786335e
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Jun 7 08:45:01 2006 +0200

    [PATCH] Shorten the file names, stupid to prefix everything with fio-

commit 592ef98a623407437c1807bc29deaa87726de5b4
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 20:58:57 2006 +0200

    [PATCH] Juggle some includes, add cscope make target

commit 3c39a379542fd819dbc5cf6daf59380911c39141
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 20:56:12 2006 +0200

    [PATCH] Split up fio.c into log/stat/time parts

commit e9b2a3fa90451c8390f8690f93d55fa0f52bf9d7
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 15:38:33 2006 +0200

    [PATCH] Change logging unit from MiB to KiB

commit 573a0b14e2a2891750b3b5b04e8b80867443826a
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 15:36:18 2006 +0200

    [PATCH] Aggregate bandwidth off-by 1.024

commit 4b5bd14ceeea40169a309c56c583ea0551cc12ed
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 10:06:42 2006 +0200

    [PATCH] Cleanup allocation frees on exit

commit da86774e5a002acf2c8d779b805305bc193fc0a5
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 10:39:10 2006 -0700

    [PATCH] Add ioscheduler=x option to allow setting io scheduler

commit 4e0ba8af8f0bfe0f194122661c8a659c2ac748e6
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 09:36:28 2006 +0200

    [PATCH] Add exec_prerun/exec_postrun options
    
    Allows one to specify a command line program to run before and
    after job io has finished.

commit ef899b6393c43abd655ad2cbc22de18b88a101f8
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 09:31:00 2006 +0200

    [PATCH] Dynamically allocate the big filename entries in td

commit 59b0f33bbaa635788354ba5de17251facf9590aa
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 09:25:57 2006 +0200

    [PATCH] Remove debug printf() in read/write_iolog setup

commit 1053a1069b558b829d345885d307f7b5c17b06e2
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jun 6 09:23:13 2006 +0200

    [PATCH] Add link to Pascal's RPM repository

commit 573275e7e119984e895d709f95cffc399bd39db8
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jun 5 12:20:20 2006 +0200

    [PATCH] Fio 1.4

commit 4f97e0046deb9729371404a2919d9461939db5d7
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 2 11:09:25 2006 +0200

    [PATCH] Fixup merge error

commit a12fc0225482bd1580a332312f2a60f73a9ebc28
Merge: b6f4d88 843a741
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 2 10:53:49 2006 +0200

    Merge branch 'master' of ssh://router/data/git/fio
    
    Conflicts:
    
    	fio.h

commit b6f4d8804ad499adf10b4cad0657284a8a4a6287
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 2 10:32:51 2006 +0200

    [PATCH] Add support for specifying job nice value with nice=x

commit a6ccc7be771650f903ea77ace2a1af593622c0f4
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jun 2 10:14:15 2006 +0200

    [PATCH] Add support for specifying read/write mix workloads better
    
    Added options:
    
    - rwmixcycle=x, use x msecs as the cycle period for read/write switches
    - rwmixread=x, x% of ios will be reads
    - rwmixwrite=x, x% of ios will be writes
    
    Last given of the latter two will override the first.

commit 843a741389226f5f2d0ce8636cd57532be9b7e4d
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 1 21:14:21 2006 -0700

    [PATCH] Add write_iolog support

commit 200bc855d16b5316933779fa554479e477084b01
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 1 16:10:12 2006 +0200

    [PATCH] More 32-bit fixes (unsigned long -> unsigned long long conversions)

commit 085227ad17c4974e334450302ef8fe1b41ba227e
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 1 15:54:09 2006 -0700

    [PATCH] Fix random io truncate on 32-bit archs

commit 751548451d969148529b642c05e7544726ec3b64
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jun 1 13:56:09 2006 +0200

    [PATCH] Introduce an extra runstate for monitoring thread startup
    
    This way we can detect whether a thread is hanging in init, and take
    it down after a timeout. This would have caught the /dev/random
    problems fixed yesterday.
    
    Also limit the Client message printed at the beginnig, to only show
    the first and last of identical job types instead of everything
    in between.

commit d07f439ead57caecbcf4e049d322c17be92bc99b
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 31 20:43:01 2006 +0200

    [PATCH] Fixup stat queue file read
    
    Apparently a stat file got added to the partition directory as
    well, which broke the lookup.

commit 1ac267bb7dd678fa12bb3573c29cff5238ef9ccf
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 31 20:29:00 2006 +0200

    [PATCH] Use /dev/urandom instead of /dev/random
    
    We are not cryptographic software, and with many threads it's
    actually possible to run out of entropy.

commit fcb6ade236bd9b1d99cfc3deba24a1ca9f5fb0a6
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 31 12:14:35 2006 +0200

    [PATCH] Don't allow mlock of more than real_mem-128MiB

commit 4efa970e05d33a280976402da55a93fca0cc8a19
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 31 11:56:49 2006 +0200

    [PATCH] Use mmap for mlocked memory

commit a4e167ee3ba40cb0587cf27dca2a9f8b947e568a
Merge: c04f7ec 1bb6b2a
Author: Jens Axboe <axboe@nelson.home.kernel.dk>
Date:   Wed May 31 10:16:18 2006 +0200

    Merge branch 'master' of ssh://router/data/git/fio

commit c04f7ec3ecb8ce780bde6ad3515f003e6015c62a
Author: Jens Axboe <axboe@suse.de>
Date:   Wed May 31 10:13:16 2006 +0200

    [PATCH] Add lockmem=x option to pin memory

commit 1bb6b2a5c9b79af8ca03e8e29ad2a2eb3e6d83e7
Merge: b6754f9 9d0d424
Author: Jens Axboe <axboe@ml370.home.kernel.dk>
Date:   Tue May 30 14:29:37 2006 +0200

    Merge branch 'master' of router:/data/git/fio

commit b6754f9d3f719627d8aae4c3e8f39212d9405f99
Author: Jens Axboe <axboe@suse.de>
Date:   Tue May 30 14:29:32 2006 +0200

    [PATCH] More string fixups

commit 9d0d424761eeff6e8a88103c23d9bdf481a97d8e
Author: Jens Axboe <axboe@suse.de>
Date:   Tue May 30 13:45:51 2006 +0200

    [PATCH] End stripping exposed suffix bug

commit 4ae3f76333bf2382e516db0b5c202b8982b1170f
Author: Jens Axboe <axboe@suse.de>
Date:   Tue May 30 13:35:14 2006 +0200

    [PATCH] String and thread inherit fixes

commit fc1a471326fb5248a74ed3a206d37884b812c853
Author: Jens Axboe <axboe@suse.de>
Date:   Tue May 30 13:04:05 2006 +0200

    [PATCH] Add end_fsync option

commit 3feedc608f168479bde2f2e079cedd6852cb3b3b
Author: Jens Axboe <axboe@suse.de>
Date:   Sun May 28 20:13:51 2006 +0200

    [PATCH] splice fixes

commit 51852280c02ed3a3dbac4346b9dd1ec7cc7ca8ca
Author: Jens Axboe <axboe@suse.de>
Date:   Sat May 27 20:32:34 2006 +0200

    [PATCH] fio_spliceio_event() used wrong private type

commit 8756e4d421722eaeb089067aeaaf317d05d53a57
Author: Jens Axboe <axboe@suse.de>
Date:   Sat May 27 20:24:53 2006 +0200

    [PATCH] Support for splice IO engine

commit c9fad893e8333682d6ab67a269b0dd74f303c5bc
Author: Jens Axboe <axboe@suse.de>
Date:   Sat May 27 17:26:50 2006 +0200

    [PATCH] Allow job file to be last argument
    
    Use fio -f <jobfile> or just fio <jobfile>

commit aea47d444b02bd7c622f82bb73151fd7136a499f
Author: Jens Axboe <axboe@suse.de>
Date:   Fri May 26 19:27:29 2006 +0200

    [PATCH] Support for specifying exact io pattern
    
    iolog=foo option added, when given fio will read the io pattern
    from it and replay it.

commit 4785f99523f5c69635eb4bd826f25cd2e264cda7
Author: Jens Axboe <axboe@suse.de>
Date:   Fri May 26 03:59:10 2006 +0200

    [PATCH] Add -h help option

commit 2f844d305f4b3cda8af0e53dc8873cfd899c5855
Author: Jens Axboe <axboe@suse.de>
Date:   Thu May 25 23:01:01 2006 +0200

    [PATCH] Only fsync on close if fsync= given

commit 3d60d1ed78b663659967e04cc92e1359bd50fb3a
Author: Jens Axboe <axboe@suse.de>
Date:   Thu May 25 06:31:06 2006 +0200

    [PATCH] Add support for read/write mixed io

commit 8b611c349e3d6f17b4f1aa61cdb0f1ad5a4e1eb9
Author: Jens Axboe <axboe@suse.de>
Date:   Thu May 25 01:46:59 2006 +0200

    [PATCH] ETA fixes

commit f3a4ef5e991972a0e372adba766ec0ef568019ab
Author: Jens Axboe <axboe@suse.de>
Date:   Thu May 25 01:30:48 2006 +0200

    [PATCH] cleanup sg ioctl vs read approach

commit eba09dd3809a1af93de79996cf9945f7b895f35f
Author: Jens Axboe <axboe@suse.de>
Date:   Mon May 22 20:20:54 2006 +0200

    [PATCH] Allow proper sharing of files

commit e8e387c14948e0a038660e69ace4efa13cdfd3af
Author: Jens Axboe <axboe@suse.de>
Date:   Fri May 5 11:11:22 2006 +0200

    [PATCH] Update version string, fix offset bug

commit 6a0106a0ffb486d19ba8c1796b436c8ecdf64ed6
Author: Jens Axboe <axboe@suse.de>
Date:   Fri May 5 10:34:43 2006 +0200

    [PATCH] Fix ETA display
    
    Should be precise within the limits of the knowledge we have.

commit 5f2b7b5e41487109a6aebd80cb8c2c7ce900d47e
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Feb 17 11:34:47 2006 +0100

    [PATCH] Silence bogus gcc 4.x warnings

commit b1ff34038687057f1365d31e3eb3dc2e31ecac28
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Feb 17 11:35:58 2006 +0100

    [PATCH] Support for multiple queued commands with read/write SG v3 io

commit 0af7b542b69af5ab2400a9960a5bcde82c05723f
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Feb 17 10:10:12 2006 +0100

    [PATCH] Add support for the read/write interface of SG v3

commit ba4f8923a7d7b02e69f6daee8dee5ed6e44722ce
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jan 26 13:45:54 2006 -0800

    [PATCH] Woops, forgot to define FIO_HAVE_IOPRIO for Linux

commit 64cb3e1035e2d6b32ed1390369501e4a7aec52a8
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jan 26 11:04:48 2006 -0800

    [PATCH] sysfs layout fix for md

commit 838a3cd3b7587d3188dc0c75ec73ca068430f01b
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 20 12:38:29 2006 +0100

    [PATCH] Fix offset/size setting problem
    
    Add ->real_file_size, as ->file_size is the io size. Otherwise we don't
    know if an offset + size is valid. This fixes the bug of offset >= size,
    if size is set smaller than the device/file size.

commit 9104f874d726e84739d3b4008eee0f6ddfe96714
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Dec 28 23:50:45 2005 +0100

    [PATCH] 32-bit fixes
    
    Need to bump some variables to full 64-bits on 32-bit archs as well.

commit 9e4feae28a881e5235130f001b956a709996d7ad
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Dec 12 20:24:30 2005 +0100

    [PATCH] examples/disk-zone-profile added

commit 0d98aadc08078b16506ea5b3ceb9a93d36bbe038
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Dec 12 16:29:20 2005 +0100

    [PATCH] Misc minor fixes
    
    - examples/aio-read needs size=
    - check ->zone_skip before doing division, ->zone_size is always set.

commit 20dc95c47087d486b5d4608fc15b1c2021761923
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Dec 9 10:29:35 2005 +0100

    [PATCH] Add support for zoned io sections

commit 5289b84775b17eaf2a05481033761f100d5a01e2
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 20:47:28 2005 +0100

    [PATCH] Include ETA for job(s) to finish

commit 77cf8455a12a36b060b1a7085ba2de7e42b3966f
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 20:09:36 2005 +0100

    [PATCH] Kill ->cur_off, always just lseek() in sync ->io_prep

commit f5d3e5ec43653859e744225cc585757e77e4dbdc
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 20:05:38 2005 +0100

    [PATCH] Further job parsing fixes

commit 01617be6d951cf10dd92783e61b4393404544e47
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 19:50:40 2005 +0100

    [PATCH] Fixup check_range() so it accepts any combination of suffixes

commit 3e7ba7c56d4bea0f4df1ffd0137a352dbbe33d43
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 15:44:53 2005 +0100

    [PATCH] Bump version to 1.1 for release

commit 2b02b546490c4f026e60fe0512f418613da535f5
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 15:29:14 2005 +0100

    [PATCH] Add reference to git/http resources

commit ebac4655dd3624f3296ff83be48e0cdc02852f18
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Dec 8 15:25:21 2005 +0100

    Move fio to seperate repo
